2025-08-19T12:10:17.6516994Z Current runner version: '2.327.1'
2025-08-19T12:10:17.6541815Z ##[group]Runner Image Provisioner
2025-08-19T12:10:17.6542618Z Hosted Compute Agent
2025-08-19T12:10:17.6543251Z Version: 20250818.377
2025-08-19T12:10:17.6543833Z Commit: 3c593e9f75fe0b87e893bca80d6e12ba089c61fc
2025-08-19T12:10:17.6544531Z Build Date: 2025-08-18T14:52:18Z
2025-08-19T12:10:17.6545082Z ##[endgroup]
2025-08-19T12:10:17.6545737Z ##[group]Operating System
2025-08-19T12:10:17.6546257Z Ubuntu
2025-08-19T12:10:17.6546717Z 24.04.2
2025-08-19T12:10:17.6547222Z LTS
2025-08-19T12:10:17.6547677Z ##[endgroup]
2025-08-19T12:10:17.6548145Z ##[group]Runner Image
2025-08-19T12:10:17.6548746Z Image: ubuntu-24.04
2025-08-19T12:10:17.6549430Z Version: 20250810.1.0
2025-08-19T12:10:17.6550412Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250810.1/images/ubuntu/Ubuntu2404-Readme.md
2025-08-19T12:10:17.6552349Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250810.1
2025-08-19T12:10:17.6553289Z ##[endgroup]
2025-08-19T12:10:17.6555924Z ##[group]GITHUB_TOKEN Permissions
2025-08-19T12:10:17.6558084Z Actions: write
2025-08-19T12:10:17.6558732Z Attestations: write
2025-08-19T12:10:17.6559221Z Checks: write
2025-08-19T12:10:17.6559787Z Contents: write
2025-08-19T12:10:17.6560305Z Deployments: write
2025-08-19T12:10:17.6560827Z Discussions: write
2025-08-19T12:10:17.6561501Z Issues: write
2025-08-19T12:10:17.6562050Z Metadata: read
2025-08-19T12:10:17.6562521Z Models: read
2025-08-19T12:10:17.6563004Z Packages: write
2025-08-19T12:10:17.6563450Z Pages: write
2025-08-19T12:10:17.6564015Z PullRequests: write
2025-08-19T12:10:17.6564566Z RepositoryProjects: write
2025-08-19T12:10:17.6565073Z SecurityEvents: write
2025-08-19T12:10:17.6565764Z Statuses: write
2025-08-19T12:10:17.6566228Z ##[endgroup]
2025-08-19T12:10:17.6568219Z Secret source: Actions
2025-08-19T12:10:17.6569044Z Prepare workflow directory
2025-08-19T12:10:17.7008244Z Prepare all required actions
2025-08-19T12:10:17.7046006Z Getting action download info
2025-08-19T12:10:18.0819702Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-08-19T12:10:18.4656172Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2025-08-19T12:10:18.8691499Z Download action repository 'actions/cache@v4' (SHA:0400d5f644dc74513175e3cd8d07132dd4860809)
2025-08-19T12:10:19.2803171Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-08-19T12:10:19.3674120Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2025-08-19T12:10:19.8346689Z Complete job name: test
2025-08-19T12:10:19.8934629Z ##[group]Checking docker version
2025-08-19T12:10:19.8948333Z ##[command]/usr/bin/docker version --format '{{.Server.APIVersion}}'
2025-08-19T12:10:19.9419309Z '1.48'
2025-08-19T12:10:19.9432743Z Docker daemon API version: '1.48'
2025-08-19T12:10:19.9434132Z ##[command]/usr/bin/docker version --format '{{.Client.APIVersion}}'
2025-08-19T12:10:19.9598785Z '1.48'
2025-08-19T12:10:19.9612678Z Docker client API version: '1.48'
2025-08-19T12:10:19.9618500Z ##[endgroup]
2025-08-19T12:10:19.9622108Z ##[group]Clean up resources from previous jobs
2025-08-19T12:10:19.9628418Z ##[command]/usr/bin/docker ps --all --quiet --no-trunc --filter "label=69ce42"
2025-08-19T12:10:19.9767818Z ##[command]/usr/bin/docker network prune --force --filter "label=69ce42"
2025-08-19T12:10:19.9893653Z ##[endgroup]
2025-08-19T12:10:19.9894504Z ##[group]Create local container network
2025-08-19T12:10:19.9905526Z ##[command]/usr/bin/docker network create --label 69ce42 github_network_51a65e9f35454b429e3d442db0c3f377
2025-08-19T12:10:20.0410330Z 1e115aaefbbc0cc06a5af8073944fcb4babcfd89fe3f6afc35742f95c9644891
2025-08-19T12:10:20.0428574Z ##[endgroup]
2025-08-19T12:10:20.0454326Z ##[group]Starting postgres service container
2025-08-19T12:10:20.0474218Z ##[command]/usr/bin/docker pull postgres:15
2025-08-19T12:10:20.4498980Z 15: Pulling from library/postgres
2025-08-19T12:10:20.6381852Z 396b1da7636e: Pulling fs layer
2025-08-19T12:10:20.6382530Z fca2566eba32: Pulling fs layer
2025-08-19T12:10:20.6383184Z 631fe8c6d606: Pulling fs layer
2025-08-19T12:10:20.6383734Z 77c7671c4414: Pulling fs layer
2025-08-19T12:10:20.6384331Z 2d9e29180a27: Pulling fs layer
2025-08-19T12:10:20.6384813Z c6bcc2c9a041: Pulling fs layer
2025-08-19T12:10:20.6385392Z ac4b721eb66f: Pulling fs layer
2025-08-19T12:10:20.6386016Z 606bd164980e: Pulling fs layer
2025-08-19T12:10:20.6389227Z f5dfd246bc6e: Pulling fs layer
2025-08-19T12:10:20.6389834Z ba7036bb0a60: Pulling fs layer
2025-08-19T12:10:20.6390517Z 799f859abbbd: Pulling fs layer
2025-08-19T12:10:20.6391040Z d903e777080c: Pulling fs layer
2025-08-19T12:10:20.6391708Z 04adcb462801: Pulling fs layer
2025-08-19T12:10:20.6392118Z 5c10925b29ff: Pulling fs layer
2025-08-19T12:10:20.6392497Z 77c7671c4414: Waiting
2025-08-19T12:10:20.6392815Z 2d9e29180a27: Waiting
2025-08-19T12:10:20.6393132Z c6bcc2c9a041: Waiting
2025-08-19T12:10:20.6393463Z f5dfd246bc6e: Waiting
2025-08-19T12:10:20.6393769Z 606bd164980e: Waiting
2025-08-19T12:10:20.6394083Z ac4b721eb66f: Waiting
2025-08-19T12:10:20.6394386Z 04adcb462801: Waiting
2025-08-19T12:10:20.6394696Z ba7036bb0a60: Waiting
2025-08-19T12:10:20.6395001Z d903e777080c: Waiting
2025-08-19T12:10:20.6395304Z 799f859abbbd: Waiting
2025-08-19T12:10:20.6395625Z 5c10925b29ff: Waiting
2025-08-19T12:10:20.7551674Z fca2566eba32: Verifying Checksum
2025-08-19T12:10:20.7552891Z fca2566eba32: Download complete
2025-08-19T12:10:20.7797075Z 631fe8c6d606: Verifying Checksum
2025-08-19T12:10:20.7801311Z 631fe8c6d606: Download complete
2025-08-19T12:10:20.8837835Z 77c7671c4414: Verifying Checksum
2025-08-19T12:10:20.8839212Z 77c7671c4414: Download complete
2025-08-19T12:10:20.9300067Z 2d9e29180a27: Verifying Checksum
2025-08-19T12:10:20.9300782Z 2d9e29180a27: Download complete
2025-08-19T12:10:20.9447539Z 396b1da7636e: Verifying Checksum
2025-08-19T12:10:20.9448162Z 396b1da7636e: Download complete
2025-08-19T12:10:21.0239717Z c6bcc2c9a041: Verifying Checksum
2025-08-19T12:10:21.0241301Z c6bcc2c9a041: Download complete
2025-08-19T12:10:21.0525331Z ac4b721eb66f: Verifying Checksum
2025-08-19T12:10:21.0526917Z ac4b721eb66f: Download complete
2025-08-19T12:10:21.0576377Z 606bd164980e: Verifying Checksum
2025-08-19T12:10:21.1642686Z 606bd164980e: Download complete
2025-08-19T12:10:21.1645664Z 799f859abbbd: Verifying Checksum
2025-08-19T12:10:21.1646309Z 799f859abbbd: Download complete
2025-08-19T12:10:21.1770870Z ba7036bb0a60: Verifying Checksum
2025-08-19T12:10:21.1772328Z ba7036bb0a60: Download complete
2025-08-19T12:10:21.2781971Z d903e777080c: Verifying Checksum
2025-08-19T12:10:21.2797459Z d903e777080c: Download complete
2025-08-19T12:10:21.2798194Z 04adcb462801: Verifying Checksum
2025-08-19T12:10:21.2798752Z 04adcb462801: Download complete
2025-08-19T12:10:21.3854130Z 5c10925b29ff: Verifying Checksum
2025-08-19T12:10:21.3854773Z 5c10925b29ff: Download complete
2025-08-19T12:10:21.6967981Z f5dfd246bc6e: Verifying Checksum
2025-08-19T12:10:21.6968758Z f5dfd246bc6e: Download complete
2025-08-19T12:10:22.0169239Z 396b1da7636e: Pull complete
2025-08-19T12:10:23.6463557Z fca2566eba32: Pull complete
2025-08-19T12:10:23.8160124Z 631fe8c6d606: Pull complete
2025-08-19T12:10:23.8578343Z 77c7671c4414: Pull complete
2025-08-19T12:10:24.1594543Z 2d9e29180a27: Pull complete
2025-08-19T12:10:24.2384480Z c6bcc2c9a041: Pull complete
2025-08-19T12:10:24.2495470Z ac4b721eb66f: Pull complete
2025-08-19T12:10:24.2593888Z 606bd164980e: Pull complete
2025-08-19T12:10:27.1468495Z f5dfd246bc6e: Pull complete
2025-08-19T12:10:27.1634183Z ba7036bb0a60: Pull complete
2025-08-19T12:10:27.1741327Z 799f859abbbd: Pull complete
2025-08-19T12:10:27.1847307Z d903e777080c: Pull complete
2025-08-19T12:10:27.1963745Z 04adcb462801: Pull complete
2025-08-19T12:10:27.2065701Z 5c10925b29ff: Pull complete
2025-08-19T12:10:27.2105880Z Digest: sha256:bc51cf4f1fe02cce7ed2370b20128a9b00b4eb804573a77d2a0d877aaa9c82b1
2025-08-19T12:10:27.2118911Z Status: Downloaded newer image for postgres:15
2025-08-19T12:10:27.2129272Z docker.io/library/postgres:15
2025-08-19T12:10:27.2191368Z ##[command]/usr/bin/docker create --name 5f5ece33a82341f28bb961bb58baea41_postgres15_0331f2 --label 69ce42 --network github_network_51a65e9f35454b429e3d442db0c3f377 --network-alias postgres -p 5432:5432 --health-cmd="pg_isready -U postgres -d awa" --health-interval=5s --health-timeout=5s --health-retries=10 -e "POSTGRES_USER=postgres" -e "POSTGRES_PASSWORD=pass" -e "POSTGRES_DB=awa" -e GITHUB_ACTIONS=true -e CI=true postgres:15
2025-08-19T12:10:27.2452253Z 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:27.2475908Z ##[command]/usr/bin/docker start 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:27.4216240Z 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:27.4235339Z ##[command]/usr/bin/docker ps --all --filter id=73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85 --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-08-19T12:10:27.4362896Z 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85 Up Less than a second (health: starting)
2025-08-19T12:10:27.4384151Z ##[command]/usr/bin/docker port 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:27.4511881Z 5432/tcp -> 0.0.0.0:5432
2025-08-19T12:10:27.4512435Z 5432/tcp -> [::]:5432
2025-08-19T12:10:27.4558969Z ##[endgroup]
2025-08-19T12:10:27.4559831Z ##[group]Starting redis service container
2025-08-19T12:10:27.4561054Z ##[command]/usr/bin/docker pull redis:7-alpine
2025-08-19T12:10:27.8285743Z 7-alpine: Pulling from library/redis
2025-08-19T12:10:27.9422052Z 0368fd46e3c6: Pulling fs layer
2025-08-19T12:10:27.9422776Z 4c55286bbede: Pulling fs layer
2025-08-19T12:10:27.9423163Z 5e28347af205: Pulling fs layer
2025-08-19T12:10:27.9423524Z 311eca34042e: Pulling fs layer
2025-08-19T12:10:27.9423920Z e6fe6f07e192: Pulling fs layer
2025-08-19T12:10:27.9424275Z a2cadbfeca72: Pulling fs layer
2025-08-19T12:10:27.9424673Z 4f4fb700ef54: Pulling fs layer
2025-08-19T12:10:27.9425070Z a976ed7e7808: Pulling fs layer
2025-08-19T12:10:27.9425429Z a2cadbfeca72: Waiting
2025-08-19T12:10:27.9425747Z 311eca34042e: Waiting
2025-08-19T12:10:27.9426056Z 4f4fb700ef54: Waiting
2025-08-19T12:10:27.9426383Z a976ed7e7808: Waiting
2025-08-19T12:10:27.9426678Z e6fe6f07e192: Waiting
2025-08-19T12:10:28.0484386Z 4c55286bbede: Download complete
2025-08-19T12:10:28.0718526Z 0368fd46e3c6: Verifying Checksum
2025-08-19T12:10:28.0718971Z 0368fd46e3c6: Download complete
2025-08-19T12:10:28.0731431Z 5e28347af205: Verifying Checksum
2025-08-19T12:10:28.0732224Z 5e28347af205: Download complete
2025-08-19T12:10:28.1566594Z 311eca34042e: Verifying Checksum
2025-08-19T12:10:28.1567353Z 311eca34042e: Download complete
2025-08-19T12:10:28.1842674Z 0368fd46e3c6: Pull complete
2025-08-19T12:10:28.1963818Z a2cadbfeca72: Verifying Checksum
2025-08-19T12:10:28.1964300Z a2cadbfeca72: Download complete
2025-08-19T12:10:28.2070175Z 4c55286bbede: Pull complete
2025-08-19T12:10:28.2765605Z 4f4fb700ef54: Download complete
2025-08-19T12:10:28.3207863Z a976ed7e7808: Verifying Checksum
2025-08-19T12:10:28.3208683Z a976ed7e7808: Download complete
2025-08-19T12:10:28.3540422Z 5e28347af205: Pull complete
2025-08-19T12:10:28.3817780Z 311eca34042e: Pull complete
2025-08-19T12:10:28.4470252Z e6fe6f07e192: Verifying Checksum
2025-08-19T12:10:28.4470697Z e6fe6f07e192: Download complete
2025-08-19T12:10:28.6248124Z e6fe6f07e192: Pull complete
2025-08-19T12:10:28.6332035Z a2cadbfeca72: Pull complete
2025-08-19T12:10:28.6418547Z 4f4fb700ef54: Pull complete
2025-08-19T12:10:28.6516032Z a976ed7e7808: Pull complete
2025-08-19T12:10:28.6552955Z Digest: sha256:bb186d083732f669da90be8b0f975a37812b15e913465bb14d845db72a4e3e08
2025-08-19T12:10:28.6564560Z Status: Downloaded newer image for redis:7-alpine
2025-08-19T12:10:28.6572003Z docker.io/library/redis:7-alpine
2025-08-19T12:10:28.6588871Z ##[command]/usr/bin/docker create --name 836a4584ef774fb1a4c7fcf6f4ddfcb7_redis7alpine_b9ae75 --label 69ce42 --network github_network_51a65e9f35454b429e3d442db0c3f377 --network-alias redis -p 6379:6379  -e GITHUB_ACTIONS=true -e CI=true redis:7-alpine
2025-08-19T12:10:28.6803392Z 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:10:28.6816753Z ##[command]/usr/bin/docker start 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:10:28.8108687Z 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:10:28.8127923Z ##[command]/usr/bin/docker ps --all --filter id=8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58 --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-08-19T12:10:28.8243435Z 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58 Up Less than a second
2025-08-19T12:10:28.8256564Z ##[command]/usr/bin/docker port 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:10:28.8365510Z 6379/tcp -> 0.0.0.0:6379
2025-08-19T12:10:28.8365927Z 6379/tcp -> [::]:6379
2025-08-19T12:10:28.8378939Z ##[endgroup]
2025-08-19T12:10:28.8390056Z ##[group]Waiting for all services to be ready
2025-08-19T12:10:28.8405188Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:28.8520289Z starting
2025-08-19T12:10:28.8542267Z postgres service is starting, waiting 2 seconds before checking again.
2025-08-19T12:10:30.8553773Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:30.8669024Z starting
2025-08-19T12:10:30.8682521Z postgres service is starting, waiting 3 seconds before checking again.
2025-08-19T12:10:34.5868579Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:10:34.5984637Z healthy
2025-08-19T12:10:34.6000618Z postgres service is healthy.
2025-08-19T12:10:34.6001633Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:10:34.6125236Z redis service is healthy.
2025-08-19T12:10:34.6125865Z ##[endgroup]
2025-08-19T12:10:34.6366445Z ##[group]Run actions/checkout@v4
2025-08-19T12:10:34.6366982Z with:
2025-08-19T12:10:34.6367162Z   fetch-depth: 0
2025-08-19T12:10:34.6367365Z   repository: AlexBomber12/AWA-App
2025-08-19T12:10:34.6367723Z   token: ***
2025-08-19T12:10:34.6367902Z   ssh-strict: true
2025-08-19T12:10:34.6368085Z   ssh-user: git
2025-08-19T12:10:34.6368276Z   persist-credentials: true
2025-08-19T12:10:34.6368488Z   clean: true
2025-08-19T12:10:34.6368683Z   sparse-checkout-cone-mode: true
2025-08-19T12:10:34.6368902Z   fetch-tags: false
2025-08-19T12:10:34.6369085Z   show-progress: true
2025-08-19T12:10:34.6369285Z   lfs: false
2025-08-19T12:10:34.6369449Z   submodules: false
2025-08-19T12:10:34.6369628Z   set-safe-directory: true
2025-08-19T12:10:34.6369997Z env:
2025-08-19T12:10:34.6370203Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:10:34.6370463Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:10:34.6370672Z   TRUST_X_FORWARDED: 1
2025-08-19T12:10:34.6370856Z ##[endgroup]
2025-08-19T12:10:34.7425881Z Syncing repository: AlexBomber12/AWA-App
2025-08-19T12:10:34.7427291Z ##[group]Getting Git version info
2025-08-19T12:10:34.7427674Z Working directory is '/home/runner/work/AWA-App/AWA-App'
2025-08-19T12:10:34.7428192Z [command]/usr/bin/git version
2025-08-19T12:10:34.7462850Z git version 2.50.1
2025-08-19T12:10:34.7487901Z ##[endgroup]
2025-08-19T12:10:34.7501751Z Temporarily overriding HOME='/home/runner/work/_temp/9d4e303c-2abd-4e69-ace7-eb9d783d1a82' before making global git config changes
2025-08-19T12:10:34.7502999Z Adding repository directory to the temporary git global config as a safe directory
2025-08-19T12:10:34.7508046Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-19T12:10:34.7541341Z Deleting the contents of '/home/runner/work/AWA-App/AWA-App'
2025-08-19T12:10:34.7544742Z ##[group]Initializing the repository
2025-08-19T12:10:34.7549022Z [command]/usr/bin/git init /home/runner/work/AWA-App/AWA-App
2025-08-19T12:10:34.7604894Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-08-19T12:10:34.7605810Z hint: is subject to change. To configure the initial branch name to use in all
2025-08-19T12:10:34.7606503Z hint: of your new repositories, which will suppress this warning, call:
2025-08-19T12:10:34.7607048Z hint:
2025-08-19T12:10:34.7607321Z hint: 	git config --global init.defaultBranch <name>
2025-08-19T12:10:34.7607608Z hint:
2025-08-19T12:10:34.7607872Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-08-19T12:10:34.7608346Z hint: 'development'. The just-created branch can be renamed via this command:
2025-08-19T12:10:34.7608716Z hint:
2025-08-19T12:10:34.7608903Z hint: 	git branch -m <name>
2025-08-19T12:10:34.7609114Z hint:
2025-08-19T12:10:34.7609441Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-08-19T12:10:34.7610346Z Initialized empty Git repository in /home/runner/work/AWA-App/AWA-App/.git/
2025-08-19T12:10:34.7621770Z [command]/usr/bin/git remote add origin https://github.com/AlexBomber12/AWA-App
2025-08-19T12:10:34.7651973Z ##[endgroup]
2025-08-19T12:10:34.7652578Z ##[group]Disabling automatic garbage collection
2025-08-19T12:10:34.7656965Z [command]/usr/bin/git config --local gc.auto 0
2025-08-19T12:10:34.7684311Z ##[endgroup]
2025-08-19T12:10:34.7684928Z ##[group]Setting up auth
2025-08-19T12:10:34.7691804Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-19T12:10:34.7721655Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-19T12:10:34.7975267Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-19T12:10:34.8004529Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-19T12:10:34.8223291Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-08-19T12:10:34.8264855Z ##[endgroup]
2025-08-19T12:10:34.8265442Z ##[group]Fetching the repository
2025-08-19T12:10:34.8273992Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/* +a7b67a2c80725dc85f1a70872cbab7112b435114:refs/remotes/pull/274/merge
2025-08-19T12:10:36.7471359Z From https://github.com/AlexBomber12/AWA-App
2025-08-19T12:10:36.7472562Z  * [new branch]        codex/analyze-ci-logs-and-implement-fixes -> origin/codex/analyze-ci-logs-and-implement-fixes
2025-08-19T12:10:36.7474088Z  * [new branch]        codex/fix-ci-workflows-based-on-logs-analysis -> origin/codex/fix-ci-workflows-based-on-logs-analysis
2025-08-19T12:10:36.7475812Z  * [new branch]        codex/fix-ci-workflows-based-on-logs-analysis-mu9c9o -> origin/codex/fix-ci-workflows-based-on-logs-analysis-mu9c9o
2025-08-19T12:10:36.7477278Z  * [new branch]        codex/implement-ingest/etl-tests-pr#2    -> origin/codex/implement-ingest/etl-tests-pr#2
2025-08-19T12:10:36.7479275Z  * [new branch]        codex/implement-pr#3-api-roi-filters-and-/score-endpoint -> origin/codex/implement-pr#3-api-roi-filters-and-/score-endpoint
2025-08-19T12:10:36.7481791Z  * [new branch]        codex/implement-testing-infrastructure-updates -> origin/codex/implement-testing-infrastructure-updates
2025-08-19T12:10:36.7483380Z  * [new branch]        gh-pages                                 -> origin/gh-pages
2025-08-19T12:10:36.7485267Z  * [new branch]        main                                     -> origin/main
2025-08-19T12:10:36.7486909Z  * [new tag]           0.3.0                                    -> 0.3.0
2025-08-19T12:10:36.7490605Z  * [new ref]           a7b67a2c80725dc85f1a70872cbab7112b435114 -> pull/274/merge
2025-08-19T12:10:36.7525095Z ##[endgroup]
2025-08-19T12:10:36.7525753Z ##[group]Determining the checkout info
2025-08-19T12:10:36.7526430Z ##[endgroup]
2025-08-19T12:10:36.7531445Z [command]/usr/bin/git sparse-checkout disable
2025-08-19T12:10:36.7570735Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-08-19T12:10:36.7597735Z ##[group]Checking out the ref
2025-08-19T12:10:36.7602066Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/274/merge
2025-08-19T12:10:36.8047776Z Note: switching to 'refs/remotes/pull/274/merge'.
2025-08-19T12:10:36.8048175Z 
2025-08-19T12:10:36.8048515Z You are in 'detached HEAD' state. You can look around, make experimental
2025-08-19T12:10:36.8049305Z changes and commit them, and you can discard any commits you make in this
2025-08-19T12:10:36.8050067Z state without impacting any branches by switching back to a branch.
2025-08-19T12:10:36.8050523Z 
2025-08-19T12:10:36.8050805Z If you want to create a new branch to retain commits you create, you may
2025-08-19T12:10:36.8051714Z do so (now or later) by using -c with the switch command. Example:
2025-08-19T12:10:36.8052102Z 
2025-08-19T12:10:36.8052257Z   git switch -c <new-branch-name>
2025-08-19T12:10:36.8052520Z 
2025-08-19T12:10:36.8052658Z Or undo this operation with:
2025-08-19T12:10:36.8052904Z 
2025-08-19T12:10:36.8053022Z   git switch -
2025-08-19T12:10:36.8053194Z 
2025-08-19T12:10:36.8053586Z Turn off this advice by setting config variable advice.detachedHead to false
2025-08-19T12:10:36.8054058Z 
2025-08-19T12:10:36.8054630Z HEAD is now at a7b67a2c Merge c5f4f4c93ab392ccb0b065ba3ead9efe3a38ed63 into 9fd5af576c83357439a69dd4754615485aa5b2f2
2025-08-19T12:10:36.8063131Z ##[endgroup]
2025-08-19T12:10:36.8099091Z [command]/usr/bin/git log -1 --format=%H
2025-08-19T12:10:36.8120604Z a7b67a2c80725dc85f1a70872cbab7112b435114
2025-08-19T12:10:36.8282913Z ##[group]Run cat .env.ci >> "$GITHUB_ENV"
2025-08-19T12:10:36.8283298Z [36;1mcat .env.ci >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8283998Z [36;1mecho "DATABASE_URL=***localhost:5432/awa" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8284364Z [36;1mecho "PG_HOST=localhost" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8284689Z [36;1mecho "PG_PORT=5432" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8284967Z [36;1mecho "PG_USER=postgres" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8285243Z [36;1mecho "PG_PASSWORD=pass" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8285526Z [36;1mecho "PG_DATABASE=awa" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8285793Z [36;1mecho "TESTING=1" >> "$GITHUB_ENV"[0m
2025-08-19T12:10:36.8329968Z shell: /usr/bin/bash -e {0}
2025-08-19T12:10:36.8330208Z env:
2025-08-19T12:10:36.8330412Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:10:36.8330685Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:10:36.8330912Z   TRUST_X_FORWARDED: 1
2025-08-19T12:10:36.8331331Z ##[endgroup]
2025-08-19T12:10:36.8501561Z ##[group]Run actions/setup-python@v5
2025-08-19T12:10:36.8501843Z with:
2025-08-19T12:10:36.8502024Z   python-version: 3.12
2025-08-19T12:10:36.8502225Z   cache: pip
2025-08-19T12:10:36.8503008Z   cache-dependency-path: requirements-dev.txt
services/etl/requirements.txt
services/api/requirements.txt
services/repricer/requirements.txt
services/fees_h10/requirements.txt
services/alert_bot/requirements.txt

2025-08-19T12:10:36.8503852Z   check-latest: false
2025-08-19T12:10:36.8504163Z   token: ***
2025-08-19T12:10:36.8504353Z   update-environment: true
2025-08-19T12:10:36.8504570Z   allow-prereleases: false
2025-08-19T12:10:36.8504762Z   freethreaded: false
2025-08-19T12:10:36.8504940Z env:
2025-08-19T12:10:36.8505116Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:10:36.8505365Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:10:36.8505753Z   TRUST_X_FORWARDED: 1
2025-08-19T12:10:36.8505939Z   PG_USER: postgres
2025-08-19T12:10:36.8506112Z   PG_PASSWORD: pass
2025-08-19T12:10:36.8506328Z   PG_DATABASE: awa
2025-08-19T12:10:36.8506498Z   PG_HOST: localhost
2025-08-19T12:10:36.8506746Z   PG_PORT: 5432
2025-08-19T12:10:36.8507162Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:36.8507573Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:36.8507945Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:10:36.8508176Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:10:36.8508364Z   ENABLE_LIVE: 0
2025-08-19T12:10:36.8508530Z   TESTING: 1
2025-08-19T12:10:36.8508688Z ##[endgroup]
2025-08-19T12:10:37.0149316Z ##[group]Installed versions
2025-08-19T12:10:37.0230340Z Successfully set up CPython (3.12.11)
2025-08-19T12:10:37.0230956Z ##[endgroup]
2025-08-19T12:10:37.0588534Z [command]/opt/hostedtoolcache/Python/3.12.11/x64/bin/pip cache dir
2025-08-19T12:10:37.9489908Z /home/runner/.cache/pip
2025-08-19T12:10:38.1061770Z Cache hit for: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.11-pip-1e3bc7ba25bac47764d864e42cbf81e77f47563fc643eff52b873091f8e10ecf
2025-08-19T12:10:39.3037296Z Received 125829120 of 333749936 (37.7%), 120.0 MBs/sec
2025-08-19T12:10:40.3041045Z Received 268435456 of 333749936 (80.4%), 128.0 MBs/sec
2025-08-19T12:10:40.6216585Z Received 333749936 of 333749936 (100.0%), 137.3 MBs/sec
2025-08-19T12:10:40.6218728Z Cache Size: ~318 MB (333749936 B)
2025-08-19T12:10:40.6289224Z [command]/usr/bin/tar -xf /home/runner/work/_temp/b259c58e-66d9-4e32-bb0c-8c48b77744b0/cache.tzst -P -C /home/runner/work/AWA-App/AWA-App --use-compress-program unzstd
2025-08-19T12:10:41.1488982Z Cache restored successfully
2025-08-19T12:10:41.2118640Z Cache restored from key: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.11-pip-1e3bc7ba25bac47764d864e42cbf81e77f47563fc643eff52b873091f8e10ecf
2025-08-19T12:10:41.2820619Z ##[group]Run actions/cache@v4
2025-08-19T12:10:41.2820881Z with:
2025-08-19T12:10:41.2821109Z   path: ~/.cache/pip
.pytest_cache
~/.ruff_cache

2025-08-19T12:10:41.2821807Z   key: Linux-test-5e711acf40f5252f84577ca397f83ab64fb9d7dad68b245c8525eecd4c9b10ee
2025-08-19T12:10:41.2822220Z   restore-keys: Linux-test-
2025-08-19T12:10:41.2822451Z   enableCrossOsArchive: false
2025-08-19T12:10:41.2822675Z   fail-on-cache-miss: false
2025-08-19T12:10:41.2822883Z   lookup-only: false
2025-08-19T12:10:41.2823076Z   save-always: false
2025-08-19T12:10:41.2823246Z env:
2025-08-19T12:10:41.2823449Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:10:41.2823709Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:10:41.2823928Z   TRUST_X_FORWARDED: 1
2025-08-19T12:10:41.2824121Z   PG_USER: postgres
2025-08-19T12:10:41.2824313Z   PG_PASSWORD: pass
2025-08-19T12:10:41.2824492Z   PG_DATABASE: awa
2025-08-19T12:10:41.2824678Z   PG_HOST: localhost
2025-08-19T12:10:41.2824860Z   PG_PORT: 5432
2025-08-19T12:10:41.2825590Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:41.2826073Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:41.2826482Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:10:41.2826721Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:10:41.2826921Z   ENABLE_LIVE: 0
2025-08-19T12:10:41.2827098Z   TESTING: 1
2025-08-19T12:10:41.2827336Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:41.2827757Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:10:41.2828147Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:41.2828506Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:41.2828855Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:41.2829210Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:10:41.2829506Z ##[endgroup]
2025-08-19T12:10:41.5280651Z Cache hit for: Linux-test-5e711acf40f5252f84577ca397f83ab64fb9d7dad68b245c8525eecd4c9b10ee
2025-08-19T12:10:42.6588481Z Received 121634816 of 333755103 (36.4%), 116.0 MBs/sec
2025-08-19T12:10:43.6597202Z Received 268435456 of 333755103 (80.4%), 127.9 MBs/sec
2025-08-19T12:10:43.9905344Z Received 333755103 of 333755103 (100.0%), 136.5 MBs/sec
2025-08-19T12:10:43.9908031Z Cache Size: ~318 MB (333755103 B)
2025-08-19T12:10:44.0012394Z [command]/usr/bin/tar -xf /home/runner/work/_temp/e24e60f2-b9c7-4b19-ba9d-51c4468dd2e6/cache.tzst -P -C /home/runner/work/AWA-App/AWA-App --use-compress-program unzstd
2025-08-19T12:10:44.5667354Z Cache restored successfully
2025-08-19T12:10:44.6379335Z Cache restored from key: Linux-test-5e711acf40f5252f84577ca397f83ab64fb9d7dad68b245c8525eecd4c9b10ee
2025-08-19T12:10:44.6483834Z ##[group]Run pip install -r services/etl/requirements.txt
2025-08-19T12:10:44.6484291Z [36;1mpip install -r services/etl/requirements.txt[0m
2025-08-19T12:10:44.6484646Z [36;1mpip install -r services/api/requirements.txt[0m
2025-08-19T12:10:44.6484995Z [36;1mpip install -r services/repricer/requirements.txt[0m
2025-08-19T12:10:44.6485375Z [36;1mpip install -r services/fees_h10/requirements.txt[0m
2025-08-19T12:10:44.6485765Z [36;1mpip install -r services/alert_bot/requirements.txt[0m
2025-08-19T12:10:44.6486099Z [36;1mpip install -r requirements-dev.txt[0m
2025-08-19T12:10:44.6486367Z [36;1mpip install asyncpg[0m
2025-08-19T12:10:44.6486599Z [36;1mpip install pytest[0m
2025-08-19T12:10:44.6486847Z [36;1mpip install keepa==1.3.15 minio==7.1.15[0m
2025-08-19T12:10:44.6528675Z shell: /usr/bin/bash -e {0}
2025-08-19T12:10:44.6528917Z env:
2025-08-19T12:10:44.6529129Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:10:44.6529444Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:10:44.6529721Z   TRUST_X_FORWARDED: 1
2025-08-19T12:10:44.6529932Z   PG_USER: postgres
2025-08-19T12:10:44.6530120Z   PG_PASSWORD: pass
2025-08-19T12:10:44.6530307Z   PG_DATABASE: awa
2025-08-19T12:10:44.6530491Z   PG_HOST: localhost
2025-08-19T12:10:44.6530686Z   PG_PORT: 5432
2025-08-19T12:10:44.6531279Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:44.6531724Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:10:44.6532126Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:10:44.6532370Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:10:44.6532578Z   ENABLE_LIVE: 0
2025-08-19T12:10:44.6532761Z   TESTING: 1
2025-08-19T12:10:44.6533002Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:44.6533438Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:10:44.6533836Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:44.6534194Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:44.6534563Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:10:44.6534924Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:10:44.6535219Z ##[endgroup]
2025-08-19T12:10:46.1849144Z Collecting keepa==1.3.14 (from -r services/etl/requirements.txt (line 1))
2025-08-19T12:10:46.1862565Z   Using cached keepa-1.3.14-py3-none-any.whl.metadata (10 kB)
2025-08-19T12:10:46.2141347Z Collecting minio==7.1.15 (from -r services/etl/requirements.txt (line 2))
2025-08-19T12:10:46.2152815Z   Using cached minio-7.1.15-py3-none-any.whl.metadata (4.2 kB)
2025-08-19T12:10:46.2486224Z Collecting celery==5.3.* (from -r services/etl/requirements.txt (line 3))
2025-08-19T12:10:46.2497559Z   Using cached celery-5.3.6-py3-none-any.whl.metadata (21 kB)
2025-08-19T12:10:46.2964632Z Collecting redis==5.* (from -r services/etl/requirements.txt (line 4))
2025-08-19T12:10:46.2975861Z   Using cached redis-5.3.1-py3-none-any.whl.metadata (9.2 kB)
2025-08-19T12:10:46.3502202Z Collecting python-amazon-sp-api==0.8.0 (from -r services/etl/requirements.txt (line 5))
2025-08-19T12:10:46.3513590Z   Using cached python_amazon_sp_api-0.8.0-py3-none-any.whl.metadata (3.2 kB)
2025-08-19T12:10:46.3742918Z Collecting pydantic-settings==2.2.1 (from -r services/etl/requirements.txt (line 6))
2025-08-19T12:10:46.3754327Z   Using cached pydantic_settings-2.2.1-py3-none-any.whl.metadata (3.1 kB)
2025-08-19T12:10:46.5376420Z Collecting numpy<2 (from -r services/etl/requirements.txt (line 7))
2025-08-19T12:10:46.5389425Z   Using cached numpy-1.26.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (61 kB)
2025-08-19T12:10:46.6507390Z Collecting pandas==2.2.* (from -r services/etl/requirements.txt (line 8))
2025-08-19T12:10:46.6519652Z   Using cached pandas-2.2.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (89 kB)
2025-08-19T12:10:46.7135917Z Collecting pandera==0.19.* (from -r services/etl/requirements.txt (line 9))
2025-08-19T12:10:46.7147810Z   Using cached pandera-0.19.3-py3-none-any.whl.metadata (15 kB)
2025-08-19T12:10:46.7381950Z Collecting openpyxl==3.1.* (from -r services/etl/requirements.txt (line 10))
2025-08-19T12:10:46.7393832Z   Using cached openpyxl-3.1.5-py2.py3-none-any.whl.metadata (2.5 kB)
2025-08-19T12:10:46.7968046Z Collecting psycopg2-binary==2.9.* (from -r services/etl/requirements.txt (line 11))
2025-08-19T12:10:46.7979883Z   Using cached psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-19T12:10:46.8318543Z Collecting requests>=2.2 (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:46.8329443Z   Using cached requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
2025-08-19T12:10:46.8656814Z Collecting tqdm (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:46.8667958Z   Using cached tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
2025-08-19T12:10:47.3585668Z Collecting aiohttp (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:47.3599261Z   Using cached aiohttp-3.12.15-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
2025-08-19T12:10:47.4750689Z Collecting pydantic (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:47.4763846Z   Using cached pydantic-2.11.7-py3-none-any.whl.metadata (67 kB)
2025-08-19T12:10:47.4973020Z Collecting certifi (from minio==7.1.15->-r services/etl/requirements.txt (line 2))
2025-08-19T12:10:47.4983933Z   Using cached certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
2025-08-19T12:10:47.5211466Z Collecting urllib3 (from minio==7.1.15->-r services/etl/requirements.txt (line 2))
2025-08-19T12:10:47.5222825Z   Using cached urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
2025-08-19T12:10:47.5355018Z Collecting six<2,>=1.15 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:47.5366130Z   Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
2025-08-19T12:10:47.9592985Z Collecting boto3<2,>=1.16.39 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:47.9606152Z   Using cached boto3-1.40.12-py3-none-any.whl.metadata (6.7 kB)
2025-08-19T12:10:47.9795351Z Collecting cachetools~=4.2.0 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:47.9807662Z   Using cached cachetools-4.2.4-py3-none-any.whl.metadata (4.8 kB)
2025-08-19T12:10:48.0609194Z Collecting pycryptodome (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.0622400Z   Using cached pycryptodome-3.23.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)
2025-08-19T12:10:48.0958046Z Collecting pytz (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.0972087Z   Using cached pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
2025-08-19T12:10:48.1091090Z Collecting confuse~=1.4.0 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.1103631Z   Using cached confuse-1.4.0-py2.py3-none-any.whl.metadata (3.8 kB)
2025-08-19T12:10:48.1370610Z Collecting python-dotenv>=0.21.0 (from pydantic-settings==2.2.1->-r services/etl/requirements.txt (line 6))
2025-08-19T12:10:48.1383314Z   Using cached python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
2025-08-19T12:10:48.1579521Z Collecting billiard<5.0,>=4.2.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.1592013Z   Using cached billiard-4.2.1-py3-none-any.whl.metadata (4.4 kB)
2025-08-19T12:10:48.1679318Z Collecting click-didyoumean>=0.3.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.1691530Z   Using cached click_didyoumean-0.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-08-19T12:10:48.1776492Z Collecting click-plugins>=1.1.1 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.1788491Z   Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl.metadata (6.5 kB)
2025-08-19T12:10:48.1906024Z Collecting click-repl>=0.2.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.1921913Z   Using cached click_repl-0.3.0-py3-none-any.whl.metadata (3.6 kB)
2025-08-19T12:10:48.2172489Z Collecting click<9.0,>=8.1.2 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.2185218Z   Using cached click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
2025-08-19T12:10:48.2489187Z Collecting kombu<6.0,>=5.3.4 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.2502252Z   Using cached kombu-5.5.4-py3-none-any.whl.metadata (3.5 kB)
2025-08-19T12:10:48.2685416Z Collecting python-dateutil>=2.8.2 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.2697539Z   Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
2025-08-19T12:10:48.2831694Z Collecting tzdata>=2022.7 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.2843672Z   Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
2025-08-19T12:10:48.2946479Z Collecting vine<6.0,>=5.1.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.2957961Z   Using cached vine-5.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-19T12:10:48.3117287Z Collecting PyJWT>=2.9.0 (from redis==5.*->-r services/etl/requirements.txt (line 4))
2025-08-19T12:10:48.3129341Z   Using cached PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
2025-08-19T12:10:48.3433394Z Collecting multimethod<=1.10.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:48.3446037Z   Using cached multimethod-1.10-py3-none-any.whl.metadata (8.2 kB)
2025-08-19T12:10:48.3665019Z Collecting packaging>=20.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:48.3676880Z   Using cached packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2025-08-19T12:10:48.3962344Z Collecting typeguard (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:48.3974368Z   Using cached typeguard-4.4.4-py3-none-any.whl.metadata (3.3 kB)
2025-08-19T12:10:48.4087025Z Collecting typing-inspect>=0.6.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:48.4098801Z   Using cached typing_inspect-0.9.0-py3-none-any.whl.metadata (1.5 kB)
2025-08-19T12:10:48.5056733Z Collecting wrapt (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:48.5069897Z   Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
2025-08-19T12:10:48.5161406Z Collecting et-xmlfile (from openpyxl==3.1.*->-r services/etl/requirements.txt (line 10))
2025-08-19T12:10:48.5172644Z   Using cached et_xmlfile-2.0.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-19T12:10:48.8774519Z Collecting botocore<1.41.0,>=1.40.12 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.8787789Z   Using cached botocore-1.40.12-py3-none-any.whl.metadata (5.7 kB)
2025-08-19T12:10:48.8913947Z Collecting jmespath<2.0.0,>=0.7.1 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.8925582Z   Using cached jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)
2025-08-19T12:10:48.9077579Z Collecting s3transfer<0.14.0,>=0.13.0 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.9089535Z   Using cached s3transfer-0.13.1-py3-none-any.whl.metadata (1.7 kB)
2025-08-19T12:10:48.9601882Z Collecting pyyaml (from confuse~=1.4.0->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-19T12:10:48.9616875Z   Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
2025-08-19T12:10:48.9813754Z Collecting amqp<6.0.0,>=5.1.1 (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:48.9826509Z   Using cached amqp-5.3.1-py3-none-any.whl.metadata (8.9 kB)
2025-08-19T12:10:49.1452736Z Collecting prompt-toolkit>=3.0.36 (from click-repl>=0.2.0->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:49.1465054Z   Using cached prompt_toolkit-3.0.51-py3-none-any.whl.metadata (6.4 kB)
2025-08-19T12:10:49.1620016Z Collecting wcwidth (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-19T12:10:49.1630952Z   Using cached wcwidth-0.2.13-py2.py3-none-any.whl.metadata (14 kB)
2025-08-19T12:10:49.1749250Z Collecting annotated-types>=0.6.0 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.1760115Z   Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
2025-08-19T12:10:49.8570018Z Collecting pydantic-core==2.33.2 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.8584546Z   Using cached pydantic_core-2.33.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-08-19T12:10:49.8742557Z Collecting typing-extensions>=4.12.2 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.8754189Z   Using cached typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
2025-08-19T12:10:49.8840234Z Collecting typing-inspection>=0.4.0 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.8851009Z   Using cached typing_inspection-0.4.1-py3-none-any.whl.metadata (2.6 kB)
2025-08-19T12:10:49.9694421Z Collecting charset_normalizer<4,>=2 (from requests>=2.2->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.9708108Z   Using cached charset_normalizer-3.4.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
2025-08-19T12:10:49.9856822Z Collecting idna<4,>=2.5 (from requests>=2.2->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:49.9868695Z   Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
2025-08-19T12:10:50.0208822Z Collecting mypy-extensions>=0.3.0 (from typing-inspect>=0.6.0->pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-19T12:10:50.0219948Z   Using cached mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)
2025-08-19T12:10:50.0502276Z Collecting aiohappyeyeballs>=2.5.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.0513316Z   Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
2025-08-19T12:10:50.0612789Z Collecting aiosignal>=1.4.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.0624233Z   Using cached aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)
2025-08-19T12:10:50.0758341Z Collecting attrs>=17.3.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.0769834Z   Using cached attrs-25.3.0-py3-none-any.whl.metadata (10 kB)
2025-08-19T12:10:50.1434720Z Collecting frozenlist>=1.1.1 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.1448357Z   Using cached frozenlist-1.7.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (18 kB)
2025-08-19T12:10:50.3645187Z Collecting multidict<7.0,>=4.5 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.3658776Z   Using cached multidict-6.6.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
2025-08-19T12:10:50.4080698Z Collecting propcache>=0.2.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.4093688Z   Using cached propcache-0.3.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)
2025-08-19T12:10:50.7254847Z Collecting yarl<2.0,>=1.17.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-19T12:10:50.7268362Z   Using cached yarl-1.20.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (73 kB)
2025-08-19T12:10:50.7844520Z Using cached keepa-1.3.14-py3-none-any.whl (33 kB)
2025-08-19T12:10:50.7855228Z Using cached minio-7.1.15-py3-none-any.whl (77 kB)
2025-08-19T12:10:50.7866568Z Using cached python_amazon_sp_api-0.8.0-py3-none-any.whl (93 kB)
2025-08-19T12:10:50.7877759Z Using cached pydantic_settings-2.2.1-py3-none-any.whl (13 kB)
2025-08-19T12:10:50.7888531Z Using cached celery-5.3.6-py3-none-any.whl (422 kB)
2025-08-19T12:10:50.7902393Z Using cached redis-5.3.1-py3-none-any.whl (272 kB)
2025-08-19T12:10:50.7916004Z Using cached numpy-1.26.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (18.0 MB)
2025-08-19T12:10:50.8063311Z Using cached pandas-2.2.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.7 MB)
2025-08-19T12:10:50.8167453Z Using cached pandera-0.19.3-py3-none-any.whl (251 kB)
2025-08-19T12:10:50.8180317Z Using cached openpyxl-3.1.5-py2.py3-none-any.whl (250 kB)
2025-08-19T12:10:50.8193968Z Using cached psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
2025-08-19T12:10:50.8227086Z Using cached billiard-4.2.1-py3-none-any.whl (86 kB)
2025-08-19T12:10:50.8238773Z Using cached boto3-1.40.12-py3-none-any.whl (140 kB)
2025-08-19T12:10:50.8250830Z Using cached botocore-1.40.12-py3-none-any.whl (14.0 MB)
2025-08-19T12:10:50.8365803Z Using cached cachetools-4.2.4-py3-none-any.whl (10 kB)
2025-08-19T12:10:50.8376915Z Using cached click-8.2.1-py3-none-any.whl (102 kB)
2025-08-19T12:10:50.8388960Z Using cached confuse-1.4.0-py2.py3-none-any.whl (21 kB)
2025-08-19T12:10:50.8400069Z Using cached jmespath-1.0.1-py3-none-any.whl (20 kB)
2025-08-19T12:10:50.8411381Z Using cached kombu-5.5.4-py3-none-any.whl (210 kB)
2025-08-19T12:10:50.8423719Z Using cached vine-5.1.0-py3-none-any.whl (9.6 kB)
2025-08-19T12:10:50.8434682Z Using cached amqp-5.3.1-py3-none-any.whl (50 kB)
2025-08-19T12:10:50.8445882Z Using cached multimethod-1.10-py3-none-any.whl (9.9 kB)
2025-08-19T12:10:50.8457170Z Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
2025-08-19T12:10:50.8469754Z Using cached s3transfer-0.13.1-py3-none-any.whl (85 kB)
2025-08-19T12:10:50.8481438Z Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
2025-08-19T12:10:50.8492796Z Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
2025-08-19T12:10:50.8504788Z Using cached click_didyoumean-0.3.1-py3-none-any.whl (3.6 kB)
2025-08-19T12:10:50.8515927Z Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl (11 kB)
2025-08-19T12:10:50.8526871Z Using cached click_repl-0.3.0-py3-none-any.whl (10 kB)
2025-08-19T12:10:50.8537939Z Using cached packaging-25.0-py3-none-any.whl (66 kB)
2025-08-19T12:10:50.8549552Z Using cached prompt_toolkit-3.0.51-py3-none-any.whl (387 kB)
2025-08-19T12:10:50.8563548Z Using cached pydantic-2.11.7-py3-none-any.whl (444 kB)
2025-08-19T12:10:50.8578196Z Using cached pydantic_core-2.33.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
2025-08-19T12:10:50.8603893Z Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
2025-08-19T12:10:50.8615125Z Using cached PyJWT-2.10.1-py3-none-any.whl (22 kB)
2025-08-19T12:10:50.8626425Z Using cached python_dotenv-1.1.1-py3-none-any.whl (20 kB)
2025-08-19T12:10:50.8637732Z Using cached pytz-2025.2-py2.py3-none-any.whl (509 kB)
2025-08-19T12:10:50.8652746Z Using cached requests-2.32.5-py3-none-any.whl (64 kB)
2025-08-19T12:10:50.8664871Z Using cached charset_normalizer-3.4.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (151 kB)
2025-08-19T12:10:50.8676866Z Using cached idna-3.10-py3-none-any.whl (70 kB)
2025-08-19T12:10:50.8688715Z Using cached certifi-2025.8.3-py3-none-any.whl (161 kB)
2025-08-19T12:10:50.8700827Z Using cached typing_extensions-4.14.1-py3-none-any.whl (43 kB)
2025-08-19T12:10:50.8712545Z Using cached typing_inspect-0.9.0-py3-none-any.whl (8.8 kB)
2025-08-19T12:10:50.8723758Z Using cached mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)
2025-08-19T12:10:50.8735196Z Using cached typing_inspection-0.4.1-py3-none-any.whl (14 kB)
2025-08-19T12:10:50.8746327Z Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
2025-08-19T12:10:50.8760244Z Using cached aiohttp-3.12.15-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
2025-08-19T12:10:50.8785510Z Using cached multidict-6.6.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (256 kB)
2025-08-19T12:10:50.8798399Z Using cached yarl-1.20.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (355 kB)
2025-08-19T12:10:50.8812073Z Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
2025-08-19T12:10:50.8823399Z Using cached aiosignal-1.4.0-py3-none-any.whl (7.5 kB)
2025-08-19T12:10:50.8834451Z Using cached attrs-25.3.0-py3-none-any.whl (63 kB)
2025-08-19T12:10:50.8846563Z Using cached frozenlist-1.7.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (241 kB)
2025-08-19T12:10:50.8859382Z Using cached propcache-0.3.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (224 kB)
2025-08-19T12:10:50.8871864Z Using cached et_xmlfile-2.0.0-py3-none-any.whl (18 kB)
2025-08-19T12:10:50.8883795Z Using cached pycryptodome-3.23.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)
2025-08-19T12:10:50.8911817Z Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
2025-08-19T12:10:50.8928493Z Using cached tqdm-4.67.1-py3-none-any.whl (78 kB)
2025-08-19T12:10:50.8939956Z Using cached typeguard-4.4.4-py3-none-any.whl (34 kB)
2025-08-19T12:10:50.8951034Z Using cached wcwidth-0.2.13-py2.py3-none-any.whl (34 kB)
2025-08-19T12:10:50.8962579Z Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (88 kB)
2025-08-19T12:10:51.1562979Z Installing collected packages: wcwidth, pytz, wrapt, vine, urllib3, tzdata, typing-extensions, tqdm, six, pyyaml, python-dotenv, PyJWT, pycryptodome, psycopg2-binary, propcache, prompt-toolkit, packaging, numpy, mypy-extensions, multimethod, multidict, jmespath, idna, frozenlist, et-xmlfile, click, charset_normalizer, certifi, cachetools, billiard, attrs, annotated-types, aiohappyeyeballs, yarl, typing-inspection, typing-inspect, typeguard, requests, redis, python-dateutil, pydantic-core, openpyxl, minio, confuse, click-repl, click-plugins, click-didyoumean, amqp, aiosignal, pydantic, pandas, kombu, botocore, aiohttp, s3transfer, pydantic-settings, pandera, keepa, celery, boto3, python-amazon-sp-api
2025-08-19T12:11:02.3714017Z 
2025-08-19T12:11:02.3774029Z Successfully installed PyJWT-2.10.1 aiohappyeyeballs-2.6.1 aiohttp-3.12.15 aiosignal-1.4.0 amqp-5.3.1 annotated-types-0.7.0 attrs-25.3.0 billiard-4.2.1 boto3-1.40.12 botocore-1.40.12 cachetools-4.2.4 celery-5.3.6 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 click-didyoumean-0.3.1 click-plugins-1.1.1.2 click-repl-0.3.0 confuse-1.4.0 et-xmlfile-2.0.0 frozenlist-1.7.0 idna-3.10 jmespath-1.0.1 keepa-1.3.14 kombu-5.5.4 minio-7.1.15 multidict-6.6.4 multimethod-1.10 mypy-extensions-1.1.0 numpy-1.26.4 openpyxl-3.1.5 packaging-25.0 pandas-2.2.3 pandera-0.19.3 prompt-toolkit-3.0.51 propcache-0.3.2 psycopg2-binary-2.9.10 pycryptodome-3.23.0 pydantic-2.11.7 pydantic-core-2.33.2 pydantic-settings-2.2.1 python-amazon-sp-api-0.8.0 python-dateutil-2.9.0.post0 python-dotenv-1.1.1 pytz-2025.2 pyyaml-6.0.2 redis-5.3.1 requests-2.32.5 s3transfer-0.13.1 six-1.17.0 tqdm-4.67.1 typeguard-4.4.4 typing-extensions-4.14.1 typing-inspect-0.9.0 typing-inspection-0.4.1 tzdata-2025.2 urllib3-2.5.0 vine-5.1.0 wcwidth-0.2.13 wrapt-1.17.3 yarl-1.20.1
2025-08-19T12:11:03.3755260Z Collecting uvicorn==0.29.0 (from -r services/api/requirements.txt (line 1))
2025-08-19T12:11:03.3768546Z   Using cached uvicorn-0.29.0-py3-none-any.whl.metadata (6.3 kB)
2025-08-19T12:11:03.3805043Z Requirement already satisfied: pydantic-settings==2.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/api/requirements.txt (line 2)) (2.2.1)
2025-08-19T12:11:03.4192977Z Collecting fastapi==0.111.0 (from -r services/api/requirements.txt (line 3))
2025-08-19T12:11:03.4204670Z   Using cached fastapi-0.111.0-py3-none-any.whl.metadata (25 kB)
2025-08-19T12:11:03.6875356Z Collecting sqlalchemy==2.0.29 (from -r services/api/requirements.txt (line 4))
2025-08-19T12:11:03.6888912Z   Using cached SQLAlchemy-2.0.29-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.6 kB)
2025-08-19T12:11:03.7171049Z Collecting alembic==1.13.1 (from -r services/api/requirements.txt (line 5))
2025-08-19T12:11:03.7182691Z   Using cached alembic-1.13.1-py3-none-any.whl.metadata (7.4 kB)
2025-08-19T12:11:03.7338330Z Collecting psycopg==3.2.9 (from psycopg[binary]==3.2.9->-r services/api/requirements.txt (line 6))
2025-08-19T12:11:03.7349808Z   Using cached psycopg-3.2.9-py3-none-any.whl.metadata (4.5 kB)
2025-08-19T12:11:03.7567282Z Collecting httpx==0.27.2 (from -r services/api/requirements.txt (line 7))
2025-08-19T12:11:03.7579311Z   Using cached httpx-0.27.2-py3-none-any.whl.metadata (7.1 kB)
2025-08-19T12:11:03.7993166Z Collecting asyncpg==0.29.0 (from -r services/api/requirements.txt (line 8))
2025-08-19T12:11:03.8005182Z   Using cached asyncpg-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)
2025-08-19T12:11:04.0630402Z Collecting boto3==1.34.162 (from -r services/api/requirements.txt (line 9))
2025-08-19T12:11:04.0643977Z   Using cached boto3-1.34.162-py3-none-any.whl.metadata (6.6 kB)
2025-08-19T12:11:04.0788255Z Collecting Jinja2==3.1.5 (from -r services/api/requirements.txt (line 10))
2025-08-19T12:11:04.0799664Z   Using cached jinja2-3.1.5-py3-none-any.whl.metadata (2.6 kB)
2025-08-19T12:11:04.0818522Z Requirement already satisfied: celery==5.3.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/api/requirements.txt (line 11)) (5.3.6)
2025-08-19T12:11:04.1034424Z Collecting structlog==24.1.0 (from -r services/api/requirements.txt (line 12))
2025-08-19T12:11:04.1045634Z   Using cached structlog-24.1.0-py3-none-any.whl.metadata (6.9 kB)
2025-08-19T12:11:04.1194442Z Collecting asgi-correlation-id==4.3.1 (from -r services/api/requirements.txt (line 13))
2025-08-19T12:11:04.1205522Z   Using cached asgi_correlation_id-4.3.1-py3-none-any.whl.metadata (28 kB)
2025-08-19T12:11:04.1338705Z Collecting fastapi-limiter==0.1.6 (from -r services/api/requirements.txt (line 14))
2025-08-19T12:11:04.1349800Z   Using cached fastapi_limiter-0.1.6-py3-none-any.whl.metadata (5.3 kB)
2025-08-19T12:11:04.1763176Z Collecting redis==5.0.8 (from -r services/api/requirements.txt (line 15))
2025-08-19T12:11:04.1775251Z   Using cached redis-5.0.8-py3-none-any.whl.metadata (9.2 kB)
2025-08-19T12:11:04.2267903Z Collecting sentry-sdk==2.9.0 (from sentry-sdk[celery,fastapi,sqlalchemy]==2.9.0->-r services/api/requirements.txt (line 16))
2025-08-19T12:11:04.2278839Z   Using cached sentry_sdk-2.9.0-py2.py3-none-any.whl.metadata (14 kB)
2025-08-19T12:11:04.2558149Z Requirement already satisfied: click>=7.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/api/requirements.txt (line 1)) (8.2.1)
2025-08-19T12:11:04.2641607Z Collecting h11>=0.8 (from uvicorn==0.29.0->-r services/api/requirements.txt (line 1))
2025-08-19T12:11:04.2652700Z   Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
2025-08-19T12:11:04.2681109Z Requirement already satisfied: pydantic>=2.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (2.11.7)
2025-08-19T12:11:04.2686673Z Requirement already satisfied: python-dotenv>=0.21.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (1.1.1)
2025-08-19T12:11:04.2944769Z Collecting starlette<0.38.0,>=0.37.2 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.2955871Z   Using cached starlette-0.37.2-py3-none-any.whl.metadata (5.9 kB)
2025-08-19T12:11:04.2984936Z Requirement already satisfied: typing-extensions>=4.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/api/requirements.txt (line 3)) (4.14.1)
2025-08-19T12:11:04.3110399Z Collecting fastapi-cli>=0.0.2 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.3121624Z   Using cached fastapi_cli-0.0.8-py3-none-any.whl.metadata (6.3 kB)
2025-08-19T12:11:04.3348683Z Collecting python-multipart>=0.0.7 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.3359822Z   Using cached python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
2025-08-19T12:11:04.3912417Z Collecting ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.3924094Z   Using cached ujson-5.10.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.3 kB)
2025-08-19T12:11:04.6344869Z Collecting orjson>=3.2.1 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.6358186Z   Using cached orjson-3.11.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.2 kB)
2025-08-19T12:11:04.6543297Z Collecting email_validator>=2.0.0 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:04.6554924Z   Using cached email_validator-2.2.0-py3-none-any.whl.metadata (25 kB)
2025-08-19T12:11:04.7993968Z Collecting greenlet!=0.4.17 (from sqlalchemy==2.0.29->-r services/api/requirements.txt (line 4))
2025-08-19T12:11:04.8006685Z   Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2025-08-19T12:11:04.8271890Z Collecting Mako (from alembic==1.13.1->-r services/api/requirements.txt (line 5))
2025-08-19T12:11:04.8283726Z   Using cached mako-1.3.10-py3-none-any.whl.metadata (2.9 kB)
2025-08-19T12:11:04.8510196Z Collecting anyio (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-19T12:11:04.8521948Z   Using cached anyio-4.10.0-py3-none-any.whl.metadata (4.0 kB)
2025-08-19T12:11:04.8544819Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx==0.27.2->-r services/api/requirements.txt (line 7)) (2025.8.3)
2025-08-19T12:11:04.8708037Z Collecting httpcore==1.* (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-19T12:11:04.8719580Z   Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
2025-08-19T12:11:04.8752516Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx==0.27.2->-r services/api/requirements.txt (line 7)) (3.10)
2025-08-19T12:11:04.8818903Z Collecting sniffio (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-19T12:11:04.8830337Z   Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-08-19T12:11:05.2295490Z Collecting botocore<1.35.0,>=1.34.162 (from boto3==1.34.162->-r services/api/requirements.txt (line 9))
2025-08-19T12:11:05.2308420Z   Using cached botocore-1.34.162-py3-none-any.whl.metadata (5.7 kB)
2025-08-19T12:11:05.2335650Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3==1.34.162->-r services/api/requirements.txt (line 9)) (1.0.1)
2025-08-19T12:11:05.2479791Z Collecting s3transfer<0.11.0,>=0.10.0 (from boto3==1.34.162->-r services/api/requirements.txt (line 9))
2025-08-19T12:11:05.2491062Z   Using cached s3transfer-0.10.4-py3-none-any.whl.metadata (1.7 kB)
2025-08-19T12:11:05.2951011Z Collecting MarkupSafe>=2.0 (from Jinja2==3.1.5->-r services/api/requirements.txt (line 10))
2025-08-19T12:11:05.2964157Z   Using cached MarkupSafe-3.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
2025-08-19T12:11:05.3199589Z Requirement already satisfied: urllib3>=1.26.11 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sentry-sdk==2.9.0->sentry-sdk[celery,fastapi,sqlalchemy]==2.9.0->-r services/api/requirements.txt (line 16)) (2.5.0)
2025-08-19T12:11:05.4571414Z Collecting psycopg-binary==3.2.9 (from psycopg[binary]==3.2.9->-r services/api/requirements.txt (line 6))
2025-08-19T12:11:05.4584218Z   Using cached psycopg_binary-3.2.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.9 kB)
2025-08-19T12:11:05.4898623Z Requirement already satisfied: billiard<5.0,>=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (4.2.1)
2025-08-19T12:11:05.4905607Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.3.1)
2025-08-19T12:11:05.4912476Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (1.1.1.2)
2025-08-19T12:11:05.4918985Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.3.0)
2025-08-19T12:11:05.4929581Z Requirement already satisfied: kombu<6.0,>=5.3.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.5.4)
2025-08-19T12:11:05.4936588Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (2.9.0.post0)
2025-08-19T12:11:05.4943290Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (2025.2)
2025-08-19T12:11:05.4950559Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.1.0)
2025-08-19T12:11:05.5082634Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.3.1)
2025-08-19T12:11:05.5094502Z Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/api/requirements.txt (line 11)) (25.0)
2025-08-19T12:11:05.5162990Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (0.7.0)
2025-08-19T12:11:05.5169042Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (2.33.2)
2025-08-19T12:11:05.5178765Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (0.4.1)
2025-08-19T12:11:05.5213834Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->celery==5.3.*->-r services/api/requirements.txt (line 11)) (1.17.0)
2025-08-19T12:11:05.6699154Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.3.*->-r services/api/requirements.txt (line 11)) (3.0.51)
2025-08-19T12:11:05.6820835Z Collecting dnspython>=2.0.0 (from email_validator>=2.0.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.6832088Z   Using cached dnspython-2.7.0-py3-none-any.whl.metadata (5.8 kB)
2025-08-19T12:11:05.7055337Z Collecting typer>=0.15.1 (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.7066522Z   Using cached typer-0.16.1-py3-none-any.whl.metadata (15 kB)
2025-08-19T12:11:05.7310072Z Collecting rich-toolkit>=0.14.8 (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.7321683Z   Using cached rich_toolkit-0.15.0-py3-none-any.whl.metadata (1.0 kB)
2025-08-19T12:11:05.7414092Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.2.13)
2025-08-19T12:11:05.7806649Z Collecting rich>=13.7.1 (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.7818107Z   Using cached rich-14.1.0-py3-none-any.whl.metadata (18 kB)
2025-08-19T12:11:05.7977455Z Collecting markdown-it-py>=2.2.0 (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.7988899Z   Using cached markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
2025-08-19T12:11:05.8218441Z Collecting pygments<3.0.0,>=2.13.0 (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.8229936Z   Using cached pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
2025-08-19T12:11:05.8337863Z Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.8349069Z   Using cached mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
2025-08-19T12:11:05.8522914Z Collecting shellingham>=1.3.0 (from typer>=0.15.1->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.8534572Z   Using cached shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
2025-08-19T12:11:05.9000175Z Collecting httptools>=0.5.0 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.9012769Z   Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
2025-08-19T12:11:05.9037965Z Requirement already satisfied: pyyaml>=5.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3)) (6.0.2)
2025-08-19T12:11:05.9826262Z Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:05.9839201Z   Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-19T12:11:06.0567042Z Collecting watchfiles>=0.13 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:06.0578207Z   Using cached watchfiles-1.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-19T12:11:06.1419546Z Collecting websockets>=10.4 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-19T12:11:06.1431599Z   Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-08-19T12:11:06.1698591Z Using cached uvicorn-0.29.0-py3-none-any.whl (60 kB)
2025-08-19T12:11:06.1709833Z Using cached fastapi-0.111.0-py3-none-any.whl (91 kB)
2025-08-19T12:11:06.1721805Z Using cached SQLAlchemy-2.0.29-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.2 MB)
2025-08-19T12:11:06.1757199Z Using cached alembic-1.13.1-py3-none-any.whl (233 kB)
2025-08-19T12:11:06.1769736Z Using cached psycopg-3.2.9-py3-none-any.whl (202 kB)
2025-08-19T12:11:06.1782104Z Using cached httpx-0.27.2-py3-none-any.whl (76 kB)
2025-08-19T12:11:06.1793691Z Using cached asyncpg-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
2025-08-19T12:11:06.1829193Z Using cached boto3-1.34.162-py3-none-any.whl (139 kB)
2025-08-19T12:11:06.1840485Z Using cached jinja2-3.1.5-py3-none-any.whl (134 kB)
2025-08-19T12:11:06.1852429Z Using cached structlog-24.1.0-py3-none-any.whl (65 kB)
2025-08-19T12:11:06.1863597Z Using cached asgi_correlation_id-4.3.1-py3-none-any.whl (15 kB)
2025-08-19T12:11:06.1874315Z Using cached fastapi_limiter-0.1.6-py3-none-any.whl (15 kB)
2025-08-19T12:11:06.1885015Z Using cached redis-5.0.8-py3-none-any.whl (255 kB)
2025-08-19T12:11:06.1897425Z Using cached sentry_sdk-2.9.0-py2.py3-none-any.whl (301 kB)
2025-08-19T12:11:06.1910609Z Using cached psycopg_binary-3.2.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.4 MB)
2025-08-19T12:11:06.1955212Z Using cached botocore-1.34.162-py3-none-any.whl (12.5 MB)
2025-08-19T12:11:06.2058411Z Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)
2025-08-19T12:11:06.2069685Z Using cached s3transfer-0.10.4-py3-none-any.whl (83 kB)
2025-08-19T12:11:06.2080955Z Using cached starlette-0.37.2-py3-none-any.whl (71 kB)
2025-08-19T12:11:06.2092820Z Using cached anyio-4.10.0-py3-none-any.whl (107 kB)
2025-08-19T12:11:06.2104267Z Using cached email_validator-2.2.0-py3-none-any.whl (33 kB)
2025-08-19T12:11:06.2115359Z Using cached dnspython-2.7.0-py3-none-any.whl (313 kB)
2025-08-19T12:11:06.2128409Z Using cached fastapi_cli-0.0.8-py3-none-any.whl (10 kB)
2025-08-19T12:11:06.2139502Z Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (607 kB)
2025-08-19T12:11:06.2154925Z Using cached h11-0.16.0-py3-none-any.whl (37 kB)
2025-08-19T12:11:06.2168138Z Using cached MarkupSafe-3.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
2025-08-19T12:11:06.2179223Z Using cached orjson-3.11.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121 kB)
2025-08-19T12:11:06.2190744Z Using cached python_multipart-0.0.20-py3-none-any.whl (24 kB)
2025-08-19T12:11:06.2201481Z Using cached rich_toolkit-0.15.0-py3-none-any.whl (29 kB)
2025-08-19T12:11:06.2212530Z Using cached rich-14.1.0-py3-none-any.whl (243 kB)
2025-08-19T12:11:06.2225107Z Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
2025-08-19T12:11:06.2245403Z Using cached markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
2025-08-19T12:11:06.2256767Z Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)
2025-08-19T12:11:06.2267457Z Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
2025-08-19T12:11:06.2278199Z Using cached typer-0.16.1-py3-none-any.whl (46 kB)
2025-08-19T12:11:06.2289173Z Using cached shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
2025-08-19T12:11:06.2300175Z Using cached ujson-5.10.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (53 kB)
2025-08-19T12:11:06.2311925Z Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (510 kB)
2025-08-19T12:11:06.2326573Z Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.7 MB)
2025-08-19T12:11:06.2372590Z Using cached watchfiles-1.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (452 kB)
2025-08-19T12:11:06.2386884Z Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
2025-08-19T12:11:06.2398646Z Using cached mako-1.3.10-py3-none-any.whl (78 kB)
2025-08-19T12:11:06.4406847Z Installing collected packages: websockets, uvloop, ujson, structlog, sniffio, shellingham, sentry-sdk, redis, python-multipart, pygments, psycopg-binary, psycopg, orjson, mdurl, MarkupSafe, httptools, h11, greenlet, dnspython, asyncpg, uvicorn, sqlalchemy, markdown-it-py, Mako, Jinja2, httpcore, email_validator, botocore, anyio, watchfiles, starlette, s3transfer, rich, httpx, alembic, typer, rich-toolkit, boto3, asgi-correlation-id, fastapi-cli, fastapi, fastapi-limiter
2025-08-19T12:11:06.8821966Z   Attempting uninstall: redis
2025-08-19T12:11:06.8853817Z     Found existing installation: redis 5.3.1
2025-08-19T12:11:06.8933079Z     Uninstalling redis-5.3.1:
2025-08-19T12:11:06.8949954Z       Successfully uninstalled redis-5.3.1
2025-08-19T12:11:09.9291395Z   Attempting uninstall: botocore
2025-08-19T12:11:09.9335802Z     Found existing installation: botocore 1.40.12
2025-08-19T12:11:09.9963769Z     Uninstalling botocore-1.40.12:
2025-08-19T12:11:10.0204952Z       Successfully uninstalled botocore-1.40.12
2025-08-19T12:11:11.0255891Z   Attempting uninstall: s3transfer
2025-08-19T12:11:11.0302195Z     Found existing installation: s3transfer 0.13.1
2025-08-19T12:11:11.0328675Z     Uninstalling s3transfer-0.13.1:
2025-08-19T12:11:11.0337178Z       Successfully uninstalled s3transfer-0.13.1
2025-08-19T12:11:11.5615243Z   Attempting uninstall: boto3
2025-08-19T12:11:11.5645652Z     Found existing installation: boto3 1.40.12
2025-08-19T12:11:11.5706711Z     Uninstalling boto3-1.40.12:
2025-08-19T12:11:11.5725289Z       Successfully uninstalled boto3-1.40.12
2025-08-19T12:11:11.7360542Z 
2025-08-19T12:11:11.7450336Z Successfully installed Jinja2-3.1.5 Mako-1.3.10 MarkupSafe-3.0.2 alembic-1.13.1 anyio-4.10.0 asgi-correlation-id-4.3.1 asyncpg-0.29.0 boto3-1.34.162 botocore-1.34.162 dnspython-2.7.0 email_validator-2.2.0 fastapi-0.111.0 fastapi-cli-0.0.8 fastapi-limiter-0.1.6 greenlet-3.2.4 h11-0.16.0 httpcore-1.0.9 httptools-0.6.4 httpx-0.27.2 markdown-it-py-4.0.0 mdurl-0.1.2 orjson-3.11.2 psycopg-3.2.9 psycopg-binary-3.2.9 pygments-2.19.2 python-multipart-0.0.20 redis-5.0.8 rich-14.1.0 rich-toolkit-0.15.0 s3transfer-0.10.4 sentry-sdk-2.9.0 shellingham-1.5.4 sniffio-1.3.1 sqlalchemy-2.0.29 starlette-0.37.2 structlog-24.1.0 typer-0.16.1 ujson-5.10.0 uvicorn-0.29.0 uvloop-0.21.0 watchfiles-1.1.0 websockets-15.0.1
2025-08-19T12:11:12.3988933Z Requirement already satisfied: uvicorn==0.29.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 1)) (0.29.0)
2025-08-19T12:11:12.4002297Z Requirement already satisfied: pydantic-settings==2.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 2)) (2.2.1)
2025-08-19T12:11:12.4004437Z Requirement already satisfied: python-amazon-sp-api==0.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 3)) (0.8.0)
2025-08-19T12:11:12.4006408Z Requirement already satisfied: fastapi==0.111.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 4)) (0.111.0)
2025-08-19T12:11:12.4008491Z Requirement already satisfied: sqlalchemy==2.0.29 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 5)) (2.0.29)
2025-08-19T12:11:12.4018366Z Requirement already satisfied: click>=7.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/repricer/requirements.txt (line 1)) (8.2.1)
2025-08-19T12:11:12.4024095Z Requirement already satisfied: h11>=0.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/repricer/requirements.txt (line 1)) (0.16.0)
2025-08-19T12:11:12.4046720Z Requirement already satisfied: pydantic>=2.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (2.11.7)
2025-08-19T12:11:12.4051767Z Requirement already satisfied: python-dotenv>=0.21.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (1.1.1)
2025-08-19T12:11:12.4062801Z Requirement already satisfied: requests in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.32.5)
2025-08-19T12:11:12.4069501Z Requirement already satisfied: six<2,>=1.15 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.17.0)
2025-08-19T12:11:12.4076747Z Requirement already satisfied: boto3<2,>=1.16.39 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.34.162)
2025-08-19T12:11:12.4082903Z Requirement already satisfied: cachetools~=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (4.2.4)
2025-08-19T12:11:12.4086853Z Requirement already satisfied: pycryptodome in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (3.23.0)
2025-08-19T12:11:12.4090673Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2025.2)
2025-08-19T12:11:12.4096825Z Requirement already satisfied: confuse~=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.4.0)
2025-08-19T12:11:12.4112020Z Requirement already satisfied: starlette<0.38.0,>=0.37.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.37.2)
2025-08-19T12:11:12.4121653Z Requirement already satisfied: typing-extensions>=4.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.14.1)
2025-08-19T12:11:12.4126480Z Requirement already satisfied: fastapi-cli>=0.0.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.0.8)
2025-08-19T12:11:12.4131266Z Requirement already satisfied: httpx>=0.23.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.27.2)
2025-08-19T12:11:12.4136570Z Requirement already satisfied: jinja2>=2.11.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.1.5)
2025-08-19T12:11:12.4141414Z Requirement already satisfied: python-multipart>=0.0.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.0.20)
2025-08-19T12:11:12.4148925Z Requirement already satisfied: ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (5.10.0)
2025-08-19T12:11:12.4153991Z Requirement already satisfied: orjson>=3.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.11.2)
2025-08-19T12:11:12.4158593Z Requirement already satisfied: email_validator>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.2.0)
2025-08-19T12:11:12.4206082Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy==2.0.29->-r services/repricer/requirements.txt (line 5)) (3.2.4)
2025-08-19T12:11:12.4251024Z Requirement already satisfied: botocore<1.35.0,>=1.34.162 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.34.162)
2025-08-19T12:11:12.4257595Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.0.1)
2025-08-19T12:11:12.4264197Z Requirement already satisfied: s3transfer<0.11.0,>=0.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (0.10.4)
2025-08-19T12:11:12.4281052Z Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from botocore<1.35.0,>=1.34.162->boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.9.0.post0)
2025-08-19T12:11:12.4294025Z Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from botocore<1.35.0,>=1.34.162->boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.5.0)
2025-08-19T12:11:12.4312772Z Requirement already satisfied: pyyaml in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from confuse~=1.4.0->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (6.0.2)
2025-08-19T12:11:12.4345173Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (0.7.0)
2025-08-19T12:11:12.4350162Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (2.33.2)
2025-08-19T12:11:12.4357303Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (0.4.1)
2025-08-19T12:11:12.4418211Z Requirement already satisfied: anyio<5,>=3.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.10.0)
2025-08-19T12:11:12.4438337Z Requirement already satisfied: idna>=2.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio<5,>=3.4.0->starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.10)
2025-08-19T12:11:12.4443395Z Requirement already satisfied: sniffio>=1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio<5,>=3.4.0->starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.3.1)
2025-08-19T12:11:12.4502373Z Requirement already satisfied: dnspython>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from email_validator>=2.0.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.7.0)
2025-08-19T12:11:12.4551507Z Requirement already satisfied: typer>=0.15.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.16.1)
2025-08-19T12:11:12.4561974Z Requirement already satisfied: rich-toolkit>=0.14.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.15.0)
2025-08-19T12:11:12.4602983Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx>=0.23.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2025.8.3)
2025-08-19T12:11:12.4607951Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx>=0.23.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.0.9)
2025-08-19T12:11:12.4664760Z Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from jinja2>=2.11.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.0.2)
2025-08-19T12:11:12.4723586Z Requirement already satisfied: rich>=13.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (14.1.0)
2025-08-19T12:11:12.4745838Z Requirement already satisfied: markdown-it-py>=2.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.0.0)
2025-08-19T12:11:12.4752690Z Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.19.2)
2025-08-19T12:11:12.4779377Z Requirement already satisfied: mdurl~=0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.1.2)
2025-08-19T12:11:12.4843557Z Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from typer>=0.15.1->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.5.4)
2025-08-19T12:11:12.4915696Z Requirement already satisfied: httptools>=0.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.6.4)
2025-08-19T12:11:12.4931326Z Requirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.21.0)
2025-08-19T12:11:12.4939120Z Requirement already satisfied: watchfiles>=0.13 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.1.0)
2025-08-19T12:11:12.4946328Z Requirement already satisfied: websockets>=10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (15.0.1)
2025-08-19T12:11:12.5077145Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (3.4.3)
2025-08-19T12:11:13.1389947Z Collecting celery==5.4.* (from celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1))
2025-08-19T12:11:13.1403639Z   Using cached celery-5.4.0-py3-none-any.whl.metadata (21 kB)
2025-08-19T12:11:13.1613750Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 2)) (0.29.0)
2025-08-19T12:11:13.1618076Z Requirement already satisfied: httpx in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 3)) (0.27.2)
2025-08-19T12:11:13.1622506Z Requirement already satisfied: sqlalchemy in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 4)) (2.0.29)
2025-08-19T12:11:13.1635972Z Requirement already satisfied: billiard<5.0,>=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (4.2.1)
2025-08-19T12:11:13.1642937Z Requirement already satisfied: kombu<6.0,>=5.3.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.5.4)
2025-08-19T12:11:13.1649103Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.1.0)
2025-08-19T12:11:13.1655838Z Requirement already satisfied: click<9.0,>=8.1.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (8.2.1)
2025-08-19T12:11:13.1661955Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.3.1)
2025-08-19T12:11:13.1667905Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.3.0)
2025-08-19T12:11:13.1674006Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (1.1.1.2)
2025-08-19T12:11:13.1679846Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (2025.2)
2025-08-19T12:11:13.1686162Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (2.9.0.post0)
2025-08-19T12:11:13.1726106Z Requirement already satisfied: redis!=4.5.5,<6.0.0,>=4.5.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.0.8)
2025-08-19T12:11:13.1748158Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.3.1)
2025-08-19T12:11:13.1759934Z Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (25.0)
2025-08-19T12:11:13.1843423Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (4.10.0)
2025-08-19T12:11:13.1847356Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (2025.8.3)
2025-08-19T12:11:13.1852277Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (1.0.9)
2025-08-19T12:11:13.1856210Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (3.10)
2025-08-19T12:11:13.1860004Z Requirement already satisfied: sniffio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (1.3.1)
2025-08-19T12:11:13.1883974Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx->-r services/fees_h10/requirements.txt (line 3)) (0.16.0)
2025-08-19T12:11:13.1902479Z Requirement already satisfied: typing-extensions>=4.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy->-r services/fees_h10/requirements.txt (line 4)) (4.14.1)
2025-08-19T12:11:13.1915990Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy->-r services/fees_h10/requirements.txt (line 4)) (3.2.4)
2025-08-19T12:11:13.1986175Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (3.0.51)
2025-08-19T12:11:13.2022077Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.2.13)
2025-08-19T12:11:13.2036077Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (1.17.0)
2025-08-19T12:11:13.2146879Z Using cached celery-5.4.0-py3-none-any.whl (425 kB)
2025-08-19T12:11:13.3474901Z Installing collected packages: celery
2025-08-19T12:11:13.3476104Z   Attempting uninstall: celery
2025-08-19T12:11:13.3521046Z     Found existing installation: celery 5.3.6
2025-08-19T12:11:13.3669147Z     Uninstalling celery-5.3.6:
2025-08-19T12:11:13.3697125Z       Successfully uninstalled celery-5.3.6
2025-08-19T12:11:13.7007881Z Successfully installed celery-5.4.0
2025-08-19T12:11:14.2002560Z Collecting python-telegram-bot==20.8 (from -r services/alert_bot/requirements.txt (line 1))
2025-08-19T12:11:14.2015690Z   Using cached python_telegram_bot-20.8-py3-none-any.whl.metadata (15 kB)
2025-08-19T12:11:14.2224280Z Collecting APScheduler==3.10.4 (from -r services/alert_bot/requirements.txt (line 2))
2025-08-19T12:11:14.2236076Z   Using cached APScheduler-3.10.4-py3-none-any.whl.metadata (5.7 kB)
2025-08-19T12:11:14.2279912Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/alert_bot/requirements.txt (line 3)) (0.29.0)
2025-08-19T12:11:14.2455268Z Collecting httpx~=0.26.0 (from python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1))
2025-08-19T12:11:14.2466578Z   Using cached httpx-0.26.0-py3-none-any.whl.metadata (7.6 kB)
2025-08-19T12:11:14.2506891Z Requirement already satisfied: six>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2)) (1.17.0)
2025-08-19T12:11:14.2510459Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2)) (2025.2)
2025-08-19T12:11:14.2644644Z Collecting tzlocal!=3.*,>=2.0 (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2))
2025-08-19T12:11:14.2655675Z   Using cached tzlocal-5.3.1-py3-none-any.whl.metadata (7.6 kB)
2025-08-19T12:11:14.2687352Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (4.10.0)
2025-08-19T12:11:14.2691000Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (2025.8.3)
2025-08-19T12:11:14.2695726Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (1.0.9)
2025-08-19T12:11:14.2698951Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (3.10)
2025-08-19T12:11:14.2702318Z Requirement already satisfied: sniffio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (1.3.1)
2025-08-19T12:11:14.2717023Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (0.16.0)
2025-08-19T12:11:14.2766750Z Requirement already satisfied: typing_extensions>=4.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio->httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (4.14.1)
2025-08-19T12:11:14.2817315Z Using cached python_telegram_bot-20.8-py3-none-any.whl (604 kB)
2025-08-19T12:11:14.2833864Z Using cached APScheduler-3.10.4-py3-none-any.whl (59 kB)
2025-08-19T12:11:14.2844728Z Using cached httpx-0.26.0-py3-none-any.whl (75 kB)
2025-08-19T12:11:14.2855733Z Using cached tzlocal-5.3.1-py3-none-any.whl (18 kB)
2025-08-19T12:11:14.4383209Z Installing collected packages: tzlocal, httpx, APScheduler, python-telegram-bot
2025-08-19T12:11:14.4511360Z   Attempting uninstall: httpx
2025-08-19T12:11:14.4543492Z     Found existing installation: httpx 0.27.2
2025-08-19T12:11:14.4582708Z     Uninstalling httpx-0.27.2:
2025-08-19T12:11:14.4596437Z       Successfully uninstalled httpx-0.27.2
2025-08-19T12:11:14.8899189Z 
2025-08-19T12:11:14.8982602Z Successfully installed APScheduler-3.10.4 httpx-0.26.0 python-telegram-bot-20.8 tzlocal-5.3.1
2025-08-19T12:11:15.4047819Z Collecting Jinja2==3.1.6 (from -r requirements-dev.txt (line 2))
2025-08-19T12:11:15.4060700Z   Using cached jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
2025-08-19T12:11:15.4082204Z Requirement already satisfied: alembic==1.13.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 3)) (1.13.1)
2025-08-19T12:11:15.4086953Z Requirement already satisfied: apscheduler==3.10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 4)) (3.10.4)
2025-08-19T12:11:15.4091444Z Requirement already satisfied: asgi-correlation-id==4.3.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 5)) (4.3.1)
2025-08-19T12:11:15.4464333Z Collecting asyncpg==0.30.0 (from -r requirements-dev.txt (line 6))
2025-08-19T12:11:15.4476465Z   Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.0 kB)
2025-08-19T12:11:15.4911843Z Collecting black==25.1.0 (from -r requirements-dev.txt (line 7))
2025-08-19T12:11:15.4924724Z   Using cached black-25.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl.metadata (81 kB)
2025-08-19T12:11:15.5005934Z Requirement already satisfied: boto3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 8)) (1.34.162)
2025-08-19T12:11:15.5010527Z Requirement already satisfied: redis==5.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 9)) (5.0.8)
2025-08-19T12:11:15.5014905Z Requirement already satisfied: minio==7.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 10)) (7.1.15)
2025-08-19T12:11:15.5423804Z Collecting celery==5.5.3 (from -r requirements-dev.txt (line 11))
2025-08-19T12:11:15.5435350Z   Using cached celery-5.5.3-py3-none-any.whl.metadata (22 kB)
2025-08-19T12:11:15.6016215Z Collecting fastapi==0.116.1 (from -r requirements-dev.txt (line 12))
2025-08-19T12:11:15.6028061Z   Using cached fastapi-0.116.1-py3-none-any.whl.metadata (28 kB)
2025-08-19T12:11:15.6099289Z Requirement already satisfied: fastapi-limiter==0.1.6 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 14)) (0.1.6)
2025-08-19T12:11:15.6277668Z Collecting httpx<0.29,>=0.27 (from -r requirements-dev.txt (line 15))
2025-08-19T12:11:15.6289136Z   Using cached httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
2025-08-19T12:11:15.6413576Z Collecting imapclient==3.0.1 (from -r requirements-dev.txt (line 16))
2025-08-19T12:11:15.6425352Z   Using cached IMAPClient-3.0.1-py2.py3-none-any.whl.metadata (1.7 kB)
2025-08-19T12:11:15.6519937Z Collecting itsdangerous (from -r requirements-dev.txt (line 17))
2025-08-19T12:11:15.6531780Z   Using cached itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
2025-08-19T12:11:15.7540981Z Collecting mypy==1.* (from -r requirements-dev.txt (line 18))
2025-08-19T12:11:15.7555099Z   Using cached mypy-1.17.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.2 kB)
2025-08-19T12:11:15.7585439Z Requirement already satisfied: mypy-extensions==1.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 19)) (1.1.0)
2025-08-19T12:11:15.7590126Z Requirement already satisfied: numpy<2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 20)) (1.26.4)
2025-08-19T12:11:15.7595183Z Requirement already satisfied: openpyxl==3.1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 21)) (3.1.5)
2025-08-19T12:11:15.7600053Z Requirement already satisfied: pandas==2.2.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 22)) (2.2.3)
2025-08-19T12:11:15.7605312Z Requirement already satisfied: psycopg2-binary==2.9.10 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 23)) (2.9.10)
2025-08-19T12:11:15.7611374Z Requirement already satisfied: psycopg==3.2.9 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from psycopg[binary]==3.2.9->-r requirements-dev.txt (line 24)) (3.2.9)
2025-08-19T12:11:15.7616145Z Requirement already satisfied: pydantic==2.11.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 25)) (2.11.7)
2025-08-19T12:11:15.8827772Z Collecting setuptools (from -r requirements-dev.txt (line 26))
2025-08-19T12:11:15.8841037Z   Using cached setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
2025-08-19T12:11:15.9093289Z Collecting pytest-asyncio==0.23.6 (from -r requirements-dev.txt (line 27))
2025-08-19T12:11:15.9106239Z   Using cached pytest_asyncio-0.23.6-py3-none-any.whl.metadata (3.9 kB)
2025-08-19T12:11:15.9244490Z Collecting pytest-cov==6.2.1 (from -r requirements-dev.txt (line 28))
2025-08-19T12:11:15.9255653Z   Using cached pytest_cov-6.2.1-py3-none-any.whl.metadata (30 kB)
2025-08-19T12:11:15.9426495Z Collecting pytest-postgresql==7.0.2 (from -r requirements-dev.txt (line 29))
2025-08-19T12:11:15.9437502Z   Using cached pytest_postgresql-7.0.2-py3-none-any.whl.metadata (18 kB)
2025-08-19T12:11:15.9467635Z Requirement already satisfied: python-dotenv in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 30)) (1.1.1)
2025-08-19T12:11:15.9471017Z Requirement already satisfied: python-multipart in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 31)) (0.0.20)
2025-08-19T12:11:15.9751774Z Collecting python-telegram-bot==22.3 (from -r requirements-dev.txt (line 32))
2025-08-19T12:11:15.9762972Z   Using cached python_telegram_bot-22.3-py3-none-any.whl.metadata (17 kB)
2025-08-19T12:11:16.0041728Z Collecting requests==2.32.4 (from -r requirements-dev.txt (line 33))
2025-08-19T12:11:16.0053023Z   Using cached requests-2.32.4-py3-none-any.whl.metadata (4.9 kB)
2025-08-19T12:11:16.0210639Z Collecting respx==0.22.0 (from -r requirements-dev.txt (line 34))
2025-08-19T12:11:16.0222000Z   Using cached respx-0.22.0-py2.py3-none-any.whl.metadata (4.1 kB)
2025-08-19T12:11:16.3718604Z Collecting ruff==0.4.4 (from -r requirements-dev.txt (line 35))
2025-08-19T12:11:16.3731744Z   Using cached ruff-0.4.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (23 kB)
2025-08-19T12:11:16.3764041Z Requirement already satisfied: sqlalchemy==2.0.29 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 36)) (2.0.29)
2025-08-19T12:11:16.3767844Z Requirement already satisfied: structlog==24.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 37)) (24.1.0)
2025-08-19T12:11:16.3900509Z Collecting testcontainers==4.10.0 (from testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38))
2025-08-19T12:11:16.3912036Z   Using cached testcontainers-4.10.0-py3-none-any.whl.metadata (7.8 kB)
2025-08-19T12:11:16.4255918Z Collecting types-requests==2.32.0.20240602 (from -r requirements-dev.txt (line 39))
2025-08-19T12:11:16.4266850Z   Using cached types_requests-2.32.0.20240602-py3-none-any.whl.metadata (1.8 kB)
2025-08-19T12:11:16.4387115Z Collecting docspec-python==2.2.2 (from -r requirements-dev.txt (line 40))
2025-08-19T12:11:16.4397956Z   Using cached docspec_python-2.2.2-py3-none-any.whl.metadata (1.0 kB)
2025-08-19T12:11:16.4554436Z Collecting pydoc-markdown==4.8.2 (from -r requirements-dev.txt (line 41))
2025-08-19T12:11:16.4565356Z   Using cached pydoc_markdown-4.8.2-py3-none-any.whl.metadata (5.9 kB)
2025-08-19T12:11:16.4597203Z Requirement already satisfied: pandera==0.19.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 42)) (0.19.3)
2025-08-19T12:11:16.4614215Z Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from Jinja2==3.1.6->-r requirements-dev.txt (line 2)) (3.0.2)
2025-08-19T12:11:16.4629789Z Requirement already satisfied: Mako in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from alembic==1.13.1->-r requirements-dev.txt (line 3)) (1.3.10)
2025-08-19T12:11:16.4635407Z Requirement already satisfied: typing-extensions>=4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from alembic==1.13.1->-r requirements-dev.txt (line 3)) (4.14.1)
2025-08-19T12:11:16.4652310Z Requirement already satisfied: six>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (1.17.0)
2025-08-19T12:11:16.4656055Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (2025.2)
2025-08-19T12:11:16.4662305Z Requirement already satisfied: tzlocal!=3.*,>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (5.3.1)
2025-08-19T12:11:16.4694358Z Requirement already satisfied: starlette>=0.18 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from asgi-correlation-id==4.3.1->-r requirements-dev.txt (line 5)) (0.37.2)
2025-08-19T12:11:16.4714612Z Requirement already satisfied: click>=8.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from black==25.1.0->-r requirements-dev.txt (line 7)) (8.2.1)
2025-08-19T12:11:16.4719343Z Requirement already satisfied: packaging>=22.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from black==25.1.0->-r requirements-dev.txt (line 7)) (25.0)
2025-08-19T12:11:16.4814929Z Collecting pathspec>=0.9.0 (from black==25.1.0->-r requirements-dev.txt (line 7))
2025-08-19T12:11:16.4825831Z   Using cached pathspec-0.12.1-py3-none-any.whl.metadata (21 kB)
2025-08-19T12:11:16.5002741Z Collecting platformdirs>=2 (from black==25.1.0->-r requirements-dev.txt (line 7))
2025-08-19T12:11:16.5013660Z   Using cached platformdirs-4.3.8-py3-none-any.whl.metadata (12 kB)
2025-08-19T12:11:16.5059642Z Requirement already satisfied: billiard<5.0,>=4.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (4.2.1)
2025-08-19T12:11:16.5063900Z Requirement already satisfied: kombu<5.6,>=5.5.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (5.5.4)
2025-08-19T12:11:16.5067966Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (5.1.0)
2025-08-19T12:11:16.5073009Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (0.3.1)
2025-08-19T12:11:16.5076884Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (0.3.0)
2025-08-19T12:11:16.5080793Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (1.1.1.2)
2025-08-19T12:11:16.5085386Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.5.3->-r requirements-dev.txt (line 11)) (2.9.0.post0)
2025-08-19T12:11:16.5383374Z Collecting starlette>=0.18 (from asgi-correlation-id==4.3.1->-r requirements-dev.txt (line 5))
2025-08-19T12:11:16.5394519Z   Using cached starlette-0.47.2-py3-none-any.whl.metadata (6.2 kB)
2025-08-19T12:11:16.5441535Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (0.7.0)
2025-08-19T12:11:16.5446225Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (2.33.2)
2025-08-19T12:11:16.5452994Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (0.4.1)
2025-08-19T12:11:16.5500966Z Requirement already satisfied: et-xmlfile in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from openpyxl==3.1.5->-r requirements-dev.txt (line 21)) (2.0.0)
2025-08-19T12:11:16.5883130Z Collecting pytest<9,>=7.0.0 (from pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27))
2025-08-19T12:11:16.5894386Z   Using cached pytest-8.4.1-py3-none-any.whl.metadata (7.7 kB)
2025-08-19T12:11:16.9066311Z Collecting coverage>=7.5 (from coverage[toml]>=7.5->pytest-cov==6.2.1->-r requirements-dev.txt (line 28))
2025-08-19T12:11:16.9079455Z   Using cached coverage-7.10.4-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.9 kB)
2025-08-19T12:11:16.9198083Z Collecting pluggy>=1.2 (from pytest-cov==6.2.1->-r requirements-dev.txt (line 28))
2025-08-19T12:11:16.9208957Z   Using cached pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
2025-08-19T12:11:16.9460080Z Collecting port-for>=0.7.3 (from pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-19T12:11:16.9471976Z   Using cached port_for-0.7.4-py3-none-any.whl.metadata (7.1 kB)
2025-08-19T12:11:16.9623407Z Collecting mirakuru>=2.6.0 (from pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-19T12:11:16.9634868Z   Using cached mirakuru-2.6.1-py3-none-any.whl.metadata (10 kB)
2025-08-19T12:11:16.9686649Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (3.4.3)
2025-08-19T12:11:16.9691895Z Requirement already satisfied: idna<4,>=2.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (3.10)
2025-08-19T12:11:16.9696516Z Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (2.5.0)
2025-08-19T12:11:16.9701402Z Requirement already satisfied: certifi>=2017.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (2025.8.3)
2025-08-19T12:11:16.9816695Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy==2.0.29->-r requirements-dev.txt (line 36)) (3.2.4)
2025-08-19T12:11:17.0064901Z Collecting docker (from testcontainers==4.10.0->testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38))
2025-08-19T12:11:17.0077218Z   Using cached docker-7.1.0-py3-none-any.whl.metadata (3.8 kB)
2025-08-19T12:11:17.0118220Z Requirement already satisfied: wrapt in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from testcontainers==4.10.0->testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38)) (1.17.3)
2025-08-19T12:11:17.0272523Z Collecting docspec==2.2.1 (from docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-19T12:11:17.0284869Z   Using cached docspec-2.2.1-py3-none-any.whl.metadata (1.5 kB)
2025-08-19T12:11:17.0432325Z Collecting nr-util>=0.8.12 (from docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-19T12:11:17.0443932Z   Using cached nr.util-0.8.12-py3-none-any.whl.metadata (813 bytes)
2025-08-19T12:11:17.0475479Z Requirement already satisfied: PyYAML<7.0,>=5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41)) (6.0.2)
2025-08-19T12:11:17.0679256Z Collecting databind.core<5.0.0,>=4.4.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.0691026Z   Using cached databind.core-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-19T12:11:17.0909195Z Collecting databind.json<5.0.0,>=4.4.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.0920708Z   Using cached databind.json-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-19T12:11:17.1048983Z Collecting docstring-parser<0.12,>=0.11 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.1050374Z   Using cached docstring_parser-0.11-py3-none-any.whl
2025-08-19T12:11:17.1346237Z Collecting tomli<3.0.0,>=2.0.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.1358344Z   Using cached tomli-2.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)
2025-08-19T12:11:17.1452660Z Collecting tomli_w<2.0.0,>=1.0.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.1464148Z   Using cached tomli_w-1.2.0-py3-none-any.whl.metadata (5.7 kB)
2025-08-19T12:11:17.2283358Z Collecting watchdog (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.2296636Z   Using cached watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl.metadata (44 kB)
2025-08-19T12:11:17.2493839Z Collecting yapf>=0.30.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.2505423Z   Using cached yapf-0.43.0-py3-none-any.whl.metadata (46 kB)
2025-08-19T12:11:17.2681744Z Collecting Deprecated<2.0.0,>=1.2.12 (from docspec==2.2.1->docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-19T12:11:17.2693671Z   Using cached Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
2025-08-19T12:11:17.2876800Z Requirement already satisfied: psycopg-binary==3.2.9 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from psycopg[binary]==3.2.9->-r requirements-dev.txt (line 24)) (3.2.9)
2025-08-19T12:11:17.2982946Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (4.10.0)
2025-08-19T12:11:17.2989158Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (1.0.9)
2025-08-19T12:11:17.3107845Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas==2.2.*->-r requirements-dev.txt (line 22)) (2025.2)
2025-08-19T12:11:17.3216275Z Requirement already satisfied: multimethod<=1.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (1.10)
2025-08-19T12:11:17.3230798Z Requirement already satisfied: typeguard in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (4.4.4)
2025-08-19T12:11:17.3237686Z Requirement already satisfied: typing-inspect>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (0.9.0)
2025-08-19T12:11:17.3507134Z Collecting databind<5.0.0,>=4.5.2 (from databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.3519107Z   Using cached databind-4.5.2-py3-none-any.whl.metadata (4.3 kB)
2025-08-19T12:11:17.3633058Z Collecting nr-date<3.0.0,>=2.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.3644601Z   Using cached nr_date-2.1.0-py3-none-any.whl.metadata (746 bytes)
2025-08-19T12:11:17.3761105Z Collecting nr-stream<2.0.0,>=1.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.3777977Z   Using cached nr_stream-1.1.5-py3-none-any.whl.metadata (3.6 kB)
2025-08-19T12:11:17.3930853Z Collecting typeapi<3,>=2.0.1 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-19T12:11:17.3943210Z   Using cached typeapi-2.2.4-py3-none-any.whl.metadata (1.5 kB)
2025-08-19T12:11:17.4040335Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (0.16.0)
2025-08-19T12:11:17.4084007Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<5.6,>=5.5.2->celery==5.5.3->-r requirements-dev.txt (line 11)) (5.3.1)
2025-08-19T12:11:17.4336075Z Collecting iniconfig>=1 (from pytest<9,>=7.0.0->pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27))
2025-08-19T12:11:17.4347916Z   Using cached iniconfig-2.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-19T12:11:17.4386009Z Requirement already satisfied: pygments>=2.7.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest<9,>=7.0.0->pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27)) (2.19.2)
2025-08-19T12:11:17.4472384Z Requirement already satisfied: sniffio>=1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio->httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (1.3.1)
2025-08-19T12:11:17.4620929Z Requirement already satisfied: botocore<1.35.0,>=1.34.162 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (1.34.162)
2025-08-19T12:11:17.4628776Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (1.0.1)
2025-08-19T12:11:17.4636409Z Requirement already satisfied: s3transfer<0.11.0,>=0.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (0.10.4)
2025-08-19T12:11:17.4760441Z Requirement already satisfied: fastapi-cli>=0.0.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.0.8)
2025-08-19T12:11:17.4889148Z Requirement already satisfied: ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (5.10.0)
2025-08-19T12:11:17.4896214Z Requirement already satisfied: orjson>=3.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (3.11.2)
2025-08-19T12:11:17.4903234Z Requirement already satisfied: email-validator>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (2.2.0)
2025-08-19T12:11:17.4911869Z Requirement already satisfied: uvicorn>=0.12.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.29.0)
2025-08-19T12:11:17.4920454Z Requirement already satisfied: pydantic-settings>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (2.2.1)
2025-08-19T12:11:17.5040554Z Collecting pydantic-extra-types>=2.0.0 (from fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-19T12:11:17.5052724Z   Using cached pydantic_extra_types-2.10.5-py3-none-any.whl.metadata (3.9 kB)
2025-08-19T12:11:17.5306011Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.5.3->-r requirements-dev.txt (line 11)) (3.0.51)
2025-08-19T12:11:17.5378357Z Requirement already satisfied: dnspython>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from email-validator>=2.0.0->fastapi[all]->-r requirements-dev.txt (line 13)) (2.7.0)
2025-08-19T12:11:17.5448946Z Requirement already satisfied: typer>=0.15.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.16.1)
2025-08-19T12:11:17.5459816Z Requirement already satisfied: rich-toolkit>=0.14.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.15.0)
2025-08-19T12:11:17.5573758Z Collecting fastapi-cloud-cli>=0.1.1 (from fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-19T12:11:17.5585185Z   Using cached fastapi_cloud_cli-0.1.5-py3-none-any.whl.metadata (3.2 kB)
2025-08-19T12:11:17.6287405Z Collecting rignore>=0.5.1 (from fastapi-cloud-cli>=0.1.1->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-19T12:11:17.6299888Z   Using cached rignore-0.6.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)
2025-08-19T12:11:17.6809160Z Collecting sentry-sdk>=2.20.0 (from fastapi-cloud-cli>=0.1.1->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-19T12:11:17.6821586Z   Using cached sentry_sdk-2.35.0-py2.py3-none-any.whl.metadata (10 kB)
2025-08-19T12:11:17.7743428Z Collecting psutil>=4.0.0 (from mirakuru>=2.6.0->pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-19T12:11:17.7757031Z   Using cached psutil-7.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (22 kB)
2025-08-19T12:11:17.7945712Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.5.3->-r requirements-dev.txt (line 11)) (0.2.13)
2025-08-19T12:11:17.8146050Z Requirement already satisfied: rich>=13.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (14.1.0)
2025-08-19T12:11:17.8183215Z Requirement already satisfied: markdown-it-py>=2.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (4.0.0)
2025-08-19T12:11:17.8216122Z Requirement already satisfied: mdurl~=0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.1.2)
2025-08-19T12:11:17.8405908Z Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from typer>=0.15.1->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (1.5.4)
2025-08-19T12:11:17.8643726Z Requirement already satisfied: httptools>=0.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.6.4)
2025-08-19T12:11:17.8661787Z Requirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.21.0)
2025-08-19T12:11:17.8669989Z Requirement already satisfied: watchfiles>=0.13 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (1.1.0)
2025-08-19T12:11:17.8678398Z Requirement already satisfied: websockets>=10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (15.0.1)
2025-08-19T12:11:17.9192936Z Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
2025-08-19T12:11:17.9205964Z Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
2025-08-19T12:11:17.9245359Z Using cached black-25.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl (1.8 MB)
2025-08-19T12:11:17.9269104Z Using cached celery-5.5.3-py3-none-any.whl (438 kB)
2025-08-19T12:11:17.9283294Z Using cached fastapi-0.116.1-py3-none-any.whl (95 kB)
2025-08-19T12:11:17.9294459Z Using cached IMAPClient-3.0.1-py2.py3-none-any.whl (182 kB)
2025-08-19T12:11:17.9307233Z Using cached pytest_asyncio-0.23.6-py3-none-any.whl (17 kB)
2025-08-19T12:11:17.9318333Z Using cached pytest_cov-6.2.1-py3-none-any.whl (24 kB)
2025-08-19T12:11:17.9329826Z Using cached pytest_postgresql-7.0.2-py3-none-any.whl (41 kB)
2025-08-19T12:11:17.9340905Z Using cached python_telegram_bot-22.3-py3-none-any.whl (717 kB)
2025-08-19T12:11:17.9357228Z Using cached requests-2.32.4-py3-none-any.whl (64 kB)
2025-08-19T12:11:17.9368295Z Using cached respx-0.22.0-py2.py3-none-any.whl (25 kB)
2025-08-19T12:11:17.9379363Z Using cached ruff-0.4.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (8.7 MB)
2025-08-19T12:11:17.9455372Z Using cached testcontainers-4.10.0-py3-none-any.whl (107 kB)
2025-08-19T12:11:17.9466980Z Using cached types_requests-2.32.0.20240602-py3-none-any.whl (15 kB)
2025-08-19T12:11:17.9477833Z Using cached docspec_python-2.2.2-py3-none-any.whl (15 kB)
2025-08-19T12:11:17.9488592Z Using cached pydoc_markdown-4.8.2-py3-none-any.whl (67 kB)
2025-08-19T12:11:17.9499602Z Using cached docspec-2.2.1-py3-none-any.whl (9.8 kB)
2025-08-19T12:11:17.9510501Z Using cached httpx-0.28.1-py3-none-any.whl (73 kB)
2025-08-19T12:11:17.9522440Z Using cached mypy-1.17.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (12.7 MB)
2025-08-19T12:11:17.9627343Z Using cached databind.core-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-19T12:11:17.9638008Z Using cached databind-4.5.2-py3-none-any.whl (49 kB)
2025-08-19T12:11:17.9649189Z Using cached databind.json-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-19T12:11:17.9660012Z Using cached Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
2025-08-19T12:11:17.9670773Z Using cached nr_date-2.1.0-py3-none-any.whl (10 kB)
2025-08-19T12:11:17.9681676Z Using cached nr_stream-1.1.5-py3-none-any.whl (10 kB)
2025-08-19T12:11:17.9692677Z Using cached nr.util-0.8.12-py3-none-any.whl (90 kB)
2025-08-19T12:11:17.9704225Z Using cached pytest-8.4.1-py3-none-any.whl (365 kB)
2025-08-19T12:11:17.9717741Z Using cached pluggy-1.6.0-py3-none-any.whl (20 kB)
2025-08-19T12:11:17.9729390Z Using cached starlette-0.47.2-py3-none-any.whl (72 kB)
2025-08-19T12:11:17.9741062Z Using cached tomli-2.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (242 kB)
2025-08-19T12:11:17.9754141Z Using cached tomli_w-1.2.0-py3-none-any.whl (6.7 kB)
2025-08-19T12:11:17.9765341Z Using cached typeapi-2.2.4-py3-none-any.whl (26 kB)
2025-08-19T12:11:17.9776809Z Using cached itsdangerous-2.2.0-py3-none-any.whl (16 kB)
2025-08-19T12:11:17.9788189Z Using cached setuptools-80.9.0-py3-none-any.whl (1.2 MB)
2025-08-19T12:11:17.9809377Z Using cached coverage-7.10.4-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (251 kB)
2025-08-19T12:11:17.9822359Z Using cached fastapi_cloud_cli-0.1.5-py3-none-any.whl (18 kB)
2025-08-19T12:11:17.9833773Z Using cached iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
2025-08-19T12:11:17.9845135Z Using cached mirakuru-2.6.1-py3-none-any.whl (26 kB)
2025-08-19T12:11:17.9856412Z Using cached pathspec-0.12.1-py3-none-any.whl (31 kB)
2025-08-19T12:11:17.9867957Z Using cached platformdirs-4.3.8-py3-none-any.whl (18 kB)
2025-08-19T12:11:17.9879069Z Using cached port_for-0.7.4-py3-none-any.whl (21 kB)
2025-08-19T12:11:17.9891089Z Using cached psutil-7.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (277 kB)
2025-08-19T12:11:17.9904471Z Using cached pydantic_extra_types-2.10.5-py3-none-any.whl (38 kB)
2025-08-19T12:11:17.9916207Z Using cached rignore-0.6.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (949 kB)
2025-08-19T12:11:17.9934490Z Using cached sentry_sdk-2.35.0-py2.py3-none-any.whl (363 kB)
2025-08-19T12:11:17.9948202Z Using cached yapf-0.43.0-py3-none-any.whl (256 kB)
2025-08-19T12:11:17.9961313Z Using cached docker-7.1.0-py3-none-any.whl (147 kB)
2025-08-19T12:11:17.9973743Z Using cached watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl (79 kB)
2025-08-19T12:11:18.2527118Z Installing collected packages: watchdog, types-requests, typeapi, tomli_w, tomli, setuptools, sentry-sdk, ruff, rignore, requests, psutil, port-for, pluggy, platformdirs, pathspec, nr-stream, nr-date, Jinja2, itsdangerous, iniconfig, imapclient, docstring-parser, Deprecated, coverage, asyncpg, yapf, starlette, pytest, nr-util, mypy, mirakuru, httpx, docker, databind, black, testcontainers, respx, python-telegram-bot, pytest-postgresql, pytest-cov, pytest-asyncio, pydantic-extra-types, fastapi, databind.json, databind.core, celery, fastapi-cloud-cli, docspec, docspec-python, pydoc-markdown
2025-08-19T12:11:19.1083534Z   Attempting uninstall: sentry-sdk
2025-08-19T12:11:19.1117103Z     Found existing installation: sentry-sdk 2.9.0
2025-08-19T12:11:19.1246925Z     Uninstalling sentry-sdk-2.9.0:
2025-08-19T12:11:19.1269477Z       Successfully uninstalled sentry-sdk-2.9.0
2025-08-19T12:11:19.5068679Z   Attempting uninstall: requests
2025-08-19T12:11:19.5113334Z     Found existing installation: requests 2.32.5
2025-08-19T12:11:19.5143173Z     Uninstalling requests-2.32.5:
2025-08-19T12:11:19.5152495Z       Successfully uninstalled requests-2.32.5
2025-08-19T12:11:19.8069055Z   Attempting uninstall: Jinja2
2025-08-19T12:11:19.8118226Z     Found existing installation: Jinja2 3.1.5
2025-08-19T12:11:19.8151788Z     Uninstalling Jinja2-3.1.5:
2025-08-19T12:11:19.8160776Z       Successfully uninstalled Jinja2-3.1.5
2025-08-19T12:11:20.1559243Z   Attempting uninstall: asyncpg
2025-08-19T12:11:20.1613107Z     Found existing installation: asyncpg 0.29.0
2025-08-19T12:11:20.1661042Z     Uninstalling asyncpg-0.29.0:
2025-08-19T12:11:20.1674844Z       Successfully uninstalled asyncpg-0.29.0
2025-08-19T12:11:20.4416070Z   Attempting uninstall: starlette
2025-08-19T12:11:20.4466453Z     Found existing installation: starlette 0.37.2
2025-08-19T12:11:20.4507901Z     Uninstalling starlette-0.37.2:
2025-08-19T12:11:20.4518644Z       Successfully uninstalled starlette-0.37.2
2025-08-19T12:11:22.3017246Z   Attempting uninstall: httpx
2025-08-19T12:11:22.3067243Z     Found existing installation: httpx 0.26.0
2025-08-19T12:11:22.3103239Z     Uninstalling httpx-0.26.0:
2025-08-19T12:11:22.3116370Z       Successfully uninstalled httpx-0.26.0
2025-08-19T12:11:22.7499548Z   Attempting uninstall: python-telegram-bot
2025-08-19T12:11:22.7549471Z     Found existing installation: python-telegram-bot 20.8
2025-08-19T12:11:22.7705192Z     Uninstalling python-telegram-bot-20.8:
2025-08-19T12:11:22.7728679Z       Successfully uninstalled python-telegram-bot-20.8
2025-08-19T12:11:23.2413338Z   Attempting uninstall: fastapi
2025-08-19T12:11:23.2458871Z     Found existing installation: fastapi 0.111.0
2025-08-19T12:11:23.2510630Z     Uninstalling fastapi-0.111.0:
2025-08-19T12:11:23.2523206Z       Successfully uninstalled fastapi-0.111.0
2025-08-19T12:11:23.3397090Z   Attempting uninstall: celery
2025-08-19T12:11:23.3439039Z     Found existing installation: celery 5.4.0
2025-08-19T12:11:23.3588746Z     Uninstalling celery-5.4.0:
2025-08-19T12:11:23.3616836Z       Successfully uninstalled celery-5.4.0
2025-08-19T12:11:23.7741828Z 
2025-08-19T12:11:23.7861729Z Successfully installed Deprecated-1.2.18 Jinja2-3.1.6 asyncpg-0.30.0 black-25.1.0 celery-5.5.3 coverage-7.10.4 databind-4.5.2 databind.core-4.5.2 databind.json-4.5.2 docker-7.1.0 docspec-2.2.1 docspec-python-2.2.2 docstring-parser-0.11 fastapi-0.116.1 fastapi-cloud-cli-0.1.5 httpx-0.28.1 imapclient-3.0.1 iniconfig-2.1.0 itsdangerous-2.2.0 mirakuru-2.6.1 mypy-1.17.1 nr-date-2.1.0 nr-stream-1.1.5 nr-util-0.8.12 pathspec-0.12.1 platformdirs-4.3.8 pluggy-1.6.0 port-for-0.7.4 psutil-7.0.0 pydantic-extra-types-2.10.5 pydoc-markdown-4.8.2 pytest-8.4.1 pytest-asyncio-0.23.6 pytest-cov-6.2.1 pytest-postgresql-7.0.2 python-telegram-bot-22.3 requests-2.32.4 respx-0.22.0 rignore-0.6.4 ruff-0.4.4 sentry-sdk-2.35.0 setuptools-80.9.0 starlette-0.47.2 testcontainers-4.10.0 tomli-2.2.1 tomli_w-1.2.0 typeapi-2.2.4 types-requests-2.32.0.20240602 watchdog-6.0.0 yapf-0.43.0
2025-08-19T12:11:24.4252451Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (0.30.0)
2025-08-19T12:11:25.0407095Z Requirement already satisfied: pytest in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (8.4.1)
2025-08-19T12:11:25.0421460Z Requirement already satisfied: iniconfig>=1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (2.1.0)
2025-08-19T12:11:25.0427213Z Requirement already satisfied: packaging>=20 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (25.0)
2025-08-19T12:11:25.0432980Z Requirement already satisfied: pluggy<2,>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (1.6.0)
2025-08-19T12:11:25.0437849Z Requirement already satisfied: pygments>=2.7.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (2.19.2)
2025-08-19T12:11:25.7119293Z Collecting keepa==1.3.15
2025-08-19T12:11:25.7132256Z   Using cached keepa-1.3.15-py3-none-any.whl.metadata (11 kB)
2025-08-19T12:11:25.7170615Z Requirement already satisfied: minio==7.1.15 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (7.1.15)
2025-08-19T12:11:25.7179274Z Requirement already satisfied: numpy>=1.9.3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (1.26.4)
2025-08-19T12:11:25.7184818Z Requirement already satisfied: requests>=2.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.32.4)
2025-08-19T12:11:25.7187918Z Requirement already satisfied: tqdm in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (4.67.1)
2025-08-19T12:11:25.7191303Z Requirement already satisfied: aiohttp in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (3.12.15)
2025-08-19T12:11:25.7196277Z Requirement already satisfied: pandas<=3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.2.3)
2025-08-19T12:11:25.7199617Z Requirement already satisfied: pydantic in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.11.7)
2025-08-19T12:11:25.7209848Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from minio==7.1.15) (2025.8.3)
2025-08-19T12:11:25.7214071Z Requirement already satisfied: urllib3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from minio==7.1.15) (2.5.0)
2025-08-19T12:11:25.7268356Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2.9.0.post0)
2025-08-19T12:11:25.7273413Z Requirement already satisfied: pytz>=2020.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2025.2)
2025-08-19T12:11:25.7278263Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2025.2)
2025-08-19T12:11:25.7412795Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->pandas<=3.0->keepa==1.3.15) (1.17.0)
2025-08-19T12:11:25.7432374Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests>=2.2->keepa==1.3.15) (3.4.3)
2025-08-19T12:11:25.7437757Z Requirement already satisfied: idna<4,>=2.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests>=2.2->keepa==1.3.15) (3.10)
2025-08-19T12:11:25.7508634Z Requirement already satisfied: aiohappyeyeballs>=2.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (2.6.1)
2025-08-19T12:11:25.7513688Z Requirement already satisfied: aiosignal>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.4.0)
2025-08-19T12:11:25.7520185Z Requirement already satisfied: attrs>=17.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (25.3.0)
2025-08-19T12:11:25.7525279Z Requirement already satisfied: frozenlist>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.7.0)
2025-08-19T12:11:25.7530449Z Requirement already satisfied: multidict<7.0,>=4.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (6.6.4)
2025-08-19T12:11:25.7536177Z Requirement already satisfied: propcache>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (0.3.2)
2025-08-19T12:11:25.7541555Z Requirement already satisfied: yarl<2.0,>=1.17.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.20.1)
2025-08-19T12:11:25.7600694Z Requirement already satisfied: typing-extensions>=4.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiosignal>=1.4.0->aiohttp->keepa==1.3.15) (4.14.1)
2025-08-19T12:11:25.7694611Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (0.7.0)
2025-08-19T12:11:25.7699821Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (2.33.2)
2025-08-19T12:11:25.7707912Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (0.4.1)
2025-08-19T12:11:25.7788456Z Using cached keepa-1.3.15-py3-none-any.whl (38 kB)
2025-08-19T12:11:25.9480363Z Installing collected packages: keepa
2025-08-19T12:11:25.9481602Z   Attempting uninstall: keepa
2025-08-19T12:11:25.9513901Z     Found existing installation: keepa 1.3.14
2025-08-19T12:11:25.9535857Z     Uninstalling keepa-1.3.14:
2025-08-19T12:11:25.9544772Z       Successfully uninstalled keepa-1.3.14
2025-08-19T12:11:25.9981937Z Successfully installed keepa-1.3.15
2025-08-19T12:11:26.0597671Z ##[group]Run actions/setup-node@v4
2025-08-19T12:11:26.0597946Z with:
2025-08-19T12:11:26.0598132Z   node-version: 20.19.0
2025-08-19T12:11:26.0598341Z   always-auth: false
2025-08-19T12:11:26.0598533Z   check-latest: false
2025-08-19T12:11:26.0598820Z   token: ***
2025-08-19T12:11:26.0598999Z env:
2025-08-19T12:11:26.0599197Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:26.0599470Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:26.0599701Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:26.0599904Z   PG_USER: postgres
2025-08-19T12:11:26.0600104Z   PG_PASSWORD: pass
2025-08-19T12:11:26.0600291Z   PG_DATABASE: awa
2025-08-19T12:11:26.0600473Z   PG_HOST: localhost
2025-08-19T12:11:26.0600663Z   PG_PORT: 5432
2025-08-19T12:11:26.0601022Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:26.0601588Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:26.0601973Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:26.0602214Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:26.0602456Z   ENABLE_LIVE: 0
2025-08-19T12:11:26.0602634Z   TESTING: 1
2025-08-19T12:11:26.0602876Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:26.0603280Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:26.0603676Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:26.0604026Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:26.0604376Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:26.0604722Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:26.0605022Z ##[endgroup]
2025-08-19T12:11:26.2319537Z Attempting to download 20.19.0...
2025-08-19T12:11:26.6892474Z Acquiring 20.19.0 - x64 from https://github.com/actions/node-versions/releases/download/20.19.0-13838090974/node-20.19.0-linux-x64.tar.gz
2025-08-19T12:11:27.1010191Z Extracting ...
2025-08-19T12:11:27.1121770Z [command]/usr/bin/tar xz --strip 1 --warning=no-unknown-keyword --overwrite -C /home/runner/work/_temp/d462cd4a-9997-4326-bec0-0509cb065669 -f /home/runner/work/_temp/8fb16d7b-fe87-44fc-8312-75c35b790ee0
2025-08-19T12:11:28.1081403Z Adding to the cache ...
2025-08-19T12:11:29.8291539Z ##[group]Environment details
2025-08-19T12:11:30.0512643Z node: v20.19.0
2025-08-19T12:11:30.0513104Z npm: 10.8.2
2025-08-19T12:11:30.0513440Z yarn: 1.22.22
2025-08-19T12:11:30.0514133Z ##[endgroup]
2025-08-19T12:11:30.0681836Z ##[group]Run npm ci
2025-08-19T12:11:30.0682102Z [36;1mnpm ci[0m
2025-08-19T12:11:30.0723334Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:30.0723745Z env:
2025-08-19T12:11:30.0723968Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:30.0724248Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:30.0724478Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:30.0724681Z   PG_USER: postgres
2025-08-19T12:11:30.0724876Z   PG_PASSWORD: pass
2025-08-19T12:11:30.0725060Z   PG_DATABASE: awa
2025-08-19T12:11:30.0725247Z   PG_HOST: localhost
2025-08-19T12:11:30.0725437Z   PG_PORT: 5432
2025-08-19T12:11:30.0725886Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:30.0726305Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:30.0726710Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:30.0726958Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:30.0727170Z   ENABLE_LIVE: 0
2025-08-19T12:11:30.0727350Z   TESTING: 1
2025-08-19T12:11:30.0727635Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:30.0728043Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:30.0728436Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:30.0728798Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:30.0729158Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:30.0729521Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:30.0729871Z ##[endgroup]
2025-08-19T12:11:32.8836862Z npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
2025-08-19T12:11:36.1687436Z 
2025-08-19T12:11:36.1689026Z added 432 packages, and audited 433 packages in 6s
2025-08-19T12:11:36.1689451Z 
2025-08-19T12:11:36.1689707Z 112 packages are looking for funding
2025-08-19T12:11:36.1690166Z   run `npm fund` for details
2025-08-19T12:11:36.1710222Z 
2025-08-19T12:11:36.1710761Z 2 vulnerabilities (1 low, 1 critical)
2025-08-19T12:11:36.1711338Z 
2025-08-19T12:11:36.1712829Z To address all issues, run:
2025-08-19T12:11:36.1713301Z   npm audit fix
2025-08-19T12:11:36.1713509Z 
2025-08-19T12:11:36.1713754Z Run `npm audit` for details.
2025-08-19T12:11:36.2042709Z ##[group]Run npm run build --if-present
2025-08-19T12:11:36.2043227Z [36;1mnpm run build --if-present[0m
2025-08-19T12:11:36.2095697Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:36.2096060Z env:
2025-08-19T12:11:36.2096374Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:36.2096817Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:36.2097195Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:36.2097527Z   PG_USER: postgres
2025-08-19T12:11:36.2097847Z   PG_PASSWORD: pass
2025-08-19T12:11:36.2098160Z   PG_DATABASE: awa
2025-08-19T12:11:36.2098467Z   PG_HOST: localhost
2025-08-19T12:11:36.2098779Z   PG_PORT: 5432
2025-08-19T12:11:36.2099446Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:36.2100137Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:36.2100792Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:36.2101340Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:36.2101685Z   ENABLE_LIVE: 0
2025-08-19T12:11:36.2101975Z   TESTING: 1
2025-08-19T12:11:36.2102419Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:36.2103112Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:36.2103801Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:36.2104405Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:36.2104999Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:36.2105605Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:36.2106105Z ##[endgroup]
2025-08-19T12:11:36.3251812Z 
2025-08-19T12:11:36.3252518Z > web@0.0.0 build
2025-08-19T12:11:36.3252962Z > tsc -b && vite build
2025-08-19T12:11:36.3253205Z 
2025-08-19T12:11:38.9606143Z [36mvite v7.0.4 [32mbuilding for production...[36m[39m
2025-08-19T12:11:39.1311315Z transforming...
2025-08-19T12:11:42.1883942Z [32m✓[39m 687 modules transformed.
2025-08-19T12:11:42.6366938Z rendering chunks...
2025-08-19T12:11:42.6453489Z computing gzip size...
2025-08-19T12:11:42.6641442Z [2mdist/[22m[32mindex.html                 [39m[1m[2m  0.46 kB[22m[1m[22m[2m │ gzip:   0.30 kB[22m
2025-08-19T12:11:42.6642504Z [2mdist/[22m[2massets/[22m[35mindex-5IA1gRGW.css  [39m[1m[2m  0.84 kB[22m[1m[22m[2m │ gzip:   0.45 kB[22m
2025-08-19T12:11:42.6643343Z [2mdist/[22m[2massets/[22m[36mindex-CIqpArhq.js   [39m[1m[33m613.66 kB[39m[22m[2m │ gzip: 193.69 kB[22m
2025-08-19T12:11:42.6644592Z [33m
2025-08-19T12:11:42.6645121Z (!) Some chunks are larger than 500 kB after minification. Consider:
2025-08-19T12:11:42.6645600Z - Using dynamic import() to code-split the application
2025-08-19T12:11:42.6646383Z - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
2025-08-19T12:11:42.6647524Z - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.[39m
2025-08-19T12:11:42.6648360Z [32m✓ built in 3.68s[39m
2025-08-19T12:11:42.7090253Z ##[group]Run sudo apt-get update
2025-08-19T12:11:42.7090569Z [36;1msudo apt-get update[0m
2025-08-19T12:11:42.7090828Z [36;1msudo apt-get install -y postgresql[0m
2025-08-19T12:11:42.7091817Z [36;1mecho "/usr/lib/postgresql/$(pg_config --version | cut -d' ' -f2 | cut -d'.' -f1,2)/bin" >> $GITHUB_PATH[0m
2025-08-19T12:11:42.7133412Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:42.7133658Z env:
2025-08-19T12:11:42.7133865Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:42.7134153Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:42.7134388Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:42.7134594Z   PG_USER: postgres
2025-08-19T12:11:42.7134788Z   PG_PASSWORD: pass
2025-08-19T12:11:42.7134974Z   PG_DATABASE: awa
2025-08-19T12:11:42.7135156Z   PG_HOST: localhost
2025-08-19T12:11:42.7135345Z   PG_PORT: 5432
2025-08-19T12:11:42.7135774Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:42.7136276Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:42.7136700Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:42.7136961Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:42.7137165Z   ENABLE_LIVE: 0
2025-08-19T12:11:42.7137354Z   TESTING: 1
2025-08-19T12:11:42.7137602Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:42.7138018Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:42.7138419Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:42.7138784Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:42.7139144Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:42.7139500Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:42.7139804Z ##[endgroup]
2025-08-19T12:11:42.7979815Z Get:1 file:/etc/apt/apt-mirrors.txt Mirrorlist [144 B]
2025-08-19T12:11:42.8330954Z Hit:2 http://azure.archive.ubuntu.com/ubuntu noble InRelease
2025-08-19T12:11:42.8333029Z Hit:6 https://packages.microsoft.com/repos/azure-cli noble InRelease
2025-08-19T12:11:42.8351111Z Get:3 http://azure.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
2025-08-19T12:11:42.8359034Z Get:7 https://packages.microsoft.com/ubuntu/24.04/prod noble InRelease [3600 B]
2025-08-19T12:11:42.8400226Z Get:4 http://azure.archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
2025-08-19T12:11:42.8424465Z Get:5 http://azure.archive.ubuntu.com/ubuntu noble-security InRelease [126 kB]
2025-08-19T12:11:42.9973248Z Get:8 https://packages.microsoft.com/ubuntu/24.04/prod noble/main amd64 Packages [47.9 kB]
2025-08-19T12:11:43.0086879Z Get:9 https://packages.microsoft.com/ubuntu/24.04/prod noble/main arm64 Packages [33.1 kB]
2025-08-19T12:11:43.0440193Z Get:10 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [1337 kB]
2025-08-19T12:11:43.0526154Z Get:11 http://azure.archive.ubuntu.com/ubuntu noble-updates/main Translation-en [267 kB]
2025-08-19T12:11:43.0551620Z Get:12 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 Components [175 kB]
2025-08-19T12:11:43.0583101Z Get:13 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [1121 kB]
2025-08-19T12:11:43.0649032Z Get:14 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe Translation-en [288 kB]
2025-08-19T12:11:43.0677766Z Get:15 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Components [377 kB]
2025-08-19T12:11:43.0708408Z Get:16 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [1700 kB]
2025-08-19T12:11:43.0796119Z Get:17 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted Translation-en [375 kB]
2025-08-19T12:11:43.0834492Z Get:18 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Components [212 B]
2025-08-19T12:11:43.0845393Z Get:19 http://azure.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Components [940 B]
2025-08-19T12:11:43.1460165Z Get:20 http://azure.archive.ubuntu.com/ubuntu noble-backports/main amd64 Components [7072 B]
2025-08-19T12:11:43.1480279Z Get:21 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Packages [30.2 kB]
2025-08-19T12:11:43.1493711Z Get:22 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe Translation-en [17.4 kB]
2025-08-19T12:11:43.1505405Z Get:23 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Components [19.2 kB]
2025-08-19T12:11:43.1518514Z Get:24 http://azure.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 Components [216 B]
2025-08-19T12:11:43.1592626Z Get:25 http://azure.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 Components [212 B]
2025-08-19T12:11:43.1608165Z Get:26 http://azure.archive.ubuntu.com/ubuntu noble-security/main amd64 Packages [1075 kB]
2025-08-19T12:11:43.1672173Z Get:27 http://azure.archive.ubuntu.com/ubuntu noble-security/main Translation-en [186 kB]
2025-08-19T12:11:43.1694037Z Get:28 http://azure.archive.ubuntu.com/ubuntu noble-security/main amd64 Components [21.6 kB]
2025-08-19T12:11:43.1705417Z Get:29 http://azure.archive.ubuntu.com/ubuntu noble-security/universe amd64 Packages [879 kB]
2025-08-19T12:11:43.1755379Z Get:30 http://azure.archive.ubuntu.com/ubuntu noble-security/universe Translation-en [195 kB]
2025-08-19T12:11:43.1790825Z Get:31 http://azure.archive.ubuntu.com/ubuntu noble-security/universe amd64 Components [52.2 kB]
2025-08-19T12:11:43.1806453Z Get:32 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [1610 kB]
2025-08-19T12:11:43.1893315Z Get:33 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted Translation-en [357 kB]
2025-08-19T12:11:43.2339225Z Get:34 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted amd64 Components [212 B]
2025-08-19T12:11:43.2350331Z Get:35 http://azure.archive.ubuntu.com/ubuntu noble-security/multiverse amd64 Components [212 B]
2025-08-19T12:11:49.9978207Z Fetched 10.6 MB in 1s (7933 kB/s)
2025-08-19T12:11:50.6945848Z Reading package lists...
2025-08-19T12:11:50.7273651Z Reading package lists...
2025-08-19T12:11:50.9083513Z Building dependency tree...
2025-08-19T12:11:50.9090533Z Reading state information...
2025-08-19T12:11:51.0660873Z Suggested packages:
2025-08-19T12:11:51.0661623Z   postgresql-doc
2025-08-19T12:11:51.0815084Z The following NEW packages will be installed:
2025-08-19T12:11:51.0815652Z   postgresql
2025-08-19T12:11:51.0984562Z 0 upgraded, 1 newly installed, 0 to remove and 39 not upgraded.
2025-08-19T12:11:51.0985380Z Need to get 11.6 kB of archives.
2025-08-19T12:11:51.0986093Z After this operation, 17.4 kB of additional disk space will be used.
2025-08-19T12:11:51.0986800Z Get:1 file:/etc/apt/apt-mirrors.txt Mirrorlist [144 B]
2025-08-19T12:11:51.1446997Z Get:2 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 postgresql all 16+257build1.1 [11.6 kB]
2025-08-19T12:11:51.3998282Z Fetched 11.6 kB in 0s (205 kB/s)
2025-08-19T12:11:51.4186583Z Selecting previously unselected package postgresql.
2025-08-19T12:11:51.4368260Z (Reading database ... 
2025-08-19T12:11:51.4368760Z (Reading database ... 5%
2025-08-19T12:11:51.4369562Z (Reading database ... 10%
2025-08-19T12:11:51.4369937Z (Reading database ... 15%
2025-08-19T12:11:51.4370339Z (Reading database ... 20%
2025-08-19T12:11:51.4370763Z (Reading database ... 25%
2025-08-19T12:11:51.4371391Z (Reading database ... 30%
2025-08-19T12:11:51.4371835Z (Reading database ... 35%
2025-08-19T12:11:51.4372317Z (Reading database ... 40%
2025-08-19T12:11:51.4372730Z (Reading database ... 45%
2025-08-19T12:11:51.4373159Z (Reading database ... 50%
2025-08-19T12:11:51.4504922Z (Reading database ... 55%
2025-08-19T12:11:51.4619767Z (Reading database ... 60%
2025-08-19T12:11:51.4733290Z (Reading database ... 65%
2025-08-19T12:11:51.4876418Z (Reading database ... 70%
2025-08-19T12:11:51.4996870Z (Reading database ... 75%
2025-08-19T12:11:51.5115881Z (Reading database ... 80%
2025-08-19T12:11:51.5412666Z (Reading database ... 85%
2025-08-19T12:11:51.5815320Z (Reading database ... 90%
2025-08-19T12:11:51.6007474Z (Reading database ... 95%
2025-08-19T12:11:51.6008334Z (Reading database ... 100%
2025-08-19T12:11:51.6009221Z (Reading database ... 219881 files and directories currently installed.)
2025-08-19T12:11:51.6052019Z Preparing to unpack .../postgresql_16+257build1.1_all.deb ...
2025-08-19T12:11:51.6071587Z Unpacking postgresql (16+257build1.1) ...
2025-08-19T12:11:51.6437573Z Setting up postgresql (16+257build1.1) ...
2025-08-19T12:11:52.2518185Z 
2025-08-19T12:11:52.2518760Z Running kernel seems to be up-to-date.
2025-08-19T12:11:52.2519071Z 
2025-08-19T12:11:52.2519214Z Restarting services...
2025-08-19T12:11:52.2589960Z 
2025-08-19T12:11:52.2590408Z Service restarts being deferred:
2025-08-19T12:11:52.2591702Z  systemctl restart hosted-compute-agent.service
2025-08-19T12:11:52.2592107Z 
2025-08-19T12:11:52.2592624Z No containers need to be restarted.
2025-08-19T12:11:52.2592935Z 
2025-08-19T12:11:52.2593247Z No user sessions are running outdated binaries.
2025-08-19T12:11:52.2593587Z 
2025-08-19T12:11:52.2594087Z No VM guests are running outdated hypervisor (qemu) binaries on this host.
2025-08-19T12:11:53.1720155Z ##[group]Run for i in {1..30}; do pg_isready -h localhost -p 5432 -U postgres -d awa && break; sleep 1; done
2025-08-19T12:11:53.1720789Z [36;1mfor i in {1..30}; do pg_isready -h localhost -p 5432 -U postgres -d awa && break; sleep 1; done[0m
2025-08-19T12:11:53.1761626Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:53.1761875Z env:
2025-08-19T12:11:53.1762091Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:53.1762373Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:53.1762604Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:53.1762805Z   PG_USER: postgres
2025-08-19T12:11:53.1762999Z   PG_PASSWORD: pass
2025-08-19T12:11:53.1763188Z   PG_DATABASE: awa
2025-08-19T12:11:53.1763376Z   PG_HOST: localhost
2025-08-19T12:11:53.1763564Z   PG_PORT: 5432
2025-08-19T12:11:53.1764005Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:53.1764421Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:53.1764826Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:53.1765110Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:53.1765325Z   ENABLE_LIVE: 0
2025-08-19T12:11:53.1765508Z   TESTING: 1
2025-08-19T12:11:53.1765753Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.1766163Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:53.1766564Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.1766956Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.1767321Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.1767683Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:53.1767991Z ##[endgroup]
2025-08-19T12:11:53.2457478Z localhost:5432 - accepting connections
2025-08-19T12:11:53.2500721Z ##[group]Run alembic -c services/api/alembic.ini upgrade head
2025-08-19T12:11:53.2501532Z [36;1malembic -c services/api/alembic.ini upgrade head[0m
2025-08-19T12:11:53.2541834Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:53.2542254Z env:
2025-08-19T12:11:53.2542455Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:53.2542725Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:53.2542967Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:53.2543172Z   PG_USER: postgres
2025-08-19T12:11:53.2543372Z   PG_PASSWORD: pass
2025-08-19T12:11:53.2543559Z   PG_DATABASE: awa
2025-08-19T12:11:53.2543737Z   PG_HOST: localhost
2025-08-19T12:11:53.2543931Z   PG_PORT: 5432
2025-08-19T12:11:53.2544361Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:53.2544788Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:53.2545175Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:53.2545417Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:11:53.2545624Z   ENABLE_LIVE: 0
2025-08-19T12:11:53.2545835Z   TESTING: 1
2025-08-19T12:11:53.2546074Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.2546481Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:53.2546885Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.2547528Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.2547902Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:53.2548268Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:53.2548580Z   POSTGRES_USER: postgres
2025-08-19T12:11:53.2548810Z   POSTGRES_PASSWORD: pass
2025-08-19T12:11:53.2549023Z   POSTGRES_DB: awa
2025-08-19T12:11:53.2549217Z ##[endgroup]
2025-08-19T12:11:53.9929910Z INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
2025-08-19T12:11:53.9930992Z INFO  [alembic.runtime.migration] Will assume transactional DDL.
2025-08-19T12:11:54.0104915Z INFO  [alembic.runtime.migration] Running upgrade  -> 0001_baseline
2025-08-19T12:11:54.0254773Z INFO  [alembic.runtime.migration] Running upgrade 0001_baseline -> 0002_create_roi_view
2025-08-19T12:11:54.0280869Z INFO  [alembic.runtime.migration] Running upgrade 0002_create_roi_view -> 3e9d5c5aff2c
2025-08-19T12:11:54.0445700Z INFO  [alembic.runtime.migration] Running upgrade 3e9d5c5aff2c -> 0003_vendor_prices
2025-08-19T12:11:54.0583548Z INFO  [alembic.runtime.migration] Running upgrade 0003_vendor_prices -> 0004_fee_cron
2025-08-19T12:11:54.0657301Z INFO  [alembic.runtime.migration] Running upgrade 0004_fee_cron -> 0006_fix_roi_views
2025-08-19T12:11:54.0689431Z INFO  [alembic.runtime.migration] Running upgrade 0006_fix_roi_views -> 0020_unified_schema
2025-08-19T12:11:54.0799388Z INFO  [alembic.runtime.migration] Running upgrade 0020_unified_schema -> 0022_fix_roi_view
2025-08-19T12:11:54.0865853Z INFO  [alembic.runtime.migration] Running upgrade 0022_fix_roi_view -> 0023_add_storage_fee
2025-08-19T12:11:54.0902545Z INFO  [alembic.runtime.migration] Running upgrade 0023_add_storage_fee -> 0024_create_buybox
2025-08-19T12:11:54.0925696Z INFO  [alembic.runtime.migration] Running upgrade 0024_create_buybox -> 0025_pr4_indexes_loadlog
2025-08-19T12:11:54.1134344Z INFO  [alembic.runtime.migration] Running upgrade 0025_pr4_indexes_loadlog -> 0026_amazon_new_reports
2025-08-19T12:11:54.2117107Z ##[group]Run pytest -q --cov=services
2025-08-19T12:11:54.2117672Z [36;1mpytest -q --cov=services[0m
2025-08-19T12:11:54.2159607Z shell: /usr/bin/bash -e {0}
2025-08-19T12:11:54.2159859Z env:
2025-08-19T12:11:54.2160085Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:11:54.2160360Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:11:54.2160602Z   TRUST_X_FORWARDED: 1
2025-08-19T12:11:54.2160806Z   PG_USER: postgres
2025-08-19T12:11:54.2161021Z   PG_PASSWORD: pass
2025-08-19T12:11:54.2161326Z   PG_DATABASE: awa
2025-08-19T12:11:54.2161524Z   PG_HOST: localhost
2025-08-19T12:11:54.2161728Z   PG_PORT: 5432
2025-08-19T12:11:54.2162170Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:54.2174601Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:11:54.2175468Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:11:54.2175780Z   DATA_DIR: /home/runner/work/_temp/awa-data
2025-08-19T12:11:54.2176053Z   ENABLE_LIVE: 0
2025-08-19T12:11:54.2176472Z   TESTING: 1
2025-08-19T12:11:54.2176760Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:54.2177199Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:11:54.2177614Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:54.2177981Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:54.2178352Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:11:54.2178710Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:11:54.2179035Z   POSTGRES_USER: postgres
2025-08-19T12:11:54.2179258Z   POSTGRES_PASSWORD: pass
2025-08-19T12:11:54.2179466Z   POSTGRES_DB: awa
2025-08-19T12:11:54.2179655Z   LLM_PROVIDER: lan
2025-08-19T12:11:54.2179873Z   LLM_BASE_URL: http://localhost:8000
2025-08-19T12:11:54.2180131Z ##[endgroup]
2025-08-19T12:12:23.4553577Z ........s.............................sssssss........................... [ 43%]
2025-08-19T12:12:58.1296890Z ...................................................F.F..FFF............. [ 86%]
2025-08-19T12:12:58.8829798Z ......................                                                   [100%]
2025-08-19T12:12:58.8830597Z =================================== FAILURES ===================================
2025-08-19T12:12:58.8831846Z ___________________________ test_roi_basic_auth_good ___________________________
2025-08-19T12:12:58.8832355Z 
2025-08-19T12:12:58.8832887Z monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f90052b9c40>
2025-08-19T12:12:58.8833453Z 
2025-08-19T12:12:58.8833707Z     def test_roi_basic_auth_good(monkeypatch):
2025-08-19T12:12:58.8834225Z         os.environ["API_BASIC_USER"] = "u"
2025-08-19T12:12:58.8834706Z         os.environ["API_BASIC_PASS"] = "p"
2025-08-19T12:12:58.8835121Z         client = _client()
2025-08-19T12:12:58.8835685Z >       r = client.get("/roi", headers=_auth_headers("u", "p"))
2025-08-19T12:12:58.8836245Z             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8836570Z 
2025-08-19T12:12:58.8836921Z services/api/tests/test_roi_basic_auth.py:31: 
2025-08-19T12:12:58.8837663Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.8838840Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-19T12:12:58.8839739Z     return super().get(
2025-08-19T12:12:58.8840702Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-19T12:12:58.8841728Z     return self.request(
2025-08-19T12:12:58.8842773Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-19T12:12:58.8843684Z     return super().request(
2025-08-19T12:12:58.8844687Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-19T12:12:58.8845811Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-19T12:12:58.8846908Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8848057Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/utils.py:1816: in runner
2025-08-19T12:12:58.8849066Z     return sentry_patched_function(*args, **kwargs)
2025-08-19T12:12:58.8849640Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8850795Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/httpx.py:86: in send
2025-08-19T12:12:58.8852047Z     rv = real_send(self, request, **kwargs)
2025-08-19T12:12:58.8852575Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8853592Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-19T12:12:58.8854482Z     response = self._send_handling_auth(
2025-08-19T12:12:58.8855707Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-19T12:12:58.8857026Z     response = self._send_handling_redirects(
2025-08-19T12:12:58.8858227Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-19T12:12:58.8859291Z     response = self._send_single_request(request)
2025-08-19T12:12:58.8859861Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8861017Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-19T12:12:58.8862249Z     response = transport.handle_request(request)
2025-08-19T12:12:58.8862805Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8863967Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-19T12:12:58.8864896Z     raise exc
2025-08-19T12:12:58.8865956Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-19T12:12:58.8867030Z     portal.call(self.app, scope, receive, send)
2025-08-19T12:12:58.8868137Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-19T12:12:58.8869218Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-19T12:12:58.8869906Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8870933Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-19T12:12:58.8871974Z     return self.__get_result()
2025-08-19T12:12:58.8872414Z            ^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8873421Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-19T12:12:58.8874306Z     raise self._exception
2025-08-19T12:12:58.8875349Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-19T12:12:58.8876286Z     retval = await retval_or_awaitable
2025-08-19T12:12:58.8876789Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8877893Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-19T12:12:58.8878891Z     await super().__call__(scope, receive, send)
2025-08-19T12:12:58.8880248Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:408: in _sentry_patched_asgi_app
2025-08-19T12:12:58.8881572Z     return await middleware(scope, receive, send)
2025-08-19T12:12:58.8882114Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8883283Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:179: in _run_asgi3
2025-08-19T12:12:58.8884476Z     return await self._run_app(scope, receive, send, asgi_version=3)
2025-08-19T12:12:58.8885185Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8886664Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:268: in _run_app
2025-08-19T12:12:58.8887714Z     raise exc from None
2025-08-19T12:12:58.8888700Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:263: in _run_app
2025-08-19T12:12:58.8889598Z     return await self.app(
2025-08-19T12:12:58.8890560Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-19T12:12:58.8891703Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.8892932Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.8894179Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.8894876Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8896085Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-19T12:12:58.8897237Z     raise exc
2025-08-19T12:12:58.8898291Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-19T12:12:58.8899302Z     await self.app(scope, receive, _send)
2025-08-19T12:12:58.8900616Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.8902089Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.8902766Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8903935Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py:85: in __call__
2025-08-19T12:12:58.8904951Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.8906288Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.8907553Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.8908218Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8909332Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-19T12:12:58.8910343Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-19T12:12:58.8911878Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:297: in _sentry_exceptionmiddleware_call
2025-08-19T12:12:58.8912989Z     await old_call(self, scope, receive, send)
2025-08-19T12:12:58.8914149Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.8915267Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.8915892Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8916946Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-19T12:12:58.8918017Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-19T12:12:58.8919212Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.8920029Z     raise exc
2025-08-19T12:12:58.8920982Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.8922026Z     await app(scope, receive, sender)
2025-08-19T12:12:58.8922956Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-19T12:12:58.8923818Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.8924991Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-19T12:12:58.8925817Z     await route.handle(scope, receive, send)
2025-08-19T12:12:58.8926765Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-19T12:12:58.8927579Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.8928476Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-19T12:12:58.8929392Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-19T12:12:58.8930555Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.8931525Z     raise exc
2025-08-19T12:12:58.8932419Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.8933281Z     await app(scope, receive, sender)
2025-08-19T12:12:58.8934184Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-19T12:12:58.8935087Z     response = await f(request)
2025-08-19T12:12:58.8935466Z                ^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8936517Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py:137: in _sentry_app
2025-08-19T12:12:58.8937428Z     return await old_app(*args, **kwargs)
2025-08-19T12:12:58.8937853Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8938720Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-19T12:12:58.8939552Z     solved_result = await solve_dependencies(
2025-08-19T12:12:58.8940704Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-19T12:12:58.8941788Z     solved = await call(**solved_result.values)
2025-08-19T12:12:58.8942257Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8943243Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:54: in __call__
2025-08-19T12:12:58.8944090Z     pexpire = await self._check(key)
2025-08-19T12:12:58.8944500Z               ^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8945405Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:30: in _check
2025-08-19T12:12:58.8946230Z     pexpire = await redis.evalsha(
2025-08-19T12:12:58.8947461Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py:106: in _sentry_execute_command
2025-08-19T12:12:58.8948626Z     value = await old_execute_command(self, name, *args, **kwargs)
2025-08-19T12:12:58.8949187Z             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8950193Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:615: in execute_command
2025-08-19T12:12:58.8951086Z     return await conn.retry.call_with_retry(
2025-08-19T12:12:58.8952598Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py:59: in call_with_retry
2025-08-19T12:12:58.8953319Z     return await do()
2025-08-19T12:12:58.8953608Z            ^^^^^^^^^^
2025-08-19T12:12:58.8954510Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:589: in _send_command_parse_response
2025-08-19T12:12:58.8955516Z     return await self.parse_response(conn, command_name, **options)
2025-08-19T12:12:58.8956038Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8956895Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:636: in parse_response
2025-08-19T12:12:58.8957659Z     response = await connection.read_response()
2025-08-19T12:12:58.8958058Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8961477Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:562: in read_response
2025-08-19T12:12:58.8962564Z     await self.disconnect(nowait=True)
2025-08-19T12:12:58.8963784Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:418: in disconnect
2025-08-19T12:12:58.8964723Z     self._writer.close()  # type: ignore[union-attr]
2025-08-19T12:12:58.8965093Z     ^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8965703Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:358: in close
2025-08-19T12:12:58.8966291Z     return self._transport.close()
2025-08-19T12:12:58.8966633Z            ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.8967214Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:1213: in close
2025-08-19T12:12:58.8967672Z     super().close()
2025-08-19T12:12:58.8968168Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:875: in close
2025-08-19T12:12:58.8968693Z     self._loop.call_soon(self._call_connection_lost, None)
2025-08-19T12:12:58.8969491Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:799: in call_soon
2025-08-19T12:12:58.8969933Z     self._check_closed()
2025-08-19T12:12:58.8970269Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.8970482Z 
2025-08-19T12:12:58.8970737Z self = <_UnixSelectorEventLoop running=False closed=True debug=False>
2025-08-19T12:12:58.8971009Z 
2025-08-19T12:12:58.8971100Z     def _check_closed(self):
2025-08-19T12:12:58.8971560Z         if self._closed:
2025-08-19T12:12:58.8971870Z >           raise RuntimeError('Event loop is closed')
2025-08-19T12:12:58.8972227Z E           RuntimeError: Event loop is closed
2025-08-19T12:12:58.8972410Z 
2025-08-19T12:12:58.8972787Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:545: RuntimeError
2025-08-19T12:12:58.8973379Z ------------------------------ Captured log call -------------------------------
2025-08-19T12:12:58.9077433Z ERROR    services.api.errors:errors.py:57 {"event": "unhandled_error", "request_id": "8a6334108a5e45c38a2b18f6616874bf", "level": "error", "timestamp": "2025-08-19T12:12:54.750314Z", "exception": [{"exc_type": "RuntimeError", "exc_value": "Event loop is closed", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f900540bd70>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f900526bec0>", "exc": "RuntimeError('Event loop is closed')", "request": "<starlette.requests.Request object at 0x7f8ff4f03590>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f900526bec0>", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CORSMiddleware', trace_id='93d7d39\"+136", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_send", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CORSMiddleware", "old_call": "<function CORSMiddleware.__call__ at 0x7f90087de8e0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py", "lineno": 85, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "method": "GET", "headers": "\"Headers({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflat\"+91", "origin": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CorrelationIdMiddleware', trace_id\"+145", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_sentry_send", "send_patched": "True", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CorrelationIdMiddleware", "old_call": "<function CorrelationIdMiddleware.__call__ at 0x7f90087de200>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+150", "header_value": "None", "validation_failed": "False", "id_value": "8a6334108a5e45c38a2b18f6616874bf", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 297, "name": "_sentry_exceptionmiddleware_call", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "old_call": "'<function _enable_span_for_middleware.<locals>._create_span_call at 0x7f90055d0a'+3"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'ExceptionMiddleware', trace_id='93\"+141", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "handle_outgoing_request", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "ExceptionMiddleware", "old_call": "<function ExceptionMiddleware.__call__ at 0x7f90180bec00>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "conn": "<starlette.requests.Request object at 0x7f8ff4f03380>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff4f03380>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff4f03380>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/roi', name='roi', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function roi at 0x7f9007d9a980>, 'path_params': {}, 'route': APIRo\"+46"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/roi', name='roi', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f900526bf60>", "request": "<starlette.requests.Request object at 0x7f8ff4f03530>", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f900526bf60>", "conn": "<starlette.requests.Request object at 0x7f8ff4f03530>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f900526bf60>", "conn": "<starlette.requests.Request object at 0x7f8ff4f03530>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi', 'raw_pa\"+1639", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32", "request": "<starlette.requests.Request object at 0x7f8ff4f03530>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py", "lineno": 137, "name": "_sentry_app", "line": "", "locals": {"args": "(<starlette.requests.Request object at 0x7f8ff4f03530>,)", "kwargs": "{}", "integration": "<sentry_sdk.integrations.fastapi.FastApiIntegration object at 0x7f90053d3860>", "request": "<starlette.requests.Request object at 0x7f8ff4f03530>", "sentry_scope": "<Scope id=0x7f9005315d20 name=fastapi type=ScopeType.ISOLATION>", "extractor": "'<sentry_sdk.integrations.starlette.StarletteRequestExtractor object at 0x7f8ff4f'+6", "_make_request_event_processor": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+71", "info": "{}", "old_app": "<function get_request_handler.<locals>.app at 0x7f900522d300>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff4f03530>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4f03740>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4f037d0>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "\"Dependant(path_params=[], query_params=[ModelField(field_info=Query(0), name='ro\"+2748", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "True", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff4f03530>", "dependant": "\"Dependant(path_params=[], query_params=[ModelField(field_info=Query(0), name='ro\"+2748", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f8ff4f03890>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4f037d0>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+455", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+455", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_path": "/roi", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f8f\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 54, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "request": "<starlette.requests.Request object at 0x7f8ff4f03530>", "response": "<starlette.responses.Response object at 0x7f8ff4f03890>", "route_index": "8", "dep_index": "0", "i": "15", "route": "APIRoute(path='/health', name='health', methods=['GET'])", "j": "0", "dependency": "Depends(RateLimiter)", "identifier": "<function client_ip_identifier at 0x7f900532bba0>", "callback": "<function http_default_callback at 0x7f9008a45760>", "rate_key": "testclient", "key": "fastapi-limiter:testclient:8:0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 30, "name": "_check", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "key": "fastapi-limiter:testclient:8:0", "redis": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py", "lineno": 106, "name": "_sentry_execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "name": "EVALSHA", "args": "\"('a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:testclient:8:0'\"+17", "kwargs": "{}", "integration": "<sentry_sdk.integrations.redis.RedisIntegration object at 0x7f9005452c00>", "cache_properties": "\"{'op': None, 'description': 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 'key': (\"+172", "cache_span": "None", "db_properties": "'{\\'op\\': \\'db.redis\\', \\'description\\': \"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb8'+51", "db_span": "'<Span(op=\\'db.redis\\', description:\"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb83'+198", "RedisIntegration": "<class 'sentry_sdk.integrations.redis.RedisIntegration'>", "is_cluster": "False", "old_execute_command": "<function Redis.execute_command at 0x7f9008792840>", "set_db_data_fn": "<function _set_db_data at 0x7f9005676480>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 615, "name": "execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+28", "options": "{}", "pool": "'<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(ho'+31", "command_name": "EVALSHA", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py", "lineno": 59, "name": "call_with_retry", "line": "", "locals": {"self": "<redis.asyncio.retry.Retry object at 0x7f90052a4880>", "do": "<function Redis.execute_command.<locals>.<lambda> at 0x7f900526a3e0>", "fail": "<function Redis.execute_command.<locals>.<lambda> at 0x7f9005269ee0>", "failures": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 589, "name": "_send_command_parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+28", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 636, "name": "parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "connection": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 562, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 418, "name": "disconnect", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "nowait": "True"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 358, "name": "close", "line": "", "locals": {"self": "'<StreamWriter transport=<_SelectorSocketTransport closing fd=17> reader=<StreamR'+58"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 1213, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=17>", "__class__": "<class 'asyncio.selector_events._SelectorSocketTransport'>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 875, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=17>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 799, "name": "call_soon", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>", "callback": "'<bound method _SelectorSocketTransport._call_connection_lost of <_SelectorSocket'+25", "context": "None", "args": "(None,)"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 545, "name": "_check_closed", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>"}}]}, {"exc_type": "RuntimeError", "exc_value": "Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 542, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 82, "name": "read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 90, "name": "_read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py", "lineno": 219, "name": "_readline", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "found": "-1", "tail": "b''"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 568, "name": "readline", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=17>>", "sep": "b'\\n'", "seplen": "1"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 660, "name": "readuntil", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=17>>", "separator": "b'\\n'", "seplen": "1", "offset": "0", "buflen": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 545, "name": "_wait_for_data", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=17>>", "func_name": "readuntil"}}]}]}
2025-08-19T12:12:58.9155955Z WARNING  urllib3.connectionpool:connectionpool.py:868 Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7f8ff4e07e60>: Failed to resolve 'selfhosted.invalid' ([Errno -2] Name or service not known)")': /api/1/envelope/
2025-08-19T12:12:58.9158516Z WARNING  urllib3.connectionpool:connectionpool.py:868 Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7f8ff4e35310>: Failed to resolve 'selfhosted.invalid' ([Errno -2] Name or service not known)")': /api/1/envelope/
2025-08-19T12:12:58.9160060Z _____________________ test_stats_contract_needs_basic_auth _____________________
2025-08-19T12:12:58.9160317Z 
2025-08-19T12:12:58.9160460Z     def test_stats_contract_needs_basic_auth():
2025-08-19T12:12:58.9160780Z         os.environ["API_BASIC_USER"] = "u"
2025-08-19T12:12:58.9161072Z         os.environ["API_BASIC_PASS"] = "p"
2025-08-19T12:12:58.9161435Z         client = _client()
2025-08-19T12:12:58.9161705Z >       r = client.get("/stats/kpi")
2025-08-19T12:12:58.9161965Z             ^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9162119Z 
2025-08-19T12:12:58.9162287Z services/api/tests/test_roi_basic_auth.py:47: 
2025-08-19T12:12:58.9162674Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.9163305Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-19T12:12:58.9163788Z     return super().get(
2025-08-19T12:12:58.9164300Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-19T12:12:58.9164761Z     return self.request(
2025-08-19T12:12:58.9165318Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-19T12:12:58.9165800Z     return super().request(
2025-08-19T12:12:58.9166337Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-19T12:12:58.9166927Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-19T12:12:58.9167325Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9167905Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/utils.py:1816: in runner
2025-08-19T12:12:58.9168439Z     return sentry_patched_function(*args, **kwargs)
2025-08-19T12:12:58.9168750Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9169358Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/httpx.py:86: in send
2025-08-19T12:12:58.9169888Z     rv = real_send(self, request, **kwargs)
2025-08-19T12:12:58.9170164Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9170694Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-19T12:12:58.9171383Z     response = self._send_handling_auth(
2025-08-19T12:12:58.9172018Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-19T12:12:58.9172559Z     response = self._send_handling_redirects(
2025-08-19T12:12:58.9173211Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-19T12:12:58.9173921Z     response = self._send_single_request(request)
2025-08-19T12:12:58.9174237Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9174854Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-19T12:12:58.9175402Z     response = transport.handle_request(request)
2025-08-19T12:12:58.9175707Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9176322Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-19T12:12:58.9176812Z     raise exc
2025-08-19T12:12:58.9177363Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-19T12:12:58.9177919Z     portal.call(self.app, scope, receive, send)
2025-08-19T12:12:58.9178500Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-19T12:12:58.9179084Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-19T12:12:58.9179578Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9180119Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-19T12:12:58.9180587Z     return self.__get_result()
2025-08-19T12:12:58.9180828Z            ^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9181579Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-19T12:12:58.9182056Z     raise self._exception
2025-08-19T12:12:58.9182610Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-19T12:12:58.9183117Z     retval = await retval_or_awaitable
2025-08-19T12:12:58.9183384Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9183961Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-19T12:12:58.9184522Z     await super().__call__(scope, receive, send)
2025-08-19T12:12:58.9185277Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:408: in _sentry_patched_asgi_app
2025-08-19T12:12:58.9185927Z     return await middleware(scope, receive, send)
2025-08-19T12:12:58.9186229Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9186864Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:179: in _run_asgi3
2025-08-19T12:12:58.9187500Z     return await self._run_app(scope, receive, send, asgi_version=3)
2025-08-19T12:12:58.9187871Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9188511Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:268: in _run_app
2025-08-19T12:12:58.9189023Z     raise exc from None
2025-08-19T12:12:58.9189604Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:263: in _run_app
2025-08-19T12:12:58.9190125Z     return await self.app(
2025-08-19T12:12:58.9190692Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-19T12:12:58.9191352Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.9192082Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9192777Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9193152Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9193784Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-19T12:12:58.9194286Z     raise exc
2025-08-19T12:12:58.9194836Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-19T12:12:58.9195509Z     await self.app(scope, receive, _send)
2025-08-19T12:12:58.9196224Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9196912Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9197287Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9197905Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py:85: in __call__
2025-08-19T12:12:58.9198443Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.9199129Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9199806Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9200175Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9200929Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-19T12:12:58.9201644Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-19T12:12:58.9202467Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:297: in _sentry_exceptionmiddleware_call
2025-08-19T12:12:58.9203148Z     await old_call(self, scope, receive, send)
2025-08-19T12:12:58.9203853Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9204534Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9204909Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9205565Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-19T12:12:58.9206256Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-19T12:12:58.9207008Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.9207522Z     raise exc
2025-08-19T12:12:58.9208088Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.9208638Z     await app(scope, receive, sender)
2025-08-19T12:12:58.9209214Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-19T12:12:58.9209752Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.9210351Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-19T12:12:58.9210849Z     await route.handle(scope, receive, send)
2025-08-19T12:12:58.9211635Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-19T12:12:58.9212157Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.9212714Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-19T12:12:58.9213295Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-19T12:12:58.9214031Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.9214537Z     raise exc
2025-08-19T12:12:58.9215104Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.9215648Z     await app(scope, receive, sender)
2025-08-19T12:12:58.9216198Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-19T12:12:58.9216677Z     response = await f(request)
2025-08-19T12:12:58.9216924Z                ^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9217676Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py:137: in _sentry_app
2025-08-19T12:12:58.9218252Z     return await old_app(*args, **kwargs)
2025-08-19T12:12:58.9218533Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9219074Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-19T12:12:58.9219569Z     solved_result = await solve_dependencies(
2025-08-19T12:12:58.9220262Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-19T12:12:58.9220853Z     solved = await call(**solved_result.values)
2025-08-19T12:12:58.9221327Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9221974Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:54: in __call__
2025-08-19T12:12:58.9222488Z     pexpire = await self._check(key)
2025-08-19T12:12:58.9222751Z               ^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9223471Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:30: in _check
2025-08-19T12:12:58.9223983Z     pexpire = await redis.evalsha(
2025-08-19T12:12:58.9224735Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py:106: in _sentry_execute_command
2025-08-19T12:12:58.9225448Z     value = await old_execute_command(self, name, *args, **kwargs)
2025-08-19T12:12:58.9225816Z             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9226468Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:615: in execute_command
2025-08-19T12:12:58.9227033Z     return await conn.retry.call_with_retry(
2025-08-19T12:12:58.9227667Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py:59: in call_with_retry
2025-08-19T12:12:58.9228165Z     return await do()
2025-08-19T12:12:58.9228373Z            ^^^^^^^^^^
2025-08-19T12:12:58.9229376Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:589: in _send_command_parse_response
2025-08-19T12:12:58.9230557Z     return await self.parse_response(conn, command_name, **options)
2025-08-19T12:12:58.9231369Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9232519Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:636: in parse_response
2025-08-19T12:12:58.9233521Z     response = await connection.read_response()
2025-08-19T12:12:58.9234007Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9234664Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:562: in read_response
2025-08-19T12:12:58.9235230Z     await self.disconnect(nowait=True)
2025-08-19T12:12:58.9235855Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:418: in disconnect
2025-08-19T12:12:58.9236441Z     self._writer.close()  # type: ignore[union-attr]
2025-08-19T12:12:58.9236724Z     ^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9237175Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:358: in close
2025-08-19T12:12:58.9237618Z     return self._transport.close()
2025-08-19T12:12:58.9237882Z            ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9238388Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:1213: in close
2025-08-19T12:12:58.9238818Z     super().close()
2025-08-19T12:12:58.9239286Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:875: in close
2025-08-19T12:12:58.9239803Z     self._loop.call_soon(self._call_connection_lost, None)
2025-08-19T12:12:58.9240365Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:799: in call_soon
2025-08-19T12:12:58.9240797Z     self._check_closed()
2025-08-19T12:12:58.9241285Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.9241700Z 
2025-08-19T12:12:58.9241969Z self = <_UnixSelectorEventLoop running=False closed=True debug=False>
2025-08-19T12:12:58.9242242Z 
2025-08-19T12:12:58.9242333Z     def _check_closed(self):
2025-08-19T12:12:58.9242560Z         if self._closed:
2025-08-19T12:12:58.9242854Z >           raise RuntimeError('Event loop is closed')
2025-08-19T12:12:58.9243203Z E           RuntimeError: Event loop is closed
2025-08-19T12:12:58.9243385Z 
2025-08-19T12:12:58.9243760Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:545: RuntimeError
2025-08-19T12:12:58.9244346Z ------------------------------ Captured log call -------------------------------
2025-08-19T12:12:58.9351040Z ERROR    services.api.errors:errors.py:57 {"event": "unhandled_error", "request_id": "4f7150b17e96477e98ad515bf45f620a", "level": "error", "timestamp": "2025-08-19T12:12:56.294888Z", "exception": [{"exc_type": "RuntimeError", "exc_value": "Event loop is closed", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f900540bd70>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f90055fb420>", "exc": "RuntimeError('Event loop is closed')", "request": "<starlette.requests.Request object at 0x7f8ff4e35190>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f90055fb420>", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CORSMiddleware', trace_id='8524c1a\"+136", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_send", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CORSMiddleware", "old_call": "<function CORSMiddleware.__call__ at 0x7f90087de8e0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py", "lineno": 85, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "method": "GET", "headers": "\"Headers({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflat\"+60", "origin": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CorrelationIdMiddleware', trace_id\"+145", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_sentry_send", "send_patched": "True", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CorrelationIdMiddleware", "old_call": "<function CorrelationIdMiddleware.__call__ at 0x7f90087de200>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+119", "header_value": "None", "validation_failed": "False", "id_value": "4f7150b17e96477e98ad515bf45f620a", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 297, "name": "_sentry_exceptionmiddleware_call", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "old_call": "'<function _enable_span_for_middleware.<locals>._create_span_call at 0x7f90055d0a'+3"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'ExceptionMiddleware', trace_id='85\"+141", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "handle_outgoing_request", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "ExceptionMiddleware", "old_call": "<function ExceptionMiddleware.__call__ at 0x7f90180bec00>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "conn": "<starlette.requests.Request object at 0x7f8ff4e37080>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff4e37080>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff4e37080>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/stats/kpi', name='kpi', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function kpi at 0x7f9007d9b600>, 'path_params': {}, 'route': APIRo\"+52"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/stats/kpi', name='kpi', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4e832e0>", "request": "<starlette.requests.Request object at 0x7f8ff4e35760>", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4e832e0>", "conn": "<starlette.requests.Request object at 0x7f8ff4e35760>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4e832e0>", "conn": "<starlette.requests.Request object at 0x7f8ff4e35760>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/kpi', '\"+1622", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32", "request": "<starlette.requests.Request object at 0x7f8ff4e35760>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py", "lineno": 137, "name": "_sentry_app", "line": "", "locals": {"args": "(<starlette.requests.Request object at 0x7f8ff4e35760>,)", "kwargs": "{}", "integration": "<sentry_sdk.integrations.fastapi.FastApiIntegration object at 0x7f90053d3860>", "request": "<starlette.requests.Request object at 0x7f8ff4e35760>", "sentry_scope": "<Scope id=0x7f8ff47b3300 name=fastapi type=ScopeType.ISOLATION>", "extractor": "'<sentry_sdk.integrations.starlette.StarletteRequestExtractor object at 0x7f8ff4e'+6", "_make_request_event_processor": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+71", "info": "{}", "old_app": "<function get_request_handler.<locals>.app at 0x7f900522de40>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff4e35760>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4e35550>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4e35520>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+2077", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "False", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff4e35760>", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+2077", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f8ff4e354f0>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff4e35520>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+461", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+461", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_path": "/stats/kpi", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f8f\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 54, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "request": "<starlette.requests.Request object at 0x7f8ff4e35760>", "response": "<starlette.responses.Response object at 0x7f8ff4e354f0>", "route_index": "11", "dep_index": "0", "i": "15", "route": "APIRoute(path='/health', name='health', methods=['GET'])", "j": "0", "dependency": "Depends(RateLimiter)", "identifier": "<function client_ip_identifier at 0x7f900532bba0>", "callback": "<function http_default_callback at 0x7f9008a45760>", "rate_key": "testclient", "key": "fastapi-limiter:testclient:11:0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 30, "name": "_check", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "key": "fastapi-limiter:testclient:11:0", "redis": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py", "lineno": 106, "name": "_sentry_execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "name": "EVALSHA", "args": "\"('a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:testclient:11:0\"+18", "kwargs": "{}", "integration": "<sentry_sdk.integrations.redis.RedisIntegration object at 0x7f9005452c00>", "cache_properties": "\"{'op': None, 'description': 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 'key': (\"+172", "cache_span": "None", "db_properties": "'{\\'op\\': \\'db.redis\\', \\'description\\': \"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb8'+51", "db_span": "'<Span(op=\\'db.redis\\', description:\"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb83'+198", "RedisIntegration": "<class 'sentry_sdk.integrations.redis.RedisIntegration'>", "is_cluster": "False", "old_execute_command": "<function Redis.execute_command at 0x7f9008792840>", "set_db_data_fn": "<function _set_db_data at 0x7f9005676480>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 615, "name": "execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}", "pool": "'<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(ho'+31", "command_name": "EVALSHA", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py", "lineno": 59, "name": "call_with_retry", "line": "", "locals": {"self": "<redis.asyncio.retry.Retry object at 0x7f90052a4880>", "do": "<function Redis.execute_command.<locals>.<lambda> at 0x7f90055d20c0>", "fail": "<function Redis.execute_command.<locals>.<lambda> at 0x7f90055d2160>", "failures": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 589, "name": "_send_command_parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 636, "name": "parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "connection": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 562, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 418, "name": "disconnect", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "nowait": "True"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 358, "name": "close", "line": "", "locals": {"self": "'<StreamWriter transport=<_SelectorSocketTransport closing fd=18> reader=<StreamR'+58"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 1213, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=18>", "__class__": "<class 'asyncio.selector_events._SelectorSocketTransport'>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 875, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=18>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 799, "name": "call_soon", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>", "callback": "'<bound method _SelectorSocketTransport._call_connection_lost of <_SelectorSocket'+25", "context": "None", "args": "(None,)"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 545, "name": "_check_closed", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>"}}]}, {"exc_type": "RuntimeError", "exc_value": "Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 542, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 82, "name": "read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 90, "name": "_read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py", "lineno": 219, "name": "_readline", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f90055d8ec0>", "found": "-1", "tail": "b''"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 568, "name": "readline", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "sep": "b'\\n'", "seplen": "1"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 660, "name": "readuntil", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "separator": "b'\\n'", "seplen": "1", "offset": "0", "buflen": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 545, "name": "_wait_for_data", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "func_name": "readuntil"}}]}]}
2025-08-19T12:12:58.9429785Z WARNING  urllib3.connectionpool:connectionpool.py:868 Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'NameResolutionError("<urllib3.connection.HTTPConnection object at 0x7f90052b8230>: Failed to resolve 'selfhosted.invalid' ([Errno -2] Name or service not known)")': /api/1/envelope/
2025-08-19T12:12:58.9431234Z ______________________________ test_kpi_contract _______________________________
2025-08-19T12:12:58.9431486Z 
2025-08-19T12:12:58.9431580Z     def test_kpi_contract():
2025-08-19T12:12:58.9431851Z         client, up = client_with_auth()
2025-08-19T12:12:58.9432204Z         r = client.get("/stats/kpi", headers=_auth_headers(*up))
2025-08-19T12:12:58.9432724Z >       assert r.status_code == 200
2025-08-19T12:12:58.9432991Z E       assert 401 == 200
2025-08-19T12:12:58.9433318Z E        +  where 401 = <Response [401 Unauthorized]>.status_code
2025-08-19T12:12:58.9433538Z 
2025-08-19T12:12:58.9433775Z services/api/tests/test_stats_contracts.py:20: AssertionError
2025-08-19T12:12:58.9434257Z ------------------------------ Captured log call -------------------------------
2025-08-19T12:12:58.9435312Z WARNING  services.api.errors:errors.py:39 {"status_code": 401, "detail": "Unauthorized", "event": "http_error", "request_id": "d0400202ab164dce9441c26f1852946c", "level": "warning", "timestamp": "2025-08-19T12:12:57.196312Z"}
2025-08-19T12:12:58.9436219Z _________________________ test_roi_by_vendor_contract __________________________
2025-08-19T12:12:58.9436455Z 
2025-08-19T12:12:58.9436576Z     def test_roi_by_vendor_contract():
2025-08-19T12:12:58.9436857Z         client, up = client_with_auth()
2025-08-19T12:12:58.9437255Z >       r = client.get("/stats/roi_by_vendor", headers=_auth_headers(*up))
2025-08-19T12:12:58.9437762Z             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9437950Z 
2025-08-19T12:12:58.9438123Z services/api/tests/test_stats_contracts.py:27: 
2025-08-19T12:12:58.9438511Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.9439124Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-19T12:12:58.9439611Z     return super().get(
2025-08-19T12:12:58.9440122Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-19T12:12:58.9440575Z     return self.request(
2025-08-19T12:12:58.9441234Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-19T12:12:58.9441725Z     return super().request(
2025-08-19T12:12:58.9442250Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-19T12:12:58.9442860Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-19T12:12:58.9443257Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9443825Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/utils.py:1816: in runner
2025-08-19T12:12:58.9444355Z     return sentry_patched_function(*args, **kwargs)
2025-08-19T12:12:58.9444667Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9445271Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/httpx.py:86: in send
2025-08-19T12:12:58.9445811Z     rv = real_send(self, request, **kwargs)
2025-08-19T12:12:58.9446087Z          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9446615Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-19T12:12:58.9447099Z     response = self._send_handling_auth(
2025-08-19T12:12:58.9447714Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-19T12:12:58.9448258Z     response = self._send_handling_redirects(
2025-08-19T12:12:58.9448898Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-19T12:12:58.9449470Z     response = self._send_single_request(request)
2025-08-19T12:12:58.9449775Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9450384Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-19T12:12:58.9450943Z     response = transport.handle_request(request)
2025-08-19T12:12:58.9451449Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9452070Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-19T12:12:58.9452566Z     raise exc
2025-08-19T12:12:58.9453263Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-19T12:12:58.9453814Z     portal.call(self.app, scope, receive, send)
2025-08-19T12:12:58.9454393Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-19T12:12:58.9455338Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-19T12:12:58.9455979Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9456697Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-19T12:12:58.9457319Z     return self.__get_result()
2025-08-19T12:12:58.9457576Z            ^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9458112Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-19T12:12:58.9458586Z     raise self._exception
2025-08-19T12:12:58.9459147Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-19T12:12:58.9459827Z     retval = await retval_or_awaitable
2025-08-19T12:12:58.9460097Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9460672Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-19T12:12:58.9461435Z     await super().__call__(scope, receive, send)
2025-08-19T12:12:58.9462195Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:408: in _sentry_patched_asgi_app
2025-08-19T12:12:58.9462838Z     return await middleware(scope, receive, send)
2025-08-19T12:12:58.9463156Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9463780Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:179: in _run_asgi3
2025-08-19T12:12:58.9464420Z     return await self._run_app(scope, receive, send, asgi_version=3)
2025-08-19T12:12:58.9464805Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9465720Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:268: in _run_app
2025-08-19T12:12:58.9466468Z     raise exc from None
2025-08-19T12:12:58.9467202Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/asgi.py:263: in _run_app
2025-08-19T12:12:58.9467714Z     return await self.app(
2025-08-19T12:12:58.9468289Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-19T12:12:58.9468848Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.9469578Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9470257Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9470643Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9471400Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-19T12:12:58.9471907Z     raise exc
2025-08-19T12:12:58.9472451Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-19T12:12:58.9472987Z     await self.app(scope, receive, _send)
2025-08-19T12:12:58.9473683Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9474359Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9474727Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9475348Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py:85: in __call__
2025-08-19T12:12:58.9475882Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.9476737Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9477420Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9477788Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9478425Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-19T12:12:58.9479022Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-19T12:12:58.9479852Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:297: in _sentry_exceptionmiddleware_call
2025-08-19T12:12:58.9480524Z     await old_call(self, scope, receive, send)
2025-08-19T12:12:58.9481331Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py:199: in _create_span_call
2025-08-19T12:12:58.9482175Z     return await old_call(app, scope, new_receive, new_send, **kwargs)
2025-08-19T12:12:58.9482544Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9483191Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-19T12:12:58.9483858Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-19T12:12:58.9484605Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.9485120Z     raise exc
2025-08-19T12:12:58.9485683Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.9486221Z     await app(scope, receive, sender)
2025-08-19T12:12:58.9486796Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-19T12:12:58.9487350Z     await self.middleware_stack(scope, receive, send)
2025-08-19T12:12:58.9487944Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-19T12:12:58.9488445Z     await route.handle(scope, receive, send)
2025-08-19T12:12:58.9489023Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-19T12:12:58.9489523Z     await self.app(scope, receive, send)
2025-08-19T12:12:58.9490075Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-19T12:12:58.9490661Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-19T12:12:58.9491610Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-19T12:12:58.9492132Z     raise exc
2025-08-19T12:12:58.9492693Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-19T12:12:58.9493245Z     await app(scope, receive, sender)
2025-08-19T12:12:58.9493797Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-19T12:12:58.9494271Z     response = await f(request)
2025-08-19T12:12:58.9494518Z                ^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9495135Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py:137: in _sentry_app
2025-08-19T12:12:58.9495696Z     return await old_app(*args, **kwargs)
2025-08-19T12:12:58.9495968Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9496505Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-19T12:12:58.9496996Z     solved_result = await solve_dependencies(
2025-08-19T12:12:58.9497683Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-19T12:12:58.9498282Z     solved = await call(**solved_result.values)
2025-08-19T12:12:58.9498697Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9499303Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:54: in __call__
2025-08-19T12:12:58.9499823Z     pexpire = await self._check(key)
2025-08-19T12:12:58.9500086Z               ^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9500656Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:30: in _check
2025-08-19T12:12:58.9501325Z     pexpire = await redis.evalsha(
2025-08-19T12:12:58.9502125Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py:106: in _sentry_execute_command
2025-08-19T12:12:58.9502841Z     value = await old_execute_command(self, name, *args, **kwargs)
2025-08-19T12:12:58.9503201Z             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9503836Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:615: in execute_command
2025-08-19T12:12:58.9504582Z     return await conn.retry.call_with_retry(
2025-08-19T12:12:58.9505209Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py:59: in call_with_retry
2025-08-19T12:12:58.9505707Z     return await do()
2025-08-19T12:12:58.9505904Z            ^^^^^^^^^^
2025-08-19T12:12:58.9506531Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:589: in _send_command_parse_response
2025-08-19T12:12:58.9507203Z     return await self.parse_response(conn, command_name, **options)
2025-08-19T12:12:58.9507571Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9508194Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:636: in parse_response
2025-08-19T12:12:58.9508749Z     response = await connection.read_response()
2025-08-19T12:12:58.9509049Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9509689Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:562: in read_response
2025-08-19T12:12:58.9510229Z     await self.disconnect(nowait=True)
2025-08-19T12:12:58.9510847Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:418: in disconnect
2025-08-19T12:12:58.9511530Z     self._writer.close()  # type: ignore[union-attr]
2025-08-19T12:12:58.9511806Z     ^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9512255Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:358: in close
2025-08-19T12:12:58.9512687Z     return self._transport.close()
2025-08-19T12:12:58.9512944Z            ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-19T12:12:58.9513446Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:1213: in close
2025-08-19T12:12:58.9513871Z     super().close()
2025-08-19T12:12:58.9514346Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:875: in close
2025-08-19T12:12:58.9514866Z     self._loop.call_soon(self._call_connection_lost, None)
2025-08-19T12:12:58.9515424Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:799: in call_soon
2025-08-19T12:12:58.9515855Z     self._check_closed()
2025-08-19T12:12:58.9516182Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-19T12:12:58.9516396Z 
2025-08-19T12:12:58.9516638Z self = <_UnixSelectorEventLoop running=False closed=True debug=False>
2025-08-19T12:12:58.9516904Z 
2025-08-19T12:12:58.9516992Z     def _check_closed(self):
2025-08-19T12:12:58.9517218Z         if self._closed:
2025-08-19T12:12:58.9517512Z >           raise RuntimeError('Event loop is closed')
2025-08-19T12:12:58.9517857Z E           RuntimeError: Event loop is closed
2025-08-19T12:12:58.9518039Z 
2025-08-19T12:12:58.9518408Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:545: RuntimeError
2025-08-19T12:12:58.9519119Z ------------------------------ Captured log call -------------------------------
2025-08-19T12:12:59.4018605Z ERROR    services.api.errors:errors.py:57 {"event": "unhandled_error", "request_id": "2f4a60a0d7db4325b658011032e3889c", "level": "error", "timestamp": "2025-08-19T12:12:57.206174Z", "exception": [{"exc_type": "RuntimeError", "exc_value": "Event loop is closed", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f900540bd70>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8ff4ee7e20>", "exc": "RuntimeError('Event loop is closed')", "request": "<starlette.requests.Request object at 0x7f8ff4ece150>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f8ff4ee7e20>", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CORSMiddleware', trace_id='e438027\"+136", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_send", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CORSMiddleware", "old_call": "<function CORSMiddleware.__call__ at 0x7f90087de8e0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/cors.py", "lineno": 85, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.cors.CORSMiddleware object at 0x7f90053f6540>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "method": "GET", "headers": "\"Headers({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip, deflat\"+91", "origin": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'CorrelationIdMiddleware', trace_id\"+145", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "_sentry_send", "send_patched": "True", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "CorrelationIdMiddleware", "old_call": "<function CorrelationIdMiddleware.__call__ at 0x7f90087de200>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+150", "header_value": "None", "validation_failed": "False", "id_value": "2f4a60a0d7db4325b658011032e3889c", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 297, "name": "_sentry_exceptionmiddleware_call", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "old_call": "'<function _enable_span_for_middleware.<locals>._create_span_call at 0x7f90055d0a'+3"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/starlette.py", "lineno": 199, "name": "_create_span_call", "line": "", "locals": {"app": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "kwargs": "{}", "integration": "'<sentry_sdk.integrations.starlette.StarletteIntegration object at 0x7f90051acfb0'+1", "name": "None", "source": "route", "middleware_span": "\"<Span(op='middleware.starlette', description:'ExceptionMiddleware', trace_id='e4\"+141", "_sentry_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "receive_name": "_sentry_receive", "receive_patched": "True", "new_receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "_sentry_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "send_name": "handle_outgoing_request", "send_patched": "False", "new_send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "middleware_name": "ExceptionMiddleware", "old_call": "<function ExceptionMiddleware.__call__ at 0x7f90180bec00>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f900525d280>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "conn": "<starlette.requests.Request object at 0x7f8ff47e01a0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff47e01a0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+25", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "conn": "<starlette.requests.Request object at 0x7f8ff47e01a0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f900522af00>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/stats/roi_by_vendor', name='roi_by_vendor', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function roi_by_vendor at 0x7f9007d9bb00>, 'path_params': {}, 'rou\"+82"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/stats/roi_by_vendor', name='roi_by_vendor', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4ee5300>", "request": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4ee5300>", "conn": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f8ff4ee5300>", "conn": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function patch_exception_middlew\"+822", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/stats/roi_by_\"+1707", "receive": "'<function _enable_span_for_middleware.<locals>._create_span_call.<locals>._sentr'+28", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+32", "request": "<starlette.requests.Request object at 0x7f8ff47e07a0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/fastapi.py", "lineno": 137, "name": "_sentry_app", "line": "", "locals": {"args": "(<starlette.requests.Request object at 0x7f8ff47e07a0>,)", "kwargs": "{}", "integration": "<sentry_sdk.integrations.fastapi.FastApiIntegration object at 0x7f90053d3860>", "request": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "sentry_scope": "<Scope id=0x7f8ff4ef7920 name=fastapi type=ScopeType.ISOLATION>", "extractor": "'<sentry_sdk.integrations.starlette.StarletteRequestExtractor object at 0x7f8ff47'+6", "_make_request_event_processor": "'<function patch_get_request_handler.<locals>._sentry_get_request_handler.<locals'+71", "info": "{}", "old_app": "<function get_request_handler.<locals>.app at 0x7f900522e160>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f8ff47e05c0>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff47e0590>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+2137", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "False", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+2137", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f8ff47e0560>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f9017e26e10>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f8ff47e0590>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+471", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+471", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "use_path": "/stats/roi_by_vendor", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f8f\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 54, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "request": "<starlette.requests.Request object at 0x7f8ff47e07a0>", "response": "<starlette.responses.Response object at 0x7f8ff47e0560>", "route_index": "12", "dep_index": "0", "i": "15", "route": "APIRoute(path='/health', name='health', methods=['GET'])", "j": "0", "dependency": "Depends(RateLimiter)", "identifier": "<function client_ip_identifier at 0x7f900532bba0>", "callback": "<function http_default_callback at 0x7f9008a45760>", "rate_key": "testclient", "key": "fastapi-limiter:testclient:12:0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 30, "name": "_check", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f900522b1d0>", "key": "fastapi-limiter:testclient:12:0", "redis": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/sentry_sdk/integrations/redis/_async_common.py", "lineno": 106, "name": "_sentry_execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "name": "EVALSHA", "args": "\"('a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:testclient:12:0\"+18", "kwargs": "{}", "integration": "<sentry_sdk.integrations.redis.RedisIntegration object at 0x7f9005452c00>", "cache_properties": "\"{'op': None, 'description': 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 'key': (\"+172", "cache_span": "None", "db_properties": "'{\\'op\\': \\'db.redis\\', \\'description\\': \"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb8'+51", "db_span": "'<Span(op=\\'db.redis\\', description:\"EVALSHA \\'a3f9e982197e9e887f6b5dcb7ec273863bb83'+198", "RedisIntegration": "<class 'sentry_sdk.integrations.redis.RedisIntegration'>", "is_cluster": "False", "old_execute_command": "<function Redis.execute_command at 0x7f9008792840>", "set_db_data_fn": "<function _set_db_data at 0x7f9005676480>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 615, "name": "execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}", "pool": "'<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(ho'+31", "command_name": "EVALSHA", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py", "lineno": 59, "name": "call_with_retry", "line": "", "locals": {"self": "<redis.asyncio.retry.Retry object at 0x7f8fe4d431c0>", "do": "<function Redis.execute_command.<locals>.<lambda> at 0x7f8ff4ee5c60>", "fail": "<function Redis.execute_command.<locals>.<lambda> at 0x7f8ff4ee5760>", "failures": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 589, "name": "_send_command_parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 636, "name": "parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "connection": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 562, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 418, "name": "disconnect", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "nowait": "True"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 358, "name": "close", "line": "", "locals": {"self": "'<StreamWriter transport=<_SelectorSocketTransport closing fd=19> reader=<StreamR'+58"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 1213, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=19>", "__class__": "<class 'asyncio.selector_events._SelectorSocketTransport'>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 875, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=19>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 799, "name": "call_soon", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>", "callback": "'<bound method _SelectorSocketTransport._call_connection_lost of <_SelectorSocket'+25", "context": "None", "args": "(None,)"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 545, "name": "_check_closed", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>"}}]}, {"exc_type": "RuntimeError", "exc_value": "Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 542, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 82, "name": "read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f8fe4523b60>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 90, "name": "_read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f8fe4523b60>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py", "lineno": 219, "name": "_readline", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f8fe4523b60>", "found": "-1", "tail": "b''"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 568, "name": "readline", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=19>>", "sep": "b'\\n'", "seplen": "1"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 660, "name": "readuntil", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=19>>", "separator": "b'\\n'", "seplen": "1", "offset": "0", "buflen": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 545, "name": "_wait_for_data", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=19>>", "func_name": "readuntil"}}]}]}
2025-08-19T12:12:59.4096356Z ___________________________ test_roi_trend_contract ____________________________
2025-08-19T12:12:59.4096618Z 
2025-08-19T12:12:59.4096738Z     def test_roi_trend_contract():
2025-08-19T12:12:59.4097034Z         client, up = client_with_auth()
2025-08-19T12:12:59.4097420Z         r = client.get("/stats/roi_trend", headers=_auth_headers(*up))
2025-08-19T12:12:59.4097807Z >       assert r.status_code == 200
2025-08-19T12:12:59.4098072Z E       assert 401 == 200
2025-08-19T12:12:59.4098410Z E        +  where 401 = <Response [401 Unauthorized]>.status_code
2025-08-19T12:12:59.4098633Z 
2025-08-19T12:12:59.4098876Z services/api/tests/test_stats_contracts.py:36: AssertionError
2025-08-19T12:12:59.4099358Z ------------------------------ Captured log call -------------------------------
2025-08-19T12:12:59.4100409Z WARNING  services.api.errors:errors.py:39 {"status_code": 401, "detail": "Unauthorized", "event": "http_error", "request_id": "2ab83894bd4a420185063f9c11cd848e", "level": "warning", "timestamp": "2025-08-19T12:12:58.006966Z"}
2025-08-19T12:12:59.4101381Z =============================== warnings summary ===============================
2025-08-19T12:12:59.4101734Z services/alert_bot/tests/test_smoke.py:5
2025-08-19T12:12:59.4103269Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-19T12:12:59.4104433Z     import pkg_resources  # noqa: F401
2025-08-19T12:12:59.4104607Z 
2025-08-19T12:12:59.4104858Z Sentry is attempting to send 0 pending events
2025-08-19T12:12:59.4105168Z Waiting up to True seconds
2025-08-19T12:12:59.4105407Z Press Ctrl-C to quit
2025-08-19T12:12:59.4105699Z tests/api/test_ingest_endpoints.py: 12 warnings
2025-08-19T12:12:59.4106056Z tests/ingest/test_tasks_eager.py: 3 warnings
2025-08-19T12:12:59.4106366Z tests/test_api_fast.py: 1 warning
2025-08-19T12:12:59.4106640Z tests/test_health.py: 5 warnings
2025-08-19T12:12:59.4106911Z tests/test_smoke.py: 5 warnings
2025-08-19T12:12:59.4107200Z services/api/tests/test_cors.py: 1 warning
2025-08-19T12:12:59.4107558Z services/api/tests/test_errors_json.py: 2 warnings
2025-08-19T12:12:59.4108038Z services/api/tests/test_health.py: 1 warning
2025-08-19T12:12:59.4108389Z services/api/tests/test_rate_limit.py: 122 warnings
2025-08-19T12:12:59.4108771Z services/api/tests/test_roi_basic_auth.py: 4 warnings
2025-08-19T12:12:59.4109149Z services/api/tests/test_sentry_event.py: 1 warning
2025-08-19T12:12:59.4109528Z services/api/tests/test_stats_contracts.py: 3 warnings
2025-08-19T12:12:59.4111091Z   /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/extensions/sentry.py:27: DeprecationWarning: sentry_sdk.configure_scope is deprecated and will be removed in the next major version. Please consult our migration guide to learn how to migrate to the new API: https://docs.sentry.io/platforms/python/migration/1.x-to-2.x#scope-configuring
2025-08-19T12:12:59.4112551Z     with configure_scope() as scope:
2025-08-19T12:12:59.4112718Z 
2025-08-19T12:12:59.4112884Z tests/api/test_ingest_endpoints.py: 3 warnings
2025-08-19T12:12:59.4113208Z tests/test_api_fast.py: 1 warning
2025-08-19T12:12:59.4113490Z tests/test_health.py: 5 warnings
2025-08-19T12:12:59.4113752Z tests/test_smoke.py: 5 warnings
2025-08-19T12:12:59.4114043Z services/api/tests/test_cors.py: 3 warnings
2025-08-19T12:12:59.4114391Z services/api/tests/test_errors_json.py: 2 warnings
2025-08-19T12:12:59.4114736Z services/api/tests/test_health.py: 1 warning
2025-08-19T12:12:59.4115084Z services/api/tests/test_rate_limit.py: 2 warnings
2025-08-19T12:12:59.4115443Z services/api/tests/test_sentry_event.py: 1 warning
2025-08-19T12:12:59.4116388Z   /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/__init__.py:89: DeprecationWarning: Call to deprecated close. (Use aclose() instead) -- Deprecated since version 5.0.1.
2025-08-19T12:12:59.4117175Z     await cls.redis.close()
2025-08-19T12:12:59.4117324Z 
2025-08-19T12:12:59.4117514Z tests/test_api_fast.py::test_health_endpoint
2025-08-19T12:12:59.4118640Z   /home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py:13: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4119648Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4119826Z 
2025-08-19T12:12:59.4119951Z tests/test_api_fast.py: 1 warning
2025-08-19T12:12:59.4120229Z tests/test_health.py: 5 warnings
2025-08-19T12:12:59.4120500Z tests/test_smoke.py: 5 warnings
2025-08-19T12:12:59.4120790Z services/api/tests/test_cors.py: 1 warning
2025-08-19T12:12:59.4121266Z services/api/tests/test_health.py: 1 warning
2025-08-19T12:12:59.4121700Z services/api/tests/test_rate_limit.py: 102 warnings
2025-08-19T12:12:59.4122873Z   /home/runner/work/AWA-App/AWA-App/services/api/routes/health.py:24: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4124106Z     app_now = datetime.utcnow().replace(tzinfo=timezone.utc)
2025-08-19T12:12:59.4124337Z 
2025-08-19T12:12:59.4124479Z tests/test_health.py::test_health[0]
2025-08-19T12:12:59.4124768Z tests/test_health.py::test_health[1]
2025-08-19T12:12:59.4125054Z tests/test_health.py::test_health[2]
2025-08-19T12:12:59.4125339Z tests/test_health.py::test_health[3]
2025-08-19T12:12:59.4125623Z tests/test_health.py::test_health[4]
2025-08-19T12:12:59.4126705Z   /home/runner/work/AWA-App/AWA-App/tests/test_health.py:22: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4127712Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4127887Z 
2025-08-19T12:12:59.4128016Z tests/test_smoke.py::test_health[0]
2025-08-19T12:12:59.4128304Z tests/test_smoke.py::test_health[1]
2025-08-19T12:12:59.4128585Z tests/test_smoke.py::test_health[2]
2025-08-19T12:12:59.4128984Z tests/test_smoke.py::test_health[3]
2025-08-19T12:12:59.4129271Z tests/test_smoke.py::test_health[4]
2025-08-19T12:12:59.4130349Z   /home/runner/work/AWA-App/AWA-App/tests/test_smoke.py:32: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4131449Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4131620Z 
2025-08-19T12:12:59.4131849Z services/api/tests/test_cors.py::test_cors_simple_get_allowed
2025-08-19T12:12:59.4133064Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_cors.py:27: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4134106Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4134283Z 
2025-08-19T12:12:59.4134478Z services/api/tests/test_health.py::test_health_route
2025-08-19T12:12:59.4135663Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py:14: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4136720Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4136893Z 
2025-08-19T12:12:59.4137072Z services/api/tests/test_rate_limit.py: 102 warnings
2025-08-19T12:12:59.4138267Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_rate_limit.py:33: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-19T12:12:59.4139314Z     return datetime.datetime.utcnow()
2025-08-19T12:12:59.4149126Z 
2025-08-19T12:12:59.4149630Z services/api/tests/test_sentry_event.py::test_unhandled_exception_is_captured_and_tagged
2025-08-19T12:12:59.4151360Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_sentry_event.py:47: SentryHubDeprecationWarning: `sentry_sdk.Hub` is deprecated and will be removed in a future major release. Please consult our 1.x to 2.x migration guide for details on how to migrate `Hub` usage to the new API: https://docs.sentry.io/platforms/python/migration/1.x-to-2.x
2025-08-19T12:12:59.4152619Z     hub = sentry_sdk.Hub.current
2025-08-19T12:12:59.4152792Z 
2025-08-19T12:12:59.4153068Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-19T12:12:59.4153559Z ================================ tests coverage ================================
2025-08-19T12:12:59.4154028Z _______________ coverage: platform linux, python 3.12.11-final-0 _______________
2025-08-19T12:12:59.4154301Z 
2025-08-19T12:12:59.4154456Z Coverage XML written to file coverage.xml
2025-08-19T12:12:59.4154868Z Required test coverage of 65% reached. Total coverage: 65.27%
2025-08-19T12:12:59.4155487Z =========================== short test summary info ============================
2025-08-19T12:12:59.4156146Z FAILED services/api/tests/test_roi_basic_auth.py::test_roi_basic_auth_good - RuntimeError: Event loop is closed
2025-08-19T12:12:59.4157034Z FAILED services/api/tests/test_roi_basic_auth.py::test_stats_contract_needs_basic_auth - RuntimeError: Event loop is closed
2025-08-19T12:12:59.4157808Z FAILED services/api/tests/test_stats_contracts.py::test_kpi_contract - assert 401 == 200
2025-08-19T12:12:59.4158301Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-08-19T12:12:59.4158947Z FAILED services/api/tests/test_stats_contracts.py::test_roi_by_vendor_contract - RuntimeError: Event loop is closed
2025-08-19T12:12:59.4159709Z FAILED services/api/tests/test_stats_contracts.py::test_roi_trend_contract - assert 401 == 200
2025-08-19T12:12:59.4160208Z  +  where 401 = <Response [401 Unauthorized]>.status_code
2025-08-19T12:12:59.9255482Z ##[error]Process completed with exit code 1.
2025-08-19T12:12:59.9313722Z ##[group]Run echo "::group::postgres container logs"
2025-08-19T12:12:59.9314116Z [36;1mecho "::group::postgres container logs"[0m
2025-08-19T12:12:59.9314600Z [36;1mdocker logs 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85 --tail 200[0m
2025-08-19T12:12:59.9315050Z [36;1mecho "::endgroup::"[0m
2025-08-19T12:12:59.9355297Z shell: /usr/bin/bash -e {0}
2025-08-19T12:12:59.9355535Z env:
2025-08-19T12:12:59.9355748Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T12:12:59.9356026Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T12:12:59.9356251Z   TRUST_X_FORWARDED: 1
2025-08-19T12:12:59.9356453Z   PG_USER: postgres
2025-08-19T12:12:59.9356657Z   PG_PASSWORD: pass
2025-08-19T12:12:59.9356852Z   PG_DATABASE: awa
2025-08-19T12:12:59.9357042Z   PG_HOST: localhost
2025-08-19T12:12:59.9357228Z   PG_PORT: 5432
2025-08-19T12:12:59.9357637Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T12:12:59.9358045Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T12:12:59.9358469Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T12:12:59.9358709Z   DATA_DIR: /tmp/awa-data
2025-08-19T12:12:59.9358914Z   ENABLE_LIVE: 0
2025-08-19T12:12:59.9359091Z   TESTING: 1
2025-08-19T12:12:59.9359330Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:12:59.9359770Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T12:12:59.9360154Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:12:59.9360508Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:12:59.9360861Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T12:12:59.9361461Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T12:12:59.9361766Z ##[endgroup]
2025-08-19T12:12:59.9419984Z ##[group]postgres container logs
2025-08-19T12:12:59.9538298Z The files belonging to this database system will be owned by user "postgres".
2025-08-19T12:12:59.9539564Z initdb: warning: enabling "trust" authentication for local connections
2025-08-19T12:12:59.9540368Z This user must also own the server process.
2025-08-19T12:12:59.9540738Z 
2025-08-19T12:12:59.9541333Z The database cluster will be initialized with locale "en_US.utf8".
2025-08-19T12:12:59.9542242Z The default database encoding has accordingly been set to "UTF8".
2025-08-19T12:12:59.9543081Z The default text search configuration will be set to "english".
2025-08-19T12:12:59.9543511Z 
2025-08-19T12:12:59.9543753Z Data page checksums are disabled.
2025-08-19T12:12:59.9544034Z 
2025-08-19T12:12:59.9544519Z fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-08-19T12:12:59.9545021Z creating subdirectories ... ok
2025-08-19T12:12:59.9545419Z selecting dynamic shared memory implementation ... posix
2025-08-19T12:12:59.9545823Z selecting default max_connections ... 100
2025-08-19T12:12:59.9546165Z selecting default shared_buffers ... 128MB
2025-08-19T12:12:59.9546487Z selecting default time zone ... Etc/UTC
2025-08-19T12:12:59.9546812Z creating configuration files ... ok
2025-08-19T12:12:59.9547109Z running bootstrap script ... ok
2025-08-19T12:12:59.9547444Z performing post-bootstrap initialization ... ok
2025-08-19T12:12:59.9547751Z syncing data to disk ... ok
2025-08-19T12:12:59.9547894Z 
2025-08-19T12:12:59.9547900Z 
2025-08-19T12:12:59.9548099Z Success. You can now start the database server using:
2025-08-19T12:12:59.9548315Z 
2025-08-19T12:12:59.9548486Z     pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-08-19T12:12:59.9548694Z 
2025-08-19T12:12:59.9549401Z waiting for server to start....2025-08-19 12:10:28.050 UTC [48] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T12:12:59.9550295Z 2025-08-19 12:10:28.051 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T12:12:59.9550921Z 2025-08-19 12:10:28.054 UTC [51] LOG:  database system was shut down at 2025-08-19 12:10:27 UTC
2025-08-19T12:12:59.9552337Z 2025-08-19 12:10:28.060 UTC [48] LOG:  database system is ready to accept connections
2025-08-19T12:12:59.9552750Z  done
2025-08-19T12:12:59.9553072Z server started
2025-08-19T12:12:59.9553406Z CREATE DATABASE
2025-08-19T12:12:59.9553599Z 
2025-08-19T12:12:59.9553608Z 
2025-08-19T12:12:59.9554108Z /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-08-19T12:12:59.9554434Z 
2025-08-19T12:12:59.9554899Z waiting for server to shut down...2025-08-19 12:10:28.271 UTC [48] LOG:  received fast shutdown request
2025-08-19T12:12:59.9555891Z .2025-08-19 12:10:28.272 UTC [48] LOG:  aborting any active transactions
2025-08-19T12:12:59.9556814Z 2025-08-19 12:10:28.274 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-08-19T12:12:59.9557372Z 2025-08-19 12:10:28.274 UTC [49] LOG:  shutting down
2025-08-19T12:12:59.9557827Z 2025-08-19 12:10:28.275 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-08-19T12:12:59.9558986Z 2025-08-19 12:10:28.296 UTC [49] LOG:  checkpoint complete: wrote 922 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.018 s, sync=0.002 s, total=0.022 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
2025-08-19T12:12:59.9559927Z 2025-08-19 12:10:28.303 UTC [48] LOG:  database system is shut down
2025-08-19T12:12:59.9560237Z  done
2025-08-19T12:12:59.9560413Z server stopped
2025-08-19T12:12:59.9560530Z 
2025-08-19T12:12:59.9560736Z PostgreSQL init process complete; ready for start up.
2025-08-19T12:12:59.9560957Z 
2025-08-19T12:12:59.9561844Z initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-08-19T12:12:59.9562875Z 2025-08-19 12:10:28.393 UTC [1] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T12:12:59.9563603Z 2025-08-19 12:10:28.393 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-08-19T12:12:59.9564153Z 2025-08-19 12:10:28.393 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-08-19T12:12:59.9564730Z 2025-08-19 12:10:28.395 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T12:12:59.9565348Z 2025-08-19 12:10:28.398 UTC [64] LOG:  database system was shut down at 2025-08-19 12:10:28 UTC
2025-08-19T12:12:59.9565903Z 2025-08-19 12:10:28.402 UTC [1] LOG:  database system is ready to accept connections
2025-08-19T12:12:59.9566440Z ##[endgroup]
2025-08-19T12:12:59.9620009Z Post job cleanup.
2025-08-19T12:13:00.0586394Z [command]/usr/bin/git version
2025-08-19T12:13:00.0623290Z git version 2.50.1
2025-08-19T12:13:00.0674579Z Temporarily overriding HOME='/home/runner/work/_temp/71bbe2a9-5922-448b-9551-28bab9fb9f9d' before making global git config changes
2025-08-19T12:13:00.0676129Z Adding repository directory to the temporary git global config as a safe directory
2025-08-19T12:13:00.0680880Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-19T12:13:00.0717533Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-19T12:13:00.0750514Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-19T12:13:00.0980441Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-19T12:13:00.1001447Z http.https://github.com/.extraheader
2025-08-19T12:13:00.1013992Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-08-19T12:13:00.1045142Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-19T12:13:00.1359201Z Print service container logs: 5f5ece33a82341f28bb961bb58baea41_postgres15_0331f2
2025-08-19T12:13:00.1364474Z ##[command]/usr/bin/docker logs --details 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:13:00.1484952Z  The files belonging to this database system will be owned by user "postgres".
2025-08-19T12:13:00.1486904Z  initdb: warning: enabling "trust" authentication for local connections
2025-08-19T12:13:00.1487565Z  This user must also own the server process.
2025-08-19T12:13:00.1487991Z  
2025-08-19T12:13:00.1488359Z  The database cluster will be initialized with locale "en_US.utf8".
2025-08-19T12:13:00.1488807Z  The default database encoding has accordingly been set to "UTF8".
2025-08-19T12:13:00.1489222Z  The default text search configuration will be set to "english".
2025-08-19T12:13:00.1489525Z  
2025-08-19T12:13:00.1489703Z  Data page checksums are disabled.
2025-08-19T12:13:00.1489941Z  
2025-08-19T12:13:00.1490288Z  fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-08-19T12:13:00.1490678Z  creating subdirectories ... ok
2025-08-19T12:13:00.1490984Z  selecting dynamic shared memory implementation ... posix
2025-08-19T12:13:00.1491532Z  selecting default max_connections ... 100
2025-08-19T12:13:00.1491837Z  selecting default shared_buffers ... 128MB
2025-08-19T12:13:00.1492106Z  selecting default time zone ... Etc/UTC
2025-08-19T12:13:00.1492365Z  creating configuration files ... ok
2025-08-19T12:13:00.1492616Z  running bootstrap script ... ok
2025-08-19T12:13:00.1492890Z  performing post-bootstrap initialization ... ok
2025-08-19T12:13:00.1493169Z  syncing data to disk ... ok
2025-08-19T12:13:00.1493377Z  
2025-08-19T12:13:00.1493524Z  
2025-08-19T12:13:00.1493728Z  Success. You can now start the database server using:
2025-08-19T12:13:00.1494003Z  
2025-08-19T12:13:00.1494217Z      pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-08-19T12:13:00.1494490Z  
2025-08-19T12:13:00.1495046Z  waiting for server to start....2025-08-19 12:10:28.050 UTC [48] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T12:13:00.1495809Z  2025-08-19 12:10:28.051 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T12:13:00.1496296Z  2025-08-19 12:10:28.054 UTC [51] LOG:  database system was shut down at 2025-08-19 12:10:27 UTC
2025-08-19T12:13:00.1496748Z  2025-08-19 12:10:28.060 UTC [48] LOG:  database system is ready to accept connections
2025-08-19T12:13:00.1497071Z   done
2025-08-19T12:13:00.1497233Z  server started
2025-08-19T12:13:00.1497410Z  CREATE DATABASE
2025-08-19T12:13:00.1497578Z  
2025-08-19T12:13:00.1497723Z  
2025-08-19T12:13:00.1498021Z  /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-08-19T12:13:00.1498383Z  
2025-08-19T12:13:00.1499242Z  initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-08-19T12:13:00.1500607Z  2025-08-19 12:10:28.393 UTC [1] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T12:13:00.1501459Z  2025-08-19 12:10:28.393 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-08-19T12:13:00.1501889Z  2025-08-19 12:10:28.393 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-08-19T12:13:00.1502347Z  2025-08-19 12:10:28.395 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T12:13:00.1502836Z  2025-08-19 12:10:28.398 UTC [64] LOG:  database system was shut down at 2025-08-19 12:10:28 UTC
2025-08-19T12:13:00.1503278Z  2025-08-19 12:10:28.402 UTC [1] LOG:  database system is ready to accept connections
2025-08-19T12:13:00.1503766Z  waiting for server to shut down...2025-08-19 12:10:28.271 UTC [48] LOG:  received fast shutdown request
2025-08-19T12:13:00.1504497Z  .2025-08-19 12:10:28.272 UTC [48] LOG:  aborting any active transactions
2025-08-19T12:13:00.1505171Z  2025-08-19 12:10:28.274 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-08-19T12:13:00.1505640Z  2025-08-19 12:10:28.274 UTC [49] LOG:  shutting down
2025-08-19T12:13:00.1505985Z  2025-08-19 12:10:28.275 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-08-19T12:13:00.1507220Z  2025-08-19 12:10:28.296 UTC [49] LOG:  checkpoint complete: wrote 922 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.018 s, sync=0.002 s, total=0.022 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
2025-08-19T12:13:00.1508176Z  2025-08-19 12:10:28.303 UTC [48] LOG:  database system is shut down
2025-08-19T12:13:00.1508474Z   done
2025-08-19T12:13:00.1508644Z  server stopped
2025-08-19T12:13:00.1508822Z  
2025-08-19T12:13:00.1509042Z  PostgreSQL init process complete; ready for start up.
2025-08-19T12:13:00.1509331Z  
2025-08-19T12:13:00.1515403Z Stop and remove container: 5f5ece33a82341f28bb961bb58baea41_postgres15_0331f2
2025-08-19T12:13:00.1520007Z ##[command]/usr/bin/docker rm --force 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:13:00.2748157Z 73b59f1238a21577dad3f0ad26a8c3f29345f93f2dbc912eac6abf8981410a85
2025-08-19T12:13:00.2769235Z Print service container logs: 836a4584ef774fb1a4c7fcf6f4ddfcb7_redis7alpine_b9ae75
2025-08-19T12:13:00.2770448Z ##[command]/usr/bin/docker logs --details 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:13:00.2889888Z  1:C 19 Aug 2025 12:10:28.818 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
2025-08-19T12:13:00.2891742Z  1:C 19 Aug 2025 12:10:28.819 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
2025-08-19T12:13:00.2892256Z  1:C 19 Aug 2025 12:10:28.819 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
2025-08-19T12:13:00.2892989Z  1:C 19 Aug 2025 12:10:28.819 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
2025-08-19T12:13:00.2893617Z  1:M 19 Aug 2025 12:10:28.819 * monotonic clock: POSIX clock_gettime
2025-08-19T12:13:00.2893980Z  1:M 19 Aug 2025 12:10:28.819 * Running mode=standalone, port=6379.
2025-08-19T12:13:00.2894321Z  1:M 19 Aug 2025 12:10:28.820 * Server initialized
2025-08-19T12:13:00.2894640Z  1:M 19 Aug 2025 12:10:28.820 * Ready to accept connections tcp
2025-08-19T12:13:00.2902834Z Stop and remove container: 836a4584ef774fb1a4c7fcf6f4ddfcb7_redis7alpine_b9ae75
2025-08-19T12:13:00.2903600Z ##[command]/usr/bin/docker rm --force 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:13:00.3986438Z 8c4784bee53c87b2d2821c9d3e67fe5353911fa652b032d2501fb30c99d8db58
2025-08-19T12:13:00.4007403Z Remove container network: github_network_51a65e9f35454b429e3d442db0c3f377
2025-08-19T12:13:00.4012087Z ##[command]/usr/bin/docker network rm github_network_51a65e9f35454b429e3d442db0c3f377
2025-08-19T12:13:00.5016913Z github_network_51a65e9f35454b429e3d442db0c3f377
2025-08-19T12:13:00.5081400Z Cleaning up orphan processes
