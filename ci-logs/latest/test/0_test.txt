2025-08-18T15:44:04.7292853Z Current runner version: '2.327.1'
2025-08-18T15:44:04.7316281Z ##[group]Runner Image Provisioner
2025-08-18T15:44:04.7317197Z Hosted Compute Agent
2025-08-18T15:44:04.7317736Z Version: 20250818.377
2025-08-18T15:44:04.7318403Z Commit: 3c593e9f75fe0b87e893bca80d6e12ba089c61fc
2025-08-18T15:44:04.7319110Z Build Date: 2025-08-18T14:52:18Z
2025-08-18T15:44:04.7319764Z ##[endgroup]
2025-08-18T15:44:04.7320314Z ##[group]Operating System
2025-08-18T15:44:04.7320883Z Ubuntu
2025-08-18T15:44:04.7321308Z 24.04.2
2025-08-18T15:44:04.7321844Z LTS
2025-08-18T15:44:04.7322595Z ##[endgroup]
2025-08-18T15:44:04.7323097Z ##[group]Runner Image
2025-08-18T15:44:04.7323702Z Image: ubuntu-24.04
2025-08-18T15:44:04.7324241Z Version: 20250810.1.0
2025-08-18T15:44:04.7325225Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250810.1/images/ubuntu/Ubuntu2404-Readme.md
2025-08-18T15:44:04.7326798Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250810.1
2025-08-18T15:44:04.7327767Z ##[endgroup]
2025-08-18T15:44:04.7330220Z ##[group]GITHUB_TOKEN Permissions
2025-08-18T15:44:04.7332565Z Actions: write
2025-08-18T15:44:04.7333225Z Attestations: write
2025-08-18T15:44:04.7333807Z Checks: write
2025-08-18T15:44:04.7334290Z Contents: write
2025-08-18T15:44:04.7334855Z Deployments: write
2025-08-18T15:44:04.7335329Z Discussions: write
2025-08-18T15:44:04.7335851Z Issues: write
2025-08-18T15:44:04.7336379Z Metadata: read
2025-08-18T15:44:04.7336872Z Models: read
2025-08-18T15:44:04.7337324Z Packages: write
2025-08-18T15:44:04.7337884Z Pages: write
2025-08-18T15:44:04.7338334Z PullRequests: write
2025-08-18T15:44:04.7338904Z RepositoryProjects: write
2025-08-18T15:44:04.7339472Z SecurityEvents: write
2025-08-18T15:44:04.7340101Z Statuses: write
2025-08-18T15:44:04.7340600Z ##[endgroup]
2025-08-18T15:44:04.7342841Z Secret source: Actions
2025-08-18T15:44:04.7343573Z Prepare workflow directory
2025-08-18T15:44:04.7763187Z Prepare all required actions
2025-08-18T15:44:04.7800538Z Getting action download info
2025-08-18T15:44:05.2488933Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-08-18T15:44:05.6517493Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2025-08-18T15:44:05.8939984Z Download action repository 'actions/cache@v4' (SHA:0400d5f644dc74513175e3cd8d07132dd4860809)
2025-08-18T15:44:06.1879567Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-08-18T15:44:06.3273812Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2025-08-18T15:44:06.6371291Z Complete job name: test
2025-08-18T15:44:06.6986591Z ##[group]Checking docker version
2025-08-18T15:44:06.7000312Z ##[command]/usr/bin/docker version --format '{{.Server.APIVersion}}'
2025-08-18T15:44:07.6104133Z '1.48'
2025-08-18T15:44:07.6129384Z Docker daemon API version: '1.48'
2025-08-18T15:44:07.6131600Z ##[command]/usr/bin/docker version --format '{{.Client.APIVersion}}'
2025-08-18T15:44:07.6353445Z '1.48'
2025-08-18T15:44:07.6376441Z Docker client API version: '1.48'
2025-08-18T15:44:07.6383279Z ##[endgroup]
2025-08-18T15:44:07.6386642Z ##[group]Clean up resources from previous jobs
2025-08-18T15:44:07.6392990Z ##[command]/usr/bin/docker ps --all --quiet --no-trunc --filter "label=c971fa"
2025-08-18T15:44:07.6577305Z ##[command]/usr/bin/docker network prune --force --filter "label=c971fa"
2025-08-18T15:44:07.6725400Z ##[endgroup]
2025-08-18T15:44:07.6726365Z ##[group]Create local container network
2025-08-18T15:44:07.6738553Z ##[command]/usr/bin/docker network create --label c971fa github_network_344c7b957d9e4590aa21d04a9c401dc4
2025-08-18T15:44:07.7338623Z 91b5860fdd99b34f2399380bcfa0cc762eadad56750131b69aa0b3781582f00f
2025-08-18T15:44:07.7358461Z ##[endgroup]
2025-08-18T15:44:07.7386097Z ##[group]Starting postgres service container
2025-08-18T15:44:07.7407838Z ##[command]/usr/bin/docker pull postgres:15
2025-08-18T15:44:08.1825895Z 15: Pulling from library/postgres
2025-08-18T15:44:08.2676839Z 396b1da7636e: Pulling fs layer
2025-08-18T15:44:08.2678073Z fca2566eba32: Pulling fs layer
2025-08-18T15:44:08.2678961Z 631fe8c6d606: Pulling fs layer
2025-08-18T15:44:08.2679698Z 77c7671c4414: Pulling fs layer
2025-08-18T15:44:08.2680254Z 2d9e29180a27: Pulling fs layer
2025-08-18T15:44:08.2680763Z c6bcc2c9a041: Pulling fs layer
2025-08-18T15:44:08.2681229Z ac4b721eb66f: Pulling fs layer
2025-08-18T15:44:08.2681686Z 606bd164980e: Pulling fs layer
2025-08-18T15:44:08.2682399Z f5dfd246bc6e: Pulling fs layer
2025-08-18T15:44:08.2682973Z ba7036bb0a60: Pulling fs layer
2025-08-18T15:44:08.2683446Z 799f859abbbd: Pulling fs layer
2025-08-18T15:44:08.2683950Z d903e777080c: Pulling fs layer
2025-08-18T15:44:08.2684406Z 04adcb462801: Pulling fs layer
2025-08-18T15:44:08.2684872Z 5c10925b29ff: Pulling fs layer
2025-08-18T15:44:08.2685334Z c6bcc2c9a041: Waiting
2025-08-18T15:44:08.2685737Z 77c7671c4414: Waiting
2025-08-18T15:44:08.2686194Z 2d9e29180a27: Waiting
2025-08-18T15:44:08.2686607Z ac4b721eb66f: Waiting
2025-08-18T15:44:08.2686881Z f5dfd246bc6e: Waiting
2025-08-18T15:44:08.2687108Z 606bd164980e: Waiting
2025-08-18T15:44:08.2687330Z d903e777080c: Waiting
2025-08-18T15:44:08.2687548Z 04adcb462801: Waiting
2025-08-18T15:44:08.2687779Z ba7036bb0a60: Waiting
2025-08-18T15:44:08.2688004Z 799f859abbbd: Waiting
2025-08-18T15:44:08.3628559Z 631fe8c6d606: Verifying Checksum
2025-08-18T15:44:08.3629304Z 631fe8c6d606: Download complete
2025-08-18T15:44:08.3816546Z fca2566eba32: Verifying Checksum
2025-08-18T15:44:08.3817216Z fca2566eba32: Download complete
2025-08-18T15:44:08.4678880Z 77c7671c4414: Verifying Checksum
2025-08-18T15:44:08.4679855Z 77c7671c4414: Download complete
2025-08-18T15:44:08.5520905Z c6bcc2c9a041: Verifying Checksum
2025-08-18T15:44:08.5640867Z c6bcc2c9a041: Download complete
2025-08-18T15:44:08.5641479Z 2d9e29180a27: Verifying Checksum
2025-08-18T15:44:08.5642714Z 2d9e29180a27: Download complete
2025-08-18T15:44:08.6083747Z 396b1da7636e: Verifying Checksum
2025-08-18T15:44:08.6085253Z 396b1da7636e: Download complete
2025-08-18T15:44:08.6309198Z 606bd164980e: Verifying Checksum
2025-08-18T15:44:08.6310139Z 606bd164980e: Download complete
2025-08-18T15:44:08.7097539Z ac4b721eb66f: Verifying Checksum
2025-08-18T15:44:08.7099037Z ac4b721eb66f: Download complete
2025-08-18T15:44:08.7501362Z ba7036bb0a60: Verifying Checksum
2025-08-18T15:44:08.7502069Z ba7036bb0a60: Download complete
2025-08-18T15:44:08.8029058Z 799f859abbbd: Verifying Checksum
2025-08-18T15:44:08.8030779Z 799f859abbbd: Download complete
2025-08-18T15:44:08.8660156Z d903e777080c: Verifying Checksum
2025-08-18T15:44:08.8661304Z d903e777080c: Download complete
2025-08-18T15:44:08.9046763Z 04adcb462801: Verifying Checksum
2025-08-18T15:44:08.9047857Z 04adcb462801: Download complete
2025-08-18T15:44:08.9337223Z 5c10925b29ff: Download complete
2025-08-18T15:44:09.6586544Z 396b1da7636e: Pull complete
2025-08-18T15:44:10.3248508Z f5dfd246bc6e: Verifying Checksum
2025-08-18T15:44:10.3248908Z f5dfd246bc6e: Download complete
2025-08-18T15:44:10.7610226Z fca2566eba32: Pull complete
2025-08-18T15:44:10.9511914Z 631fe8c6d606: Pull complete
2025-08-18T15:44:10.9952369Z 77c7671c4414: Pull complete
2025-08-18T15:44:11.3433391Z 2d9e29180a27: Pull complete
2025-08-18T15:44:11.4403411Z c6bcc2c9a041: Pull complete
2025-08-18T15:44:11.4506960Z ac4b721eb66f: Pull complete
2025-08-18T15:44:11.4624295Z 606bd164980e: Pull complete
2025-08-18T15:44:14.6270009Z f5dfd246bc6e: Pull complete
2025-08-18T15:44:14.6454757Z ba7036bb0a60: Pull complete
2025-08-18T15:44:14.6555714Z 799f859abbbd: Pull complete
2025-08-18T15:44:14.6669380Z d903e777080c: Pull complete
2025-08-18T15:44:14.6799291Z 04adcb462801: Pull complete
2025-08-18T15:44:14.6935771Z 5c10925b29ff: Pull complete
2025-08-18T15:44:14.6979215Z Digest: sha256:bc51cf4f1fe02cce7ed2370b20128a9b00b4eb804573a77d2a0d877aaa9c82b1
2025-08-18T15:44:14.6992102Z Status: Downloaded newer image for postgres:15
2025-08-18T15:44:14.7004548Z docker.io/library/postgres:15
2025-08-18T15:44:14.7071387Z ##[command]/usr/bin/docker create --name 33e253197b7d4ce9ab0ddc8e9efc9247_postgres15_7d493d --label c971fa --network github_network_344c7b957d9e4590aa21d04a9c401dc4 --network-alias postgres -p 5432:5432 --health-cmd="pg_isready -U postgres -d awa" --health-interval=5s --health-timeout=5s --health-retries=10 -e "POSTGRES_USER=postgres" -e "POSTGRES_PASSWORD=pass" -e "POSTGRES_DB=awa" -e GITHUB_ACTIONS=true -e CI=true postgres:15
2025-08-18T15:44:14.7371061Z 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:14.7396253Z ##[command]/usr/bin/docker start 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:15.5465134Z 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:15.5487732Z ##[command]/usr/bin/docker ps --all --filter id=3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-08-18T15:44:15.5640278Z 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea Up Less than a second (health: starting)
2025-08-18T15:44:15.5660698Z ##[command]/usr/bin/docker port 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:15.5785724Z 5432/tcp -> 0.0.0.0:5432
2025-08-18T15:44:15.5786138Z 5432/tcp -> [::]:5432
2025-08-18T15:44:15.5844873Z ##[endgroup]
2025-08-18T15:44:15.5846164Z ##[group]Starting redis service container
2025-08-18T15:44:15.5847478Z ##[command]/usr/bin/docker pull redis:7-alpine
2025-08-18T15:44:15.8232393Z 7-alpine: Pulling from library/redis
2025-08-18T15:44:15.8814708Z 0368fd46e3c6: Pulling fs layer
2025-08-18T15:44:15.8815967Z 4c55286bbede: Pulling fs layer
2025-08-18T15:44:15.8816415Z 5e28347af205: Pulling fs layer
2025-08-18T15:44:15.8816811Z 311eca34042e: Pulling fs layer
2025-08-18T15:44:15.8817192Z e6fe6f07e192: Pulling fs layer
2025-08-18T15:44:15.8818845Z a2cadbfeca72: Pulling fs layer
2025-08-18T15:44:15.8819404Z 4f4fb700ef54: Pulling fs layer
2025-08-18T15:44:15.8819674Z a976ed7e7808: Pulling fs layer
2025-08-18T15:44:15.8819937Z a2cadbfeca72: Waiting
2025-08-18T15:44:15.8820161Z e6fe6f07e192: Waiting
2025-08-18T15:44:15.8820368Z 4f4fb700ef54: Waiting
2025-08-18T15:44:15.8820566Z a976ed7e7808: Waiting
2025-08-18T15:44:15.8820769Z 311eca34042e: Waiting
2025-08-18T15:44:15.9649817Z 5e28347af205: Verifying Checksum
2025-08-18T15:44:15.9652379Z 5e28347af205: Download complete
2025-08-18T15:44:15.9667551Z 4c55286bbede: Verifying Checksum
2025-08-18T15:44:15.9669648Z 4c55286bbede: Download complete
2025-08-18T15:44:16.0199038Z 0368fd46e3c6: Verifying Checksum
2025-08-18T15:44:16.0199940Z 0368fd46e3c6: Download complete
2025-08-18T15:44:16.0396651Z 311eca34042e: Verifying Checksum
2025-08-18T15:44:16.0400951Z 311eca34042e: Download complete
2025-08-18T15:44:16.1070387Z a2cadbfeca72: Verifying Checksum
2025-08-18T15:44:16.1072595Z a2cadbfeca72: Download complete
2025-08-18T15:44:16.1176693Z 4f4fb700ef54: Verifying Checksum
2025-08-18T15:44:16.1178432Z 4f4fb700ef54: Download complete
2025-08-18T15:44:16.1443013Z e6fe6f07e192: Verifying Checksum
2025-08-18T15:44:16.1443486Z e6fe6f07e192: Download complete
2025-08-18T15:44:16.1616281Z 0368fd46e3c6: Pull complete
2025-08-18T15:44:16.1957939Z a976ed7e7808: Verifying Checksum
2025-08-18T15:44:16.1958495Z a976ed7e7808: Download complete
2025-08-18T15:44:16.2052652Z 4c55286bbede: Pull complete
2025-08-18T15:44:16.3503620Z 5e28347af205: Pull complete
2025-08-18T15:44:16.3831875Z 311eca34042e: Pull complete
2025-08-18T15:44:16.5870835Z e6fe6f07e192: Pull complete
2025-08-18T15:44:16.5972251Z a2cadbfeca72: Pull complete
2025-08-18T15:44:16.6062455Z 4f4fb700ef54: Pull complete
2025-08-18T15:44:16.6185844Z a976ed7e7808: Pull complete
2025-08-18T15:44:16.6223136Z Digest: sha256:bb186d083732f669da90be8b0f975a37812b15e913465bb14d845db72a4e3e08
2025-08-18T15:44:16.6233421Z Status: Downloaded newer image for redis:7-alpine
2025-08-18T15:44:16.6242583Z docker.io/library/redis:7-alpine
2025-08-18T15:44:16.6258767Z ##[command]/usr/bin/docker create --name cc8ffe2e07384899b9eb35ddb48d4232_redis7alpine_efc471 --label c971fa --network github_network_344c7b957d9e4590aa21d04a9c401dc4 --network-alias redis -p 6379:6379  -e GITHUB_ACTIONS=true -e CI=true redis:7-alpine
2025-08-18T15:44:16.6481896Z 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:44:16.6494575Z ##[command]/usr/bin/docker start 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:44:16.7845745Z 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:44:16.7860240Z ##[command]/usr/bin/docker ps --all --filter id=66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b --filter status=running --no-trunc --format "{{.ID}} {{.Status}}"
2025-08-18T15:44:16.7985203Z 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b Up Less than a second
2025-08-18T15:44:16.7998568Z ##[command]/usr/bin/docker port 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:44:16.8110507Z 6379/tcp -> 0.0.0.0:6379
2025-08-18T15:44:16.8110922Z 6379/tcp -> [::]:6379
2025-08-18T15:44:16.8124309Z ##[endgroup]
2025-08-18T15:44:16.8135699Z ##[group]Waiting for all services to be ready
2025-08-18T15:44:16.8148910Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:16.8261761Z starting
2025-08-18T15:44:16.8281813Z postgres service is starting, waiting 2 seconds before checking again.
2025-08-18T15:44:18.8287852Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:18.8407891Z starting
2025-08-18T15:44:18.8421650Z postgres service is starting, waiting 3 seconds before checking again.
2025-08-18T15:44:22.4710388Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:44:22.4832431Z healthy
2025-08-18T15:44:22.4849933Z postgres service is healthy.
2025-08-18T15:44:22.4850692Z ##[command]/usr/bin/docker inspect --format="{{if .Config.Healthcheck}}{{print .State.Health.Status}}{{end}}" 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:44:22.4992523Z redis service is healthy.
2025-08-18T15:44:22.4993211Z ##[endgroup]
2025-08-18T15:44:22.5244670Z ##[group]Run actions/checkout@v4
2025-08-18T15:44:22.5245257Z with:
2025-08-18T15:44:22.5245448Z   fetch-depth: 0
2025-08-18T15:44:22.5245655Z   repository: AlexBomber12/AWA-App
2025-08-18T15:44:22.5246074Z   token: ***
2025-08-18T15:44:22.5246266Z   ssh-strict: true
2025-08-18T15:44:22.5246447Z   ssh-user: git
2025-08-18T15:44:22.5246650Z   persist-credentials: true
2025-08-18T15:44:22.5246855Z   clean: true
2025-08-18T15:44:22.5247047Z   sparse-checkout-cone-mode: true
2025-08-18T15:44:22.5247269Z   fetch-tags: false
2025-08-18T15:44:22.5247456Z   show-progress: true
2025-08-18T15:44:22.5247659Z   lfs: false
2025-08-18T15:44:22.5247819Z   submodules: false
2025-08-18T15:44:22.5248001Z   set-safe-directory: true
2025-08-18T15:44:22.5248392Z env:
2025-08-18T15:44:22.5248623Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:44:22.5248878Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:44:22.5249096Z   TRUST_X_FORWARDED: 1
2025-08-18T15:44:22.5249277Z ##[endgroup]
2025-08-18T15:44:22.6334964Z Syncing repository: AlexBomber12/AWA-App
2025-08-18T15:44:22.6336332Z ##[group]Getting Git version info
2025-08-18T15:44:22.6336695Z Working directory is '/home/runner/work/AWA-App/AWA-App'
2025-08-18T15:44:22.6337206Z [command]/usr/bin/git version
2025-08-18T15:44:22.6376972Z git version 2.50.1
2025-08-18T15:44:22.6403082Z ##[endgroup]
2025-08-18T15:44:22.6417003Z Temporarily overriding HOME='/home/runner/work/_temp/b1ca44e0-bcac-421a-8e20-f5e9287c4b88' before making global git config changes
2025-08-18T15:44:22.6418153Z Adding repository directory to the temporary git global config as a safe directory
2025-08-18T15:44:22.6422532Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-18T15:44:22.6457919Z Deleting the contents of '/home/runner/work/AWA-App/AWA-App'
2025-08-18T15:44:22.6461540Z ##[group]Initializing the repository
2025-08-18T15:44:22.6465878Z [command]/usr/bin/git init /home/runner/work/AWA-App/AWA-App
2025-08-18T15:44:22.6522868Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-08-18T15:44:22.6523745Z hint: is subject to change. To configure the initial branch name to use in all
2025-08-18T15:44:22.6524543Z hint: of your new repositories, which will suppress this warning, call:
2025-08-18T15:44:22.6525105Z hint:
2025-08-18T15:44:22.6525500Z hint: 	git config --global init.defaultBranch <name>
2025-08-18T15:44:22.6525989Z hint:
2025-08-18T15:44:22.6526470Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-08-18T15:44:22.6527174Z hint: 'development'. The just-created branch can be renamed via this command:
2025-08-18T15:44:22.6527576Z hint:
2025-08-18T15:44:22.6527763Z hint: 	git branch -m <name>
2025-08-18T15:44:22.6527994Z hint:
2025-08-18T15:44:22.6528294Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-08-18T15:44:22.6528808Z Initialized empty Git repository in /home/runner/work/AWA-App/AWA-App/.git/
2025-08-18T15:44:22.6536707Z [command]/usr/bin/git remote add origin https://github.com/AlexBomber12/AWA-App
2025-08-18T15:44:22.6568422Z ##[endgroup]
2025-08-18T15:44:22.6568998Z ##[group]Disabling automatic garbage collection
2025-08-18T15:44:22.6572923Z [command]/usr/bin/git config --local gc.auto 0
2025-08-18T15:44:22.6601082Z ##[endgroup]
2025-08-18T15:44:22.6601580Z ##[group]Setting up auth
2025-08-18T15:44:22.6608589Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-18T15:44:22.6639033Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-18T15:44:22.6904900Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-18T15:44:22.6936472Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-18T15:44:22.7169674Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-08-18T15:44:22.7207234Z ##[endgroup]
2025-08-18T15:44:22.7207820Z ##[group]Fetching the repository
2025-08-18T15:44:22.7217113Z [command]/usr/bin/git -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/* +6c87ed65976af8a1990f57e1a3b06c5149ef9694:refs/remotes/pull/248/merge
2025-08-18T15:44:23.9115199Z From https://github.com/AlexBomber12/AWA-App
2025-08-18T15:44:23.9116060Z  * [new branch]      codex/add-cors-support-to-api            -> origin/codex/add-cors-support-to-api
2025-08-18T15:44:23.9117288Z  * [new branch]      codex/analyze-ci-logs-and-implement-targeted-fixes -> origin/codex/analyze-ci-logs-and-implement-targeted-fixes
2025-08-18T15:44:23.9118634Z  * [new branch]      codex/fix-ci-workflows-based-on-log-analysis -> origin/codex/fix-ci-workflows-based-on-log-analysis
2025-08-18T15:44:23.9119784Z  * [new branch]      codex/fix-ci-workflows-by-analyzing-logs -> origin/codex/fix-ci-workflows-by-analyzing-logs
2025-08-18T15:44:23.9121914Z  * [new branch]      codex/fix-ci-workflows-by-analyzing-logs-uv2onj -> origin/codex/fix-ci-workflows-by-analyzing-logs-uv2onj
2025-08-18T15:44:23.9124476Z  * [new branch]      codex/fix-ci-workflows-until-green       -> origin/codex/fix-ci-workflows-until-green
2025-08-18T15:44:23.9126430Z  * [new branch]      codex/implement-redis-backed-rate-limiting -> origin/codex/implement-redis-backed-rate-limiting
2025-08-18T15:44:23.9128761Z  * [new branch]      codex/implement-structured-json-logging-and-error-handling -> origin/codex/implement-structured-json-logging-and-error-handling
2025-08-18T15:44:23.9130818Z  * [new branch]      codex/implement-targeted-ci-workflow-fixes -> origin/codex/implement-targeted-ci-workflow-fixes
2025-08-18T15:44:23.9133314Z  * [new branch]      codex/update-log-persistence-to-default-branch -> origin/codex/update-log-persistence-to-default-branch
2025-08-18T15:44:23.9134757Z  * [new branch]      gh-pages                                 -> origin/gh-pages
2025-08-18T15:44:23.9136746Z  * [new branch]      main                                     -> origin/main
2025-08-18T15:44:23.9138343Z  * [new tag]         0.3.0                                    -> 0.3.0
2025-08-18T15:44:23.9141618Z  * [new ref]         6c87ed65976af8a1990f57e1a3b06c5149ef9694 -> pull/248/merge
2025-08-18T15:44:23.9173699Z ##[endgroup]
2025-08-18T15:44:23.9174243Z ##[group]Determining the checkout info
2025-08-18T15:44:23.9175043Z ##[endgroup]
2025-08-18T15:44:23.9180165Z [command]/usr/bin/git sparse-checkout disable
2025-08-18T15:44:23.9217493Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-08-18T15:44:23.9242896Z ##[group]Checking out the ref
2025-08-18T15:44:23.9247927Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/248/merge
2025-08-18T15:44:23.9600052Z Note: switching to 'refs/remotes/pull/248/merge'.
2025-08-18T15:44:23.9600518Z 
2025-08-18T15:44:23.9600857Z You are in 'detached HEAD' state. You can look around, make experimental
2025-08-18T15:44:23.9601624Z changes and commit them, and you can discard any commits you make in this
2025-08-18T15:44:23.9602637Z state without impacting any branches by switching back to a branch.
2025-08-18T15:44:23.9603164Z 
2025-08-18T15:44:23.9603449Z If you want to create a new branch to retain commits you create, you may
2025-08-18T15:44:23.9604295Z do so (now or later) by using -c with the switch command. Example:
2025-08-18T15:44:23.9604751Z 
2025-08-18T15:44:23.9604952Z   git switch -c <new-branch-name>
2025-08-18T15:44:23.9605294Z 
2025-08-18T15:44:23.9605548Z Or undo this operation with:
2025-08-18T15:44:23.9605855Z 
2025-08-18T15:44:23.9606002Z   git switch -
2025-08-18T15:44:23.9606222Z 
2025-08-18T15:44:23.9606629Z Turn off this advice by setting config variable advice.detachedHead to false
2025-08-18T15:44:23.9607290Z 
2025-08-18T15:44:23.9608335Z HEAD is now at 6c87ed6 Merge 64f08a65eff19cc736e9e564b4fca2d604edb42a into 1bfadffaecc17ae635d53212ecf496f7e37b5c70
2025-08-18T15:44:23.9612593Z ##[endgroup]
2025-08-18T15:44:23.9649664Z [command]/usr/bin/git log -1 --format=%H
2025-08-18T15:44:23.9671003Z 6c87ed65976af8a1990f57e1a3b06c5149ef9694
2025-08-18T15:44:23.9837698Z ##[group]Run cat .env.ci >> "$GITHUB_ENV"
2025-08-18T15:44:23.9838030Z [36;1mcat .env.ci >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9838754Z [36;1mecho "DATABASE_URL=***localhost:5432/awa" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9839104Z [36;1mecho "PG_HOST=localhost" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9839415Z [36;1mecho "PG_PORT=5432" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9839700Z [36;1mecho "PG_USER=postgres" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9839989Z [36;1mecho "PG_PASSWORD=pass" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9840275Z [36;1mecho "PG_DATABASE=awa" >> "$GITHUB_ENV"[0m
2025-08-18T15:44:23.9886216Z shell: /usr/bin/bash -e {0}
2025-08-18T15:44:23.9886446Z env:
2025-08-18T15:44:23.9886647Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:44:23.9886910Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:44:23.9887134Z   TRUST_X_FORWARDED: 1
2025-08-18T15:44:23.9887320Z ##[endgroup]
2025-08-18T15:44:24.0056473Z ##[group]Run actions/setup-python@v5
2025-08-18T15:44:24.0056741Z with:
2025-08-18T15:44:24.0056919Z   python-version: 3.12
2025-08-18T15:44:24.0057121Z   cache: pip
2025-08-18T15:44:24.0057890Z   cache-dependency-path: requirements-dev.txt
services/etl/requirements.txt
services/api/requirements.txt
services/repricer/requirements.txt
services/fees_h10/requirements.txt
services/alert_bot/requirements.txt

2025-08-18T15:44:24.0058913Z   check-latest: false
2025-08-18T15:44:24.0059231Z   token: ***
2025-08-18T15:44:24.0059424Z   update-environment: true
2025-08-18T15:44:24.0059647Z   allow-prereleases: false
2025-08-18T15:44:24.0059847Z   freethreaded: false
2025-08-18T15:44:24.0060032Z env:
2025-08-18T15:44:24.0060216Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:44:24.0060470Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:44:24.0060679Z   TRUST_X_FORWARDED: 1
2025-08-18T15:44:24.0060876Z   PG_USER: postgres
2025-08-18T15:44:24.0061059Z   PG_PASSWORD: pass
2025-08-18T15:44:24.0061273Z   PG_DATABASE: awa
2025-08-18T15:44:24.0061453Z   PG_HOST: localhost
2025-08-18T15:44:24.0061648Z   PG_PORT: 5432
2025-08-18T15:44:24.0062246Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:24.0062680Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:24.0063067Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:44:24.0063314Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:44:24.0063513Z   ENABLE_LIVE: 0
2025-08-18T15:44:24.0063691Z   TESTING: 1
2025-08-18T15:44:24.0063851Z ##[endgroup]
2025-08-18T15:44:24.1736202Z ##[group]Installed versions
2025-08-18T15:44:24.2208960Z Successfully set up CPython (3.12.11)
2025-08-18T15:44:24.2209736Z ##[endgroup]
2025-08-18T15:44:24.2612634Z [command]/opt/hostedtoolcache/Python/3.12.11/x64/bin/pip cache dir
2025-08-18T15:44:25.4658465Z /home/runner/.cache/pip
2025-08-18T15:44:25.5766870Z Cache hit for: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.11-pip-c2dab1de5897f9bdacc57d37f049e4f17933a694937b619ffbecdbf3c5ea87ef
2025-08-18T15:44:26.6369772Z Received 230686720 of 318195701 (72.5%), 219.1 MBs/sec
2025-08-18T15:44:27.0844304Z Received 318195701 of 318195701 (100.0%), 209.0 MBs/sec
2025-08-18T15:44:27.0846555Z Cache Size: ~303 MB (318195701 B)
2025-08-18T15:44:27.0886604Z [command]/usr/bin/tar -xf /home/runner/work/_temp/ad78fcf5-05c8-4180-96d3-d3e24135a71c/cache.tzst -P -C /home/runner/work/AWA-App/AWA-App --use-compress-program unzstd
2025-08-18T15:44:27.6040677Z Cache restored successfully
2025-08-18T15:44:27.6636905Z Cache restored from key: setup-python-Linux-x64-24.04-Ubuntu-python-3.12.11-pip-d330addc54e896615ed78c47d06768542332bc830ea51b9be109dd3a6eeca014
2025-08-18T15:44:27.7387862Z ##[group]Run actions/cache@v4
2025-08-18T15:44:27.7388126Z with:
2025-08-18T15:44:27.7388354Z   path: ~/.cache/pip
.pytest_cache
~/.ruff_cache

2025-08-18T15:44:27.7388777Z   key: Linux-test-5e718741e550cec7917fae13efe91a31293d04a98c3c0932315e8f58598cbd2c
2025-08-18T15:44:27.7389181Z   restore-keys: Linux-test-
2025-08-18T15:44:27.7389422Z   enableCrossOsArchive: false
2025-08-18T15:44:27.7389648Z   fail-on-cache-miss: false
2025-08-18T15:44:27.7389867Z   lookup-only: false
2025-08-18T15:44:27.7390066Z   save-always: false
2025-08-18T15:44:27.7390243Z env:
2025-08-18T15:44:27.7390448Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:44:27.7390719Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:44:27.7390963Z   TRUST_X_FORWARDED: 1
2025-08-18T15:44:27.7391169Z   PG_USER: postgres
2025-08-18T15:44:27.7391365Z   PG_PASSWORD: pass
2025-08-18T15:44:27.7391553Z   PG_DATABASE: awa
2025-08-18T15:44:27.7391734Z   PG_HOST: localhost
2025-08-18T15:44:27.7392161Z   PG_PORT: 5432
2025-08-18T15:44:27.7392983Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:27.7393466Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:27.7393882Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:44:27.7394130Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:44:27.7394337Z   ENABLE_LIVE: 0
2025-08-18T15:44:27.7394518Z   TESTING: 1
2025-08-18T15:44:27.7394761Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:27.7395163Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:44:27.7395564Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:27.7395926Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:27.7396276Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:27.7396896Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:44:27.7397184Z ##[endgroup]
2025-08-18T15:44:27.9719573Z Cache hit for restore-key: Linux-test-87c671a71f6cec0caac58cf8e7de3a48dffcfae03ca98977ed979978061baaea
2025-08-18T15:44:29.0193232Z Received 239075328 of 318205788 (75.1%), 226.0 MBs/sec
2025-08-18T15:44:29.4267693Z Received 318205788 of 318205788 (100.0%), 214.3 MBs/sec
2025-08-18T15:44:29.4270887Z Cache Size: ~303 MB (318205788 B)
2025-08-18T15:44:29.4332906Z [command]/usr/bin/tar -xf /home/runner/work/_temp/badeb859-1c81-49b3-a47a-e481fb4482bb/cache.tzst -P -C /home/runner/work/AWA-App/AWA-App --use-compress-program unzstd
2025-08-18T15:44:29.9789777Z Cache restored successfully
2025-08-18T15:44:30.0468339Z Cache restored from key: Linux-test-87c671a71f6cec0caac58cf8e7de3a48dffcfae03ca98977ed979978061baaea
2025-08-18T15:44:30.0594876Z ##[group]Run pip install -r services/etl/requirements.txt
2025-08-18T15:44:30.0595344Z [36;1mpip install -r services/etl/requirements.txt[0m
2025-08-18T15:44:30.0595688Z [36;1mpip install -r services/api/requirements.txt[0m
2025-08-18T15:44:30.0596042Z [36;1mpip install -r services/repricer/requirements.txt[0m
2025-08-18T15:44:30.0596388Z [36;1mpip install -r services/fees_h10/requirements.txt[0m
2025-08-18T15:44:30.0596735Z [36;1mpip install -r services/alert_bot/requirements.txt[0m
2025-08-18T15:44:30.0597059Z [36;1mpip install -r requirements-dev.txt[0m
2025-08-18T15:44:30.0597342Z [36;1mpip install asyncpg[0m
2025-08-18T15:44:30.0597569Z [36;1mpip install pytest[0m
2025-08-18T15:44:30.0597815Z [36;1mpip install keepa==1.3.15 minio==7.1.15[0m
2025-08-18T15:44:30.0641104Z shell: /usr/bin/bash -e {0}
2025-08-18T15:44:30.0641347Z env:
2025-08-18T15:44:30.0641557Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:44:30.0641828Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:44:30.0642322Z   TRUST_X_FORWARDED: 1
2025-08-18T15:44:30.0642623Z   PG_USER: postgres
2025-08-18T15:44:30.0642831Z   PG_PASSWORD: pass
2025-08-18T15:44:30.0643020Z   PG_DATABASE: awa
2025-08-18T15:44:30.0643210Z   PG_HOST: localhost
2025-08-18T15:44:30.0643403Z   PG_PORT: 5432
2025-08-18T15:44:30.0643855Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:30.0644273Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:44:30.0644675Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:44:30.0644926Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:44:30.0645140Z   ENABLE_LIVE: 0
2025-08-18T15:44:30.0645324Z   TESTING: 1
2025-08-18T15:44:30.0645570Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:30.0645973Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:44:30.0646366Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:30.0646721Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:30.0647082Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:44:30.0647445Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:44:30.0647750Z ##[endgroup]
2025-08-18T15:44:31.3981131Z Collecting keepa==1.3.14 (from -r services/etl/requirements.txt (line 1))
2025-08-18T15:44:31.3996269Z   Using cached keepa-1.3.14-py3-none-any.whl.metadata (10 kB)
2025-08-18T15:44:31.4270767Z Collecting minio==7.1.15 (from -r services/etl/requirements.txt (line 2))
2025-08-18T15:44:31.4284079Z   Using cached minio-7.1.15-py3-none-any.whl.metadata (4.2 kB)
2025-08-18T15:44:31.4631825Z Collecting celery==5.3.* (from -r services/etl/requirements.txt (line 3))
2025-08-18T15:44:31.4645082Z   Using cached celery-5.3.6-py3-none-any.whl.metadata (21 kB)
2025-08-18T15:44:31.5131000Z Collecting redis==5.* (from -r services/etl/requirements.txt (line 4))
2025-08-18T15:44:31.5143988Z   Using cached redis-5.3.1-py3-none-any.whl.metadata (9.2 kB)
2025-08-18T15:44:31.5684697Z Collecting python-amazon-sp-api==0.8.0 (from -r services/etl/requirements.txt (line 5))
2025-08-18T15:44:31.5698677Z   Using cached python_amazon_sp_api-0.8.0-py3-none-any.whl.metadata (3.2 kB)
2025-08-18T15:44:31.5945923Z Collecting pydantic-settings==2.2.1 (from -r services/etl/requirements.txt (line 6))
2025-08-18T15:44:31.5957868Z   Using cached pydantic_settings-2.2.1-py3-none-any.whl.metadata (3.1 kB)
2025-08-18T15:44:31.7604478Z Collecting numpy<2 (from -r services/etl/requirements.txt (line 7))
2025-08-18T15:44:31.7618915Z   Using cached numpy-1.26.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (61 kB)
2025-08-18T15:44:31.8753990Z Collecting pandas==2.2.* (from -r services/etl/requirements.txt (line 8))
2025-08-18T15:44:31.8767625Z   Using cached pandas-2.2.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (89 kB)
2025-08-18T15:44:31.9375637Z Collecting pandera==0.19.* (from -r services/etl/requirements.txt (line 9))
2025-08-18T15:44:31.9392683Z   Using cached pandera-0.19.3-py3-none-any.whl.metadata (15 kB)
2025-08-18T15:44:31.9664713Z Collecting openpyxl==3.1.* (from -r services/etl/requirements.txt (line 10))
2025-08-18T15:44:31.9676828Z   Using cached openpyxl-3.1.5-py2.py3-none-any.whl.metadata (2.5 kB)
2025-08-18T15:44:32.0258634Z Collecting psycopg2-binary==2.9.* (from -r services/etl/requirements.txt (line 11))
2025-08-18T15:44:32.0272686Z   Using cached psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-18T15:44:32.0649678Z Collecting requests>=2.2 (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:32.0662671Z   Using cached requests-2.32.4-py3-none-any.whl.metadata (4.9 kB)
2025-08-18T15:44:32.1009631Z Collecting tqdm (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:32.1023544Z   Using cached tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
2025-08-18T15:44:32.5985729Z Collecting aiohttp (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:32.5999381Z   Using cached aiohttp-3.12.15-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
2025-08-18T15:44:32.7298336Z Collecting pydantic (from keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:32.7314776Z   Using cached pydantic-2.11.7-py3-none-any.whl.metadata (67 kB)
2025-08-18T15:44:32.7550301Z Collecting certifi (from minio==7.1.15->-r services/etl/requirements.txt (line 2))
2025-08-18T15:44:32.7562888Z   Using cached certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
2025-08-18T15:44:32.7798516Z Collecting urllib3 (from minio==7.1.15->-r services/etl/requirements.txt (line 2))
2025-08-18T15:44:32.7811509Z   Using cached urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
2025-08-18T15:44:32.7949259Z Collecting six<2,>=1.15 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:32.7960900Z   Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
2025-08-18T15:44:33.2205619Z Collecting boto3<2,>=1.16.39 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:33.2219580Z   Using cached boto3-1.40.11-py3-none-any.whl.metadata (6.7 kB)
2025-08-18T15:44:33.2399296Z Collecting cachetools~=4.2.0 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:33.2410927Z   Using cached cachetools-4.2.4-py3-none-any.whl.metadata (4.8 kB)
2025-08-18T15:44:33.3193914Z Collecting pycryptodome (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:33.3207244Z   Using cached pycryptodome-3.23.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.4 kB)
2025-08-18T15:44:33.3564540Z Collecting pytz (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:33.3576706Z   Using cached pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
2025-08-18T15:44:33.3689057Z Collecting confuse~=1.4.0 (from python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:33.3700268Z   Using cached confuse-1.4.0-py2.py3-none-any.whl.metadata (3.8 kB)
2025-08-18T15:44:33.3960738Z Collecting python-dotenv>=0.21.0 (from pydantic-settings==2.2.1->-r services/etl/requirements.txt (line 6))
2025-08-18T15:44:33.3971702Z   Using cached python_dotenv-1.1.1-py3-none-any.whl.metadata (24 kB)
2025-08-18T15:44:33.4162400Z Collecting billiard<5.0,>=4.2.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.4173414Z   Using cached billiard-4.2.1-py3-none-any.whl.metadata (4.4 kB)
2025-08-18T15:44:33.4260907Z Collecting click-didyoumean>=0.3.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.4272080Z   Using cached click_didyoumean-0.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-08-18T15:44:33.4355174Z Collecting click-plugins>=1.1.1 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.4366269Z   Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl.metadata (6.5 kB)
2025-08-18T15:44:33.4460866Z Collecting click-repl>=0.2.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.4472142Z   Using cached click_repl-0.3.0-py3-none-any.whl.metadata (3.6 kB)
2025-08-18T15:44:33.4709979Z Collecting click<9.0,>=8.1.2 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.4721894Z   Using cached click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
2025-08-18T15:44:33.5029387Z Collecting kombu<6.0,>=5.3.4 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.5041306Z   Using cached kombu-5.5.4-py3-none-any.whl.metadata (3.5 kB)
2025-08-18T15:44:33.5220469Z Collecting python-dateutil>=2.8.2 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.5232752Z   Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
2025-08-18T15:44:33.5370455Z Collecting tzdata>=2022.7 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.5382647Z   Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
2025-08-18T15:44:33.5482163Z Collecting vine<6.0,>=5.1.0 (from celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:33.5493882Z   Using cached vine-5.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-18T15:44:33.5719002Z Collecting PyJWT>=2.9.0 (from redis==5.*->-r services/etl/requirements.txt (line 4))
2025-08-18T15:44:33.5730805Z   Using cached PyJWT-2.10.1-py3-none-any.whl.metadata (4.0 kB)
2025-08-18T15:44:33.6049033Z Collecting multimethod<=1.10.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:33.6061575Z   Using cached multimethod-1.10-py3-none-any.whl.metadata (8.2 kB)
2025-08-18T15:44:33.6295031Z Collecting packaging>=20.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:33.6306699Z   Using cached packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2025-08-18T15:44:33.6585763Z Collecting typeguard (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:33.6597449Z   Using cached typeguard-4.4.4-py3-none-any.whl.metadata (3.3 kB)
2025-08-18T15:44:33.6995499Z Collecting typing-inspect>=0.6.0 (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:33.7006985Z   Using cached typing_inspect-0.9.0-py3-none-any.whl.metadata (1.5 kB)
2025-08-18T15:44:33.7939444Z Collecting wrapt (from pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:33.7954432Z   Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
2025-08-18T15:44:33.8060927Z Collecting et-xmlfile (from openpyxl==3.1.*->-r services/etl/requirements.txt (line 10))
2025-08-18T15:44:33.8073181Z   Using cached et_xmlfile-2.0.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-18T15:44:34.1861086Z Collecting botocore<1.41.0,>=1.40.11 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:34.1875585Z   Using cached botocore-1.40.11-py3-none-any.whl.metadata (5.7 kB)
2025-08-18T15:44:34.2004553Z Collecting jmespath<2.0.0,>=0.7.1 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:34.2017071Z   Using cached jmespath-1.0.1-py3-none-any.whl.metadata (7.6 kB)
2025-08-18T15:44:34.2298506Z Collecting s3transfer<0.14.0,>=0.13.0 (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:34.2310895Z   Using cached s3transfer-0.13.1-py3-none-any.whl.metadata (1.7 kB)
2025-08-18T15:44:34.2813018Z Collecting pyyaml (from confuse~=1.4.0->python-amazon-sp-api==0.8.0->-r services/etl/requirements.txt (line 5))
2025-08-18T15:44:34.2827003Z   Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
2025-08-18T15:44:34.3018178Z Collecting amqp<6.0.0,>=5.1.1 (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:34.3030759Z   Using cached amqp-5.3.1-py3-none-any.whl.metadata (8.9 kB)
2025-08-18T15:44:34.5242337Z Collecting prompt-toolkit>=3.0.36 (from click-repl>=0.2.0->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:34.5255001Z   Using cached prompt_toolkit-3.0.51-py3-none-any.whl.metadata (6.4 kB)
2025-08-18T15:44:34.5392758Z Collecting wcwidth (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.3.*->-r services/etl/requirements.txt (line 3))
2025-08-18T15:44:34.5404459Z   Using cached wcwidth-0.2.13-py2.py3-none-any.whl.metadata (14 kB)
2025-08-18T15:44:34.5516467Z Collecting annotated-types>=0.6.0 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:34.5528199Z   Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
2025-08-18T15:44:35.2212645Z Collecting pydantic-core==2.33.2 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.2227237Z   Using cached pydantic_core-2.33.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-08-18T15:44:35.2420415Z Collecting typing-extensions>=4.12.2 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.2433404Z   Using cached typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
2025-08-18T15:44:35.2518676Z Collecting typing-inspection>=0.4.0 (from pydantic->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.2531687Z   Using cached typing_inspection-0.4.1-py3-none-any.whl.metadata (2.6 kB)
2025-08-18T15:44:35.3385468Z Collecting charset_normalizer<4,>=2 (from requests>=2.2->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.3398835Z   Using cached charset_normalizer-3.4.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
2025-08-18T15:44:35.3546364Z Collecting idna<4,>=2.5 (from requests>=2.2->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.3558132Z   Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
2025-08-18T15:44:35.3907720Z Collecting mypy-extensions>=0.3.0 (from typing-inspect>=0.6.0->pandera==0.19.*->-r services/etl/requirements.txt (line 9))
2025-08-18T15:44:35.3919762Z   Using cached mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)
2025-08-18T15:44:35.4196730Z Collecting aiohappyeyeballs>=2.5.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.4208871Z   Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
2025-08-18T15:44:35.4295663Z Collecting aiosignal>=1.4.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.4307388Z   Using cached aiosignal-1.4.0-py3-none-any.whl.metadata (3.7 kB)
2025-08-18T15:44:35.4445782Z Collecting attrs>=17.3.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.4457606Z   Using cached attrs-25.3.0-py3-none-any.whl.metadata (10 kB)
2025-08-18T15:44:35.5116511Z Collecting frozenlist>=1.1.1 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.5130721Z   Using cached frozenlist-1.7.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (18 kB)
2025-08-18T15:44:35.7329236Z Collecting multidict<7.0,>=4.5 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.7343923Z   Using cached multidict-6.6.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (5.3 kB)
2025-08-18T15:44:35.7819243Z Collecting propcache>=0.2.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:35.7833696Z   Using cached propcache-0.3.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)
2025-08-18T15:44:36.1111713Z Collecting yarl<2.0,>=1.17.0 (from aiohttp->keepa==1.3.14->-r services/etl/requirements.txt (line 1))
2025-08-18T15:44:36.1127588Z   Using cached yarl-1.20.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (73 kB)
2025-08-18T15:44:36.1729068Z Using cached keepa-1.3.14-py3-none-any.whl (33 kB)
2025-08-18T15:44:36.1741198Z Using cached minio-7.1.15-py3-none-any.whl (77 kB)
2025-08-18T15:44:36.1754215Z Using cached python_amazon_sp_api-0.8.0-py3-none-any.whl (93 kB)
2025-08-18T15:44:36.1766146Z Using cached pydantic_settings-2.2.1-py3-none-any.whl (13 kB)
2025-08-18T15:44:36.1777632Z Using cached celery-5.3.6-py3-none-any.whl (422 kB)
2025-08-18T15:44:36.1792115Z Using cached redis-5.3.1-py3-none-any.whl (272 kB)
2025-08-18T15:44:36.1805772Z Using cached numpy-1.26.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (18.0 MB)
2025-08-18T15:44:36.1954859Z Using cached pandas-2.2.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.7 MB)
2025-08-18T15:44:36.2058664Z Using cached pandera-0.19.3-py3-none-any.whl (251 kB)
2025-08-18T15:44:36.2072331Z Using cached openpyxl-3.1.5-py2.py3-none-any.whl (250 kB)
2025-08-18T15:44:36.2086212Z Using cached psycopg2_binary-2.9.10-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
2025-08-18T15:44:36.2119317Z Using cached billiard-4.2.1-py3-none-any.whl (86 kB)
2025-08-18T15:44:36.2131161Z Using cached boto3-1.40.11-py3-none-any.whl (140 kB)
2025-08-18T15:44:36.2143678Z Using cached botocore-1.40.11-py3-none-any.whl (14.0 MB)
2025-08-18T15:44:36.2256788Z Using cached cachetools-4.2.4-py3-none-any.whl (10 kB)
2025-08-18T15:44:36.2268399Z Using cached click-8.2.1-py3-none-any.whl (102 kB)
2025-08-18T15:44:36.2280575Z Using cached confuse-1.4.0-py2.py3-none-any.whl (21 kB)
2025-08-18T15:44:36.2292171Z Using cached jmespath-1.0.1-py3-none-any.whl (20 kB)
2025-08-18T15:44:36.2303573Z Using cached kombu-5.5.4-py3-none-any.whl (210 kB)
2025-08-18T15:44:36.2316305Z Using cached vine-5.1.0-py3-none-any.whl (9.6 kB)
2025-08-18T15:44:36.2327533Z Using cached amqp-5.3.1-py3-none-any.whl (50 kB)
2025-08-18T15:44:36.2338986Z Using cached multimethod-1.10-py3-none-any.whl (9.9 kB)
2025-08-18T15:44:36.2350418Z Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
2025-08-18T15:44:36.2363262Z Using cached s3transfer-0.13.1-py3-none-any.whl (85 kB)
2025-08-18T15:44:36.2375125Z Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
2025-08-18T15:44:36.2386327Z Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
2025-08-18T15:44:36.2398457Z Using cached click_didyoumean-0.3.1-py3-none-any.whl (3.6 kB)
2025-08-18T15:44:36.2409559Z Using cached click_plugins-1.1.1.2-py2.py3-none-any.whl (11 kB)
2025-08-18T15:44:36.2420589Z Using cached click_repl-0.3.0-py3-none-any.whl (10 kB)
2025-08-18T15:44:36.2431798Z Using cached packaging-25.0-py3-none-any.whl (66 kB)
2025-08-18T15:44:36.2443762Z Using cached prompt_toolkit-3.0.51-py3-none-any.whl (387 kB)
2025-08-18T15:44:36.2457881Z Using cached pydantic-2.11.7-py3-none-any.whl (444 kB)
2025-08-18T15:44:36.2472845Z Using cached pydantic_core-2.33.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
2025-08-18T15:44:36.2498883Z Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
2025-08-18T15:44:36.2510201Z Using cached PyJWT-2.10.1-py3-none-any.whl (22 kB)
2025-08-18T15:44:36.2521645Z Using cached python_dotenv-1.1.1-py3-none-any.whl (20 kB)
2025-08-18T15:44:36.2533405Z Using cached pytz-2025.2-py2.py3-none-any.whl (509 kB)
2025-08-18T15:44:36.2549876Z Using cached requests-2.32.4-py3-none-any.whl (64 kB)
2025-08-18T15:44:36.2562454Z Using cached charset_normalizer-3.4.3-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (151 kB)
2025-08-18T15:44:36.2574604Z Using cached idna-3.10-py3-none-any.whl (70 kB)
2025-08-18T15:44:36.2586477Z Using cached certifi-2025.8.3-py3-none-any.whl (161 kB)
2025-08-18T15:44:36.2598853Z Using cached typing_extensions-4.14.1-py3-none-any.whl (43 kB)
2025-08-18T15:44:36.2610164Z Using cached typing_inspect-0.9.0-py3-none-any.whl (8.8 kB)
2025-08-18T15:44:36.2621663Z Using cached mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)
2025-08-18T15:44:36.2633599Z Using cached typing_inspection-0.4.1-py3-none-any.whl (14 kB)
2025-08-18T15:44:36.2644796Z Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
2025-08-18T15:44:36.2658919Z Using cached aiohttp-3.12.15-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
2025-08-18T15:44:36.2683272Z Using cached multidict-6.6.4-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (256 kB)
2025-08-18T15:44:36.2696471Z Using cached yarl-1.20.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (355 kB)
2025-08-18T15:44:36.2710160Z Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
2025-08-18T15:44:36.2721493Z Using cached aiosignal-1.4.0-py3-none-any.whl (7.5 kB)
2025-08-18T15:44:36.2732821Z Using cached attrs-25.3.0-py3-none-any.whl (63 kB)
2025-08-18T15:44:36.2745324Z Using cached frozenlist-1.7.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (241 kB)
2025-08-18T15:44:36.2758407Z Using cached propcache-0.3.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (224 kB)
2025-08-18T15:44:36.2771048Z Using cached et_xmlfile-2.0.0-py3-none-any.whl (18 kB)
2025-08-18T15:44:36.2783290Z Using cached pycryptodome-3.23.0-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.3 MB)
2025-08-18T15:44:36.2811314Z Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
2025-08-18T15:44:36.2828888Z Using cached tqdm-4.67.1-py3-none-any.whl (78 kB)
2025-08-18T15:44:36.2840738Z Using cached typeguard-4.4.4-py3-none-any.whl (34 kB)
2025-08-18T15:44:36.2852493Z Using cached wcwidth-0.2.13-py2.py3-none-any.whl (34 kB)
2025-08-18T15:44:36.2864311Z Using cached wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (88 kB)
2025-08-18T15:44:36.5555079Z Installing collected packages: wcwidth, pytz, wrapt, vine, urllib3, tzdata, typing-extensions, tqdm, six, pyyaml, python-dotenv, PyJWT, pycryptodome, psycopg2-binary, propcache, prompt-toolkit, packaging, numpy, mypy-extensions, multimethod, multidict, jmespath, idna, frozenlist, et-xmlfile, click, charset_normalizer, certifi, cachetools, billiard, attrs, annotated-types, aiohappyeyeballs, yarl, typing-inspection, typing-inspect, typeguard, requests, redis, python-dateutil, pydantic-core, openpyxl, minio, confuse, click-repl, click-plugins, click-didyoumean, amqp, aiosignal, pydantic, pandas, kombu, botocore, aiohttp, s3transfer, pydantic-settings, pandera, keepa, celery, boto3, python-amazon-sp-api
2025-08-18T15:44:47.4858975Z 
2025-08-18T15:44:47.4921452Z Successfully installed PyJWT-2.10.1 aiohappyeyeballs-2.6.1 aiohttp-3.12.15 aiosignal-1.4.0 amqp-5.3.1 annotated-types-0.7.0 attrs-25.3.0 billiard-4.2.1 boto3-1.40.11 botocore-1.40.11 cachetools-4.2.4 celery-5.3.6 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 click-didyoumean-0.3.1 click-plugins-1.1.1.2 click-repl-0.3.0 confuse-1.4.0 et-xmlfile-2.0.0 frozenlist-1.7.0 idna-3.10 jmespath-1.0.1 keepa-1.3.14 kombu-5.5.4 minio-7.1.15 multidict-6.6.4 multimethod-1.10 mypy-extensions-1.1.0 numpy-1.26.4 openpyxl-3.1.5 packaging-25.0 pandas-2.2.3 pandera-0.19.3 prompt-toolkit-3.0.51 propcache-0.3.2 psycopg2-binary-2.9.10 pycryptodome-3.23.0 pydantic-2.11.7 pydantic-core-2.33.2 pydantic-settings-2.2.1 python-amazon-sp-api-0.8.0 python-dateutil-2.9.0.post0 python-dotenv-1.1.1 pytz-2025.2 pyyaml-6.0.2 redis-5.3.1 requests-2.32.4 s3transfer-0.13.1 six-1.17.0 tqdm-4.67.1 typeguard-4.4.4 typing-extensions-4.14.1 typing-inspect-0.9.0 typing-inspection-0.4.1 tzdata-2025.2 urllib3-2.5.0 vine-5.1.0 wcwidth-0.2.13 wrapt-1.17.3 yarl-1.20.1
2025-08-18T15:44:48.9849693Z Collecting uvicorn==0.29.0 (from -r services/api/requirements.txt (line 1))
2025-08-18T15:44:48.9863016Z   Using cached uvicorn-0.29.0-py3-none-any.whl.metadata (6.3 kB)
2025-08-18T15:44:48.9899455Z Requirement already satisfied: pydantic-settings==2.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/api/requirements.txt (line 2)) (2.2.1)
2025-08-18T15:44:49.0283273Z Collecting fastapi==0.111.0 (from -r services/api/requirements.txt (line 3))
2025-08-18T15:44:49.0295099Z   Using cached fastapi-0.111.0-py3-none-any.whl.metadata (25 kB)
2025-08-18T15:44:49.3070058Z Collecting sqlalchemy==2.0.29 (from -r services/api/requirements.txt (line 4))
2025-08-18T15:44:49.3084273Z   Using cached SQLAlchemy-2.0.29-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.6 kB)
2025-08-18T15:44:49.3359146Z Collecting alembic==1.13.1 (from -r services/api/requirements.txt (line 5))
2025-08-18T15:44:49.3370390Z   Using cached alembic-1.13.1-py3-none-any.whl.metadata (7.4 kB)
2025-08-18T15:44:49.3517416Z Collecting psycopg==3.2.9 (from psycopg[binary]==3.2.9->-r services/api/requirements.txt (line 6))
2025-08-18T15:44:49.3528796Z   Using cached psycopg-3.2.9-py3-none-any.whl.metadata (4.5 kB)
2025-08-18T15:44:49.3736395Z Collecting httpx==0.27.2 (from -r services/api/requirements.txt (line 7))
2025-08-18T15:44:49.3747971Z   Using cached httpx-0.27.2-py3-none-any.whl.metadata (7.1 kB)
2025-08-18T15:44:49.4143741Z Collecting asyncpg==0.29.0 (from -r services/api/requirements.txt (line 8))
2025-08-18T15:44:49.4155501Z   Using cached asyncpg-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)
2025-08-18T15:44:49.6768398Z Collecting boto3==1.34.162 (from -r services/api/requirements.txt (line 9))
2025-08-18T15:44:49.6782617Z   Using cached boto3-1.34.162-py3-none-any.whl.metadata (6.6 kB)
2025-08-18T15:44:49.6954051Z Collecting Jinja2==3.1.5 (from -r services/api/requirements.txt (line 10))
2025-08-18T15:44:49.6965925Z   Using cached jinja2-3.1.5-py3-none-any.whl.metadata (2.6 kB)
2025-08-18T15:44:49.6984957Z Requirement already satisfied: celery==5.3.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/api/requirements.txt (line 11)) (5.3.6)
2025-08-18T15:44:49.7102917Z Collecting structlog==24.1.0 (from -r services/api/requirements.txt (line 12))
2025-08-18T15:44:49.7114667Z   Using cached structlog-24.1.0-py3-none-any.whl.metadata (6.9 kB)
2025-08-18T15:44:49.7250722Z Collecting asgi-correlation-id==4.3.1 (from -r services/api/requirements.txt (line 13))
2025-08-18T15:44:49.7262447Z   Using cached asgi_correlation_id-4.3.1-py3-none-any.whl.metadata (28 kB)
2025-08-18T15:44:49.7365635Z Collecting fastapi-limiter==0.1.6 (from -r services/api/requirements.txt (line 14))
2025-08-18T15:44:49.7885210Z   Downloading fastapi_limiter-0.1.6-py3-none-any.whl.metadata (5.3 kB)
2025-08-18T15:44:49.8361890Z Collecting redis==5.0.8 (from -r services/api/requirements.txt (line 15))
2025-08-18T15:44:49.8402622Z   Downloading redis-5.0.8-py3-none-any.whl.metadata (9.2 kB)
2025-08-18T15:44:49.8461598Z Requirement already satisfied: click>=7.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/api/requirements.txt (line 1)) (8.2.1)
2025-08-18T15:44:49.8540753Z Collecting h11>=0.8 (from uvicorn==0.29.0->-r services/api/requirements.txt (line 1))
2025-08-18T15:44:49.8553175Z   Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
2025-08-18T15:44:49.8581513Z Requirement already satisfied: pydantic>=2.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (2.11.7)
2025-08-18T15:44:49.8587932Z Requirement already satisfied: python-dotenv>=0.21.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (1.1.1)
2025-08-18T15:44:49.8824735Z Collecting starlette<0.38.0,>=0.37.2 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:49.8836433Z   Using cached starlette-0.37.2-py3-none-any.whl.metadata (5.9 kB)
2025-08-18T15:44:49.8866105Z Requirement already satisfied: typing-extensions>=4.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/api/requirements.txt (line 3)) (4.14.1)
2025-08-18T15:44:49.8948155Z Collecting fastapi-cli>=0.0.2 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:49.8959691Z   Using cached fastapi_cli-0.0.8-py3-none-any.whl.metadata (6.3 kB)
2025-08-18T15:44:49.9179692Z Collecting python-multipart>=0.0.7 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:49.9191474Z   Using cached python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
2025-08-18T15:44:49.9755581Z Collecting ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:49.9767587Z   Using cached ujson-5.10.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (9.3 kB)
2025-08-18T15:44:50.2090106Z Collecting orjson>=3.2.1 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:50.2103614Z   Using cached orjson-3.11.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (1.2 kB)
2025-08-18T15:44:50.2216994Z Collecting email_validator>=2.0.0 (from fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:50.2228551Z   Using cached email_validator-2.2.0-py3-none-any.whl.metadata (25 kB)
2025-08-18T15:44:50.3503588Z Collecting greenlet!=0.4.17 (from sqlalchemy==2.0.29->-r services/api/requirements.txt (line 4))
2025-08-18T15:44:50.3517201Z   Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl.metadata (4.1 kB)
2025-08-18T15:44:50.3770409Z Collecting Mako (from alembic==1.13.1->-r services/api/requirements.txt (line 5))
2025-08-18T15:44:50.3781601Z   Using cached mako-1.3.10-py3-none-any.whl.metadata (2.9 kB)
2025-08-18T15:44:50.3974278Z Collecting anyio (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-18T15:44:50.3985438Z   Using cached anyio-4.10.0-py3-none-any.whl.metadata (4.0 kB)
2025-08-18T15:44:50.4007493Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx==0.27.2->-r services/api/requirements.txt (line 7)) (2025.8.3)
2025-08-18T15:44:50.4173168Z Collecting httpcore==1.* (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-18T15:44:50.4184104Z   Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
2025-08-18T15:44:50.4217006Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx==0.27.2->-r services/api/requirements.txt (line 7)) (3.10)
2025-08-18T15:44:50.4281897Z Collecting sniffio (from httpx==0.27.2->-r services/api/requirements.txt (line 7))
2025-08-18T15:44:50.4293174Z   Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
2025-08-18T15:44:50.7827378Z Collecting botocore<1.35.0,>=1.34.162 (from boto3==1.34.162->-r services/api/requirements.txt (line 9))
2025-08-18T15:44:50.7842226Z   Using cached botocore-1.34.162-py3-none-any.whl.metadata (5.7 kB)
2025-08-18T15:44:50.7870974Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3==1.34.162->-r services/api/requirements.txt (line 9)) (1.0.1)
2025-08-18T15:44:50.8125493Z Collecting s3transfer<0.11.0,>=0.10.0 (from boto3==1.34.162->-r services/api/requirements.txt (line 9))
2025-08-18T15:44:50.8137758Z   Using cached s3transfer-0.10.4-py3-none-any.whl.metadata (1.7 kB)
2025-08-18T15:44:50.8604663Z Collecting MarkupSafe>=2.0 (from Jinja2==3.1.5->-r services/api/requirements.txt (line 10))
2025-08-18T15:44:50.8617240Z   Using cached MarkupSafe-3.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
2025-08-18T15:44:51.0429068Z Collecting psycopg-binary==3.2.9 (from psycopg[binary]==3.2.9->-r services/api/requirements.txt (line 6))
2025-08-18T15:44:51.0444864Z   Using cached psycopg_binary-3.2.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.9 kB)
2025-08-18T15:44:51.0493728Z Requirement already satisfied: billiard<5.0,>=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (4.2.1)
2025-08-18T15:44:51.0500445Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.3.1)
2025-08-18T15:44:51.0507487Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (1.1.1.2)
2025-08-18T15:44:51.0514305Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.3.0)
2025-08-18T15:44:51.0525051Z Requirement already satisfied: kombu<6.0,>=5.3.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.5.4)
2025-08-18T15:44:51.0532655Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (2.9.0.post0)
2025-08-18T15:44:51.0539276Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (2025.2)
2025-08-18T15:44:51.0546955Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.1.0)
2025-08-18T15:44:51.0633365Z Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from botocore<1.35.0,>=1.34.162->boto3==1.34.162->-r services/api/requirements.txt (line 9)) (2.5.0)
2025-08-18T15:44:51.0694178Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/api/requirements.txt (line 11)) (5.3.1)
2025-08-18T15:44:51.0705815Z Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.3.*->-r services/api/requirements.txt (line 11)) (25.0)
2025-08-18T15:44:51.0773257Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (0.7.0)
2025-08-18T15:44:51.0779392Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (2.33.2)
2025-08-18T15:44:51.0790427Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/api/requirements.txt (line 2)) (0.4.1)
2025-08-18T15:44:51.0826961Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->celery==5.3.*->-r services/api/requirements.txt (line 11)) (1.17.0)
2025-08-18T15:44:51.2085641Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.3.*->-r services/api/requirements.txt (line 11)) (3.0.51)
2025-08-18T15:44:51.2211370Z Collecting dnspython>=2.0.0 (from email_validator>=2.0.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.2224590Z   Using cached dnspython-2.7.0-py3-none-any.whl.metadata (5.8 kB)
2025-08-18T15:44:51.2429508Z Collecting typer>=0.15.1 (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.2441739Z   Using cached typer-0.16.0-py3-none-any.whl.metadata (15 kB)
2025-08-18T15:44:51.2667964Z Collecting rich-toolkit>=0.14.8 (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.2679622Z   Using cached rich_toolkit-0.15.0-py3-none-any.whl.metadata (1.0 kB)
2025-08-18T15:44:51.2773922Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.3.*->-r services/api/requirements.txt (line 11)) (0.2.13)
2025-08-18T15:44:51.3157023Z Collecting rich>=13.7.1 (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.3168768Z   Using cached rich-14.1.0-py3-none-any.whl.metadata (18 kB)
2025-08-18T15:44:51.3333494Z Collecting markdown-it-py>=2.2.0 (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.3345192Z   Using cached markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
2025-08-18T15:44:51.3580280Z Collecting pygments<3.0.0,>=2.13.0 (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.3590952Z   Using cached pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
2025-08-18T15:44:51.3698199Z Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.3708974Z   Using cached mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
2025-08-18T15:44:51.3883664Z Collecting shellingham>=1.3.0 (from typer>=0.15.1->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.3895206Z   Using cached shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
2025-08-18T15:44:51.4366184Z Collecting httptools>=0.5.0 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.4379184Z   Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
2025-08-18T15:44:51.4412606Z Requirement already satisfied: pyyaml>=5.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3)) (6.0.2)
2025-08-18T15:44:51.4772838Z Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.4784679Z   Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-18T15:44:51.5910074Z Collecting watchfiles>=0.13 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.5923060Z   Using cached watchfiles-1.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
2025-08-18T15:44:51.6773804Z Collecting websockets>=10.4 (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/api/requirements.txt (line 3))
2025-08-18T15:44:51.6787743Z   Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
2025-08-18T15:44:51.7051368Z Using cached uvicorn-0.29.0-py3-none-any.whl (60 kB)
2025-08-18T15:44:51.7063258Z Using cached fastapi-0.111.0-py3-none-any.whl (91 kB)
2025-08-18T15:44:51.7077284Z Using cached SQLAlchemy-2.0.29-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.2 MB)
2025-08-18T15:44:51.7115856Z Using cached alembic-1.13.1-py3-none-any.whl (233 kB)
2025-08-18T15:44:51.7129153Z Using cached psycopg-3.2.9-py3-none-any.whl (202 kB)
2025-08-18T15:44:51.7141662Z Using cached httpx-0.27.2-py3-none-any.whl (76 kB)
2025-08-18T15:44:51.7153770Z Using cached asyncpg-0.29.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.3 MB)
2025-08-18T15:44:51.7190063Z Using cached boto3-1.34.162-py3-none-any.whl (139 kB)
2025-08-18T15:44:51.7202517Z Using cached jinja2-3.1.5-py3-none-any.whl (134 kB)
2025-08-18T15:44:51.7214102Z Using cached structlog-24.1.0-py3-none-any.whl (65 kB)
2025-08-18T15:44:51.7225542Z Using cached asgi_correlation_id-4.3.1-py3-none-any.whl (15 kB)
2025-08-18T15:44:51.7260636Z Downloading fastapi_limiter-0.1.6-py3-none-any.whl (15 kB)
2025-08-18T15:44:51.7329995Z Downloading redis-5.0.8-py3-none-any.whl (255 kB)
2025-08-18T15:44:51.7529021Z Using cached psycopg_binary-3.2.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.4 MB)
2025-08-18T15:44:51.7574603Z Using cached botocore-1.34.162-py3-none-any.whl (12.5 MB)
2025-08-18T15:44:51.7681800Z Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)
2025-08-18T15:44:51.7694524Z Using cached s3transfer-0.10.4-py3-none-any.whl (83 kB)
2025-08-18T15:44:51.7707280Z Using cached starlette-0.37.2-py3-none-any.whl (71 kB)
2025-08-18T15:44:51.7718817Z Using cached anyio-4.10.0-py3-none-any.whl (107 kB)
2025-08-18T15:44:51.7730664Z Using cached email_validator-2.2.0-py3-none-any.whl (33 kB)
2025-08-18T15:44:51.7741642Z Using cached dnspython-2.7.0-py3-none-any.whl (313 kB)
2025-08-18T15:44:51.7754907Z Using cached fastapi_cli-0.0.8-py3-none-any.whl (10 kB)
2025-08-18T15:44:51.7766182Z Using cached greenlet-3.2.4-cp312-cp312-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (607 kB)
2025-08-18T15:44:51.7781239Z Using cached h11-0.16.0-py3-none-any.whl (37 kB)
2025-08-18T15:44:51.7793537Z Using cached MarkupSafe-3.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
2025-08-18T15:44:51.7805059Z Using cached orjson-3.11.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121 kB)
2025-08-18T15:44:51.7817167Z Using cached python_multipart-0.0.20-py3-none-any.whl (24 kB)
2025-08-18T15:44:51.7828435Z Using cached rich_toolkit-0.15.0-py3-none-any.whl (29 kB)
2025-08-18T15:44:51.7839396Z Using cached rich-14.1.0-py3-none-any.whl (243 kB)
2025-08-18T15:44:51.7851733Z Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
2025-08-18T15:44:51.7871633Z Using cached markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
2025-08-18T15:44:51.7883096Z Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)
2025-08-18T15:44:51.7893997Z Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
2025-08-18T15:44:51.7904753Z Using cached typer-0.16.0-py3-none-any.whl (46 kB)
2025-08-18T15:44:51.7915811Z Using cached shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
2025-08-18T15:44:51.7926966Z Using cached ujson-5.10.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (53 kB)
2025-08-18T15:44:51.7938718Z Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (510 kB)
2025-08-18T15:44:51.7952887Z Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.7 MB)
2025-08-18T15:44:51.7998476Z Using cached watchfiles-1.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (452 kB)
2025-08-18T15:44:51.8013008Z Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
2025-08-18T15:44:51.8024445Z Using cached mako-1.3.10-py3-none-any.whl (78 kB)
2025-08-18T15:44:52.0001637Z Installing collected packages: websockets, uvloop, ujson, structlog, sniffio, shellingham, redis, python-multipart, pygments, psycopg-binary, psycopg, orjson, mdurl, MarkupSafe, httptools, h11, greenlet, dnspython, asyncpg, uvicorn, sqlalchemy, markdown-it-py, Mako, Jinja2, httpcore, email_validator, botocore, anyio, watchfiles, starlette, s3transfer, rich, httpx, alembic, typer, rich-toolkit, boto3, asgi-correlation-id, fastapi-cli, fastapi, fastapi-limiter
2025-08-18T15:44:52.2289001Z   Attempting uninstall: redis
2025-08-18T15:44:52.2319395Z     Found existing installation: redis 5.3.1
2025-08-18T15:44:52.2399688Z     Uninstalling redis-5.3.1:
2025-08-18T15:44:52.2416227Z       Successfully uninstalled redis-5.3.1
2025-08-18T15:44:55.1912254Z   Attempting uninstall: botocore
2025-08-18T15:44:55.1958922Z     Found existing installation: botocore 1.40.11
2025-08-18T15:44:55.2598206Z     Uninstalling botocore-1.40.11:
2025-08-18T15:44:55.2850239Z       Successfully uninstalled botocore-1.40.11
2025-08-18T15:44:56.0663720Z   Attempting uninstall: s3transfer
2025-08-18T15:44:56.0701851Z     Found existing installation: s3transfer 0.13.1
2025-08-18T15:44:56.0730058Z     Uninstalling s3transfer-0.13.1:
2025-08-18T15:44:56.0739023Z       Successfully uninstalled s3transfer-0.13.1
2025-08-18T15:44:56.5921866Z   Attempting uninstall: boto3
2025-08-18T15:44:56.5958484Z     Found existing installation: boto3 1.40.11
2025-08-18T15:44:56.6020280Z     Uninstalling boto3-1.40.11:
2025-08-18T15:44:56.6038885Z       Successfully uninstalled boto3-1.40.11
2025-08-18T15:44:56.7618450Z 
2025-08-18T15:44:56.7703987Z Successfully installed Jinja2-3.1.5 Mako-1.3.10 MarkupSafe-3.0.2 alembic-1.13.1 anyio-4.10.0 asgi-correlation-id-4.3.1 asyncpg-0.29.0 boto3-1.34.162 botocore-1.34.162 dnspython-2.7.0 email_validator-2.2.0 fastapi-0.111.0 fastapi-cli-0.0.8 fastapi-limiter-0.1.6 greenlet-3.2.4 h11-0.16.0 httpcore-1.0.9 httptools-0.6.4 httpx-0.27.2 markdown-it-py-4.0.0 mdurl-0.1.2 orjson-3.11.2 psycopg-3.2.9 psycopg-binary-3.2.9 pygments-2.19.2 python-multipart-0.0.20 redis-5.0.8 rich-14.1.0 rich-toolkit-0.15.0 s3transfer-0.10.4 shellingham-1.5.4 sniffio-1.3.1 sqlalchemy-2.0.29 starlette-0.37.2 structlog-24.1.0 typer-0.16.0 ujson-5.10.0 uvicorn-0.29.0 uvloop-0.21.0 watchfiles-1.1.0 websockets-15.0.1
2025-08-18T15:44:57.8249215Z Requirement already satisfied: uvicorn==0.29.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 1)) (0.29.0)
2025-08-18T15:44:57.8254335Z Requirement already satisfied: pydantic-settings==2.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 2)) (2.2.1)
2025-08-18T15:44:57.8259331Z Requirement already satisfied: python-amazon-sp-api==0.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 3)) (0.8.0)
2025-08-18T15:44:57.8264246Z Requirement already satisfied: fastapi==0.111.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 4)) (0.111.0)
2025-08-18T15:44:57.8269013Z Requirement already satisfied: sqlalchemy==2.0.29 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/repricer/requirements.txt (line 5)) (2.0.29)
2025-08-18T15:44:57.8280579Z Requirement already satisfied: click>=7.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/repricer/requirements.txt (line 1)) (8.2.1)
2025-08-18T15:44:57.8286596Z Requirement already satisfied: h11>=0.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn==0.29.0->-r services/repricer/requirements.txt (line 1)) (0.16.0)
2025-08-18T15:44:57.8310357Z Requirement already satisfied: pydantic>=2.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (2.11.7)
2025-08-18T15:44:57.8316763Z Requirement already satisfied: python-dotenv>=0.21.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (1.1.1)
2025-08-18T15:44:57.8328901Z Requirement already satisfied: requests in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.32.4)
2025-08-18T15:44:57.8337233Z Requirement already satisfied: six<2,>=1.15 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.17.0)
2025-08-18T15:44:57.8345335Z Requirement already satisfied: boto3<2,>=1.16.39 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.34.162)
2025-08-18T15:44:57.8353043Z Requirement already satisfied: cachetools~=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (4.2.4)
2025-08-18T15:44:57.8357728Z Requirement already satisfied: pycryptodome in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (3.23.0)
2025-08-18T15:44:57.8362518Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2025.2)
2025-08-18T15:44:57.8369508Z Requirement already satisfied: confuse~=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.4.0)
2025-08-18T15:44:57.8386180Z Requirement already satisfied: starlette<0.38.0,>=0.37.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.37.2)
2025-08-18T15:44:57.8397045Z Requirement already satisfied: typing-extensions>=4.8.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.14.1)
2025-08-18T15:44:57.8402935Z Requirement already satisfied: fastapi-cli>=0.0.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.0.8)
2025-08-18T15:44:57.8408668Z Requirement already satisfied: httpx>=0.23.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.27.2)
2025-08-18T15:44:57.8414585Z Requirement already satisfied: jinja2>=2.11.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.1.5)
2025-08-18T15:44:57.8420774Z Requirement already satisfied: python-multipart>=0.0.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.0.20)
2025-08-18T15:44:57.8429871Z Requirement already satisfied: ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (5.10.0)
2025-08-18T15:44:57.8435820Z Requirement already satisfied: orjson>=3.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.11.2)
2025-08-18T15:44:57.8441571Z Requirement already satisfied: email_validator>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.2.0)
2025-08-18T15:44:57.8489797Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy==2.0.29->-r services/repricer/requirements.txt (line 5)) (3.2.4)
2025-08-18T15:44:57.8536178Z Requirement already satisfied: botocore<1.35.0,>=1.34.162 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.34.162)
2025-08-18T15:44:57.8543701Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (1.0.1)
2025-08-18T15:44:57.8551749Z Requirement already satisfied: s3transfer<0.11.0,>=0.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (0.10.4)
2025-08-18T15:44:57.8569997Z Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from botocore<1.35.0,>=1.34.162->boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.9.0.post0)
2025-08-18T15:44:57.8584156Z Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from botocore<1.35.0,>=1.34.162->boto3<2,>=1.16.39->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (2.5.0)
2025-08-18T15:44:57.8604455Z Requirement already satisfied: pyyaml in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from confuse~=1.4.0->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (6.0.2)
2025-08-18T15:44:57.8633555Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (0.7.0)
2025-08-18T15:44:57.8644504Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (2.33.2)
2025-08-18T15:44:57.8652820Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic>=2.3.0->pydantic-settings==2.2.1->-r services/repricer/requirements.txt (line 2)) (0.4.1)
2025-08-18T15:44:57.8714621Z Requirement already satisfied: anyio<5,>=3.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.10.0)
2025-08-18T15:44:57.8735887Z Requirement already satisfied: idna>=2.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio<5,>=3.4.0->starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.10)
2025-08-18T15:44:57.8742185Z Requirement already satisfied: sniffio>=1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio<5,>=3.4.0->starlette<0.38.0,>=0.37.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.3.1)
2025-08-18T15:44:57.8799631Z Requirement already satisfied: dnspython>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from email_validator>=2.0.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.7.0)
2025-08-18T15:44:57.8849124Z Requirement already satisfied: typer>=0.15.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.16.0)
2025-08-18T15:44:57.8860821Z Requirement already satisfied: rich-toolkit>=0.14.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.15.0)
2025-08-18T15:44:57.8904341Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx>=0.23.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2025.8.3)
2025-08-18T15:44:57.8909329Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx>=0.23.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.0.9)
2025-08-18T15:44:57.8966491Z Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from jinja2>=2.11.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (3.0.2)
2025-08-18T15:44:57.9025610Z Requirement already satisfied: rich>=13.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (14.1.0)
2025-08-18T15:44:57.9048344Z Requirement already satisfied: markdown-it-py>=2.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (4.0.0)
2025-08-18T15:44:57.9055012Z Requirement already satisfied: pygments<3.0.0,>=2.13.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (2.19.2)
2025-08-18T15:44:57.9081565Z Requirement already satisfied: mdurl~=0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.1.2)
2025-08-18T15:44:57.9148502Z Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from typer>=0.15.1->fastapi-cli>=0.0.2->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.5.4)
2025-08-18T15:44:57.9220056Z Requirement already satisfied: httptools>=0.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.6.4)
2025-08-18T15:44:57.9238744Z Requirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (0.21.0)
2025-08-18T15:44:57.9246077Z Requirement already satisfied: watchfiles>=0.13 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (1.1.0)
2025-08-18T15:44:57.9254005Z Requirement already satisfied: websockets>=10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0->fastapi==0.111.0->-r services/repricer/requirements.txt (line 4)) (15.0.1)
2025-08-18T15:44:57.9384075Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests->python-amazon-sp-api==0.8.0->-r services/repricer/requirements.txt (line 3)) (3.4.3)
2025-08-18T15:44:58.5891252Z Collecting celery==5.4.* (from celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1))
2025-08-18T15:44:58.5905207Z   Using cached celery-5.4.0-py3-none-any.whl.metadata (21 kB)
2025-08-18T15:44:58.6119386Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 2)) (0.29.0)
2025-08-18T15:44:58.6123201Z Requirement already satisfied: httpx in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 3)) (0.27.2)
2025-08-18T15:44:58.6126843Z Requirement already satisfied: sqlalchemy in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/fees_h10/requirements.txt (line 4)) (2.0.29)
2025-08-18T15:44:58.6139655Z Requirement already satisfied: billiard<5.0,>=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (4.2.1)
2025-08-18T15:44:58.6145449Z Requirement already satisfied: kombu<6.0,>=5.3.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.5.4)
2025-08-18T15:44:58.6154020Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.1.0)
2025-08-18T15:44:58.6160495Z Requirement already satisfied: click<9.0,>=8.1.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (8.2.1)
2025-08-18T15:44:58.6167056Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.3.1)
2025-08-18T15:44:58.6174032Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.3.0)
2025-08-18T15:44:58.6181155Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (1.1.1.2)
2025-08-18T15:44:58.6187591Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (2025.2)
2025-08-18T15:44:58.6194791Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (2.9.0.post0)
2025-08-18T15:44:58.6248364Z Requirement already satisfied: redis!=4.5.5,<6.0.0,>=4.5.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.0.8)
2025-08-18T15:44:58.6276685Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (5.3.1)
2025-08-18T15:44:58.6288736Z Requirement already satisfied: packaging in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (25.0)
2025-08-18T15:44:58.6374011Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (4.10.0)
2025-08-18T15:44:58.6378443Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (2025.8.3)
2025-08-18T15:44:58.6384659Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (1.0.9)
2025-08-18T15:44:58.6389075Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (3.10)
2025-08-18T15:44:58.6393965Z Requirement already satisfied: sniffio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx->-r services/fees_h10/requirements.txt (line 3)) (1.3.1)
2025-08-18T15:44:58.6418886Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx->-r services/fees_h10/requirements.txt (line 3)) (0.16.0)
2025-08-18T15:44:58.6438503Z Requirement already satisfied: typing-extensions>=4.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy->-r services/fees_h10/requirements.txt (line 4)) (4.14.1)
2025-08-18T15:44:58.6453491Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy->-r services/fees_h10/requirements.txt (line 4)) (3.2.4)
2025-08-18T15:44:58.6525336Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (3.0.51)
2025-08-18T15:44:58.6562511Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (0.2.13)
2025-08-18T15:44:58.6577773Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->celery==5.4.*->celery[redis]==5.4.*->-r services/fees_h10/requirements.txt (line 1)) (1.17.0)
2025-08-18T15:44:58.8569495Z Using cached celery-5.4.0-py3-none-any.whl (425 kB)
2025-08-18T15:44:58.9812893Z Installing collected packages: celery
2025-08-18T15:44:58.9813779Z   Attempting uninstall: celery
2025-08-18T15:44:58.9860720Z     Found existing installation: celery 5.3.6
2025-08-18T15:44:59.0022518Z     Uninstalling celery-5.3.6:
2025-08-18T15:44:59.0050667Z       Successfully uninstalled celery-5.3.6
2025-08-18T15:44:59.3301000Z Successfully installed celery-5.4.0
2025-08-18T15:44:59.8538102Z Collecting python-telegram-bot==20.8 (from -r services/alert_bot/requirements.txt (line 1))
2025-08-18T15:44:59.8552261Z   Using cached python_telegram_bot-20.8-py3-none-any.whl.metadata (15 kB)
2025-08-18T15:44:59.8896507Z Collecting APScheduler==3.10.4 (from -r services/alert_bot/requirements.txt (line 2))
2025-08-18T15:44:59.8908433Z   Using cached APScheduler-3.10.4-py3-none-any.whl.metadata (5.7 kB)
2025-08-18T15:44:59.8951705Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r services/alert_bot/requirements.txt (line 3)) (0.29.0)
2025-08-18T15:44:59.9125903Z Collecting httpx~=0.26.0 (from python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1))
2025-08-18T15:44:59.9137189Z   Using cached httpx-0.26.0-py3-none-any.whl.metadata (7.6 kB)
2025-08-18T15:44:59.9176205Z Requirement already satisfied: six>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2)) (1.17.0)
2025-08-18T15:44:59.9179921Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2)) (2025.2)
2025-08-18T15:44:59.9309259Z Collecting tzlocal!=3.*,>=2.0 (from APScheduler==3.10.4->-r services/alert_bot/requirements.txt (line 2))
2025-08-18T15:44:59.9320261Z   Using cached tzlocal-5.3.1-py3-none-any.whl.metadata (7.6 kB)
2025-08-18T15:44:59.9350830Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (4.10.0)
2025-08-18T15:44:59.9354819Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (2025.8.3)
2025-08-18T15:44:59.9359390Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (1.0.9)
2025-08-18T15:44:59.9363004Z Requirement already satisfied: idna in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (3.10)
2025-08-18T15:44:59.9366660Z Requirement already satisfied: sniffio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (1.3.1)
2025-08-18T15:44:59.9381049Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (0.16.0)
2025-08-18T15:44:59.9430247Z Requirement already satisfied: typing_extensions>=4.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio->httpx~=0.26.0->python-telegram-bot==20.8->-r services/alert_bot/requirements.txt (line 1)) (4.14.1)
2025-08-18T15:44:59.9480622Z Using cached python_telegram_bot-20.8-py3-none-any.whl (604 kB)
2025-08-18T15:44:59.9497812Z Using cached APScheduler-3.10.4-py3-none-any.whl (59 kB)
2025-08-18T15:44:59.9508857Z Using cached httpx-0.26.0-py3-none-any.whl (75 kB)
2025-08-18T15:44:59.9520011Z Using cached tzlocal-5.3.1-py3-none-any.whl (18 kB)
2025-08-18T15:45:00.0917892Z Installing collected packages: tzlocal, httpx, APScheduler, python-telegram-bot
2025-08-18T15:45:00.1045029Z   Attempting uninstall: httpx
2025-08-18T15:45:00.1077136Z     Found existing installation: httpx 0.27.2
2025-08-18T15:45:00.1116905Z     Uninstalling httpx-0.27.2:
2025-08-18T15:45:00.1130594Z       Successfully uninstalled httpx-0.27.2
2025-08-18T15:45:00.5211377Z 
2025-08-18T15:45:00.5294736Z Successfully installed APScheduler-3.10.4 httpx-0.26.0 python-telegram-bot-20.8 tzlocal-5.3.1
2025-08-18T15:45:01.0356049Z Collecting Jinja2==3.1.6 (from -r requirements-dev.txt (line 2))
2025-08-18T15:45:01.0369059Z   Using cached jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
2025-08-18T15:45:01.0391315Z Requirement already satisfied: alembic==1.13.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 3)) (1.13.1)
2025-08-18T15:45:01.0396101Z Requirement already satisfied: apscheduler==3.10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 4)) (3.10.4)
2025-08-18T15:45:01.0400239Z Requirement already satisfied: asgi-correlation-id==4.3.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 5)) (4.3.1)
2025-08-18T15:45:01.0770350Z Collecting asyncpg==0.30.0 (from -r requirements-dev.txt (line 6))
2025-08-18T15:45:01.0783974Z   Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.0 kB)
2025-08-18T15:45:01.1244900Z Collecting black==25.1.0 (from -r requirements-dev.txt (line 7))
2025-08-18T15:45:01.1258484Z   Using cached black-25.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl.metadata (81 kB)
2025-08-18T15:45:01.1343399Z Requirement already satisfied: boto3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 8)) (1.34.162)
2025-08-18T15:45:01.1348044Z Requirement already satisfied: redis==5.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 9)) (5.0.8)
2025-08-18T15:45:01.1352737Z Requirement already satisfied: minio==7.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 10)) (7.1.15)
2025-08-18T15:45:01.1357153Z Requirement already satisfied: celery==5.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 11)) (5.4.0)
2025-08-18T15:45:01.1897676Z Collecting fastapi==0.116.1 (from -r requirements-dev.txt (line 12))
2025-08-18T15:45:01.1910938Z   Using cached fastapi-0.116.1-py3-none-any.whl.metadata (28 kB)
2025-08-18T15:45:01.1983473Z Requirement already satisfied: fastapi-limiter==0.1.6 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 14)) (0.1.6)
2025-08-18T15:45:01.2161225Z Collecting httpx<0.29,>=0.27 (from -r requirements-dev.txt (line 15))
2025-08-18T15:45:01.2173364Z   Using cached httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
2025-08-18T15:45:01.2292533Z Collecting imapclient==3.0.1 (from -r requirements-dev.txt (line 16))
2025-08-18T15:45:01.2304293Z   Using cached IMAPClient-3.0.1-py2.py3-none-any.whl.metadata (1.7 kB)
2025-08-18T15:45:01.2399912Z Collecting itsdangerous (from -r requirements-dev.txt (line 17))
2025-08-18T15:45:01.2411428Z   Using cached itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)
2025-08-18T15:45:01.3374548Z Collecting mypy==1.* (from -r requirements-dev.txt (line 18))
2025-08-18T15:45:01.3388329Z   Using cached mypy-1.17.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (2.2 kB)
2025-08-18T15:45:01.3417614Z Requirement already satisfied: mypy-extensions==1.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 19)) (1.1.0)
2025-08-18T15:45:01.3422538Z Requirement already satisfied: numpy<2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 20)) (1.26.4)
2025-08-18T15:45:01.3427487Z Requirement already satisfied: openpyxl==3.1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 21)) (3.1.5)
2025-08-18T15:45:01.3432569Z Requirement already satisfied: pandas==2.2.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 22)) (2.2.3)
2025-08-18T15:45:01.4006642Z Collecting psycopg2-binary==2.9.9 (from -r requirements-dev.txt (line 23))
2025-08-18T15:45:01.4020839Z   Using cached psycopg2_binary-2.9.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.4 kB)
2025-08-18T15:45:01.4043105Z Requirement already satisfied: psycopg==3.2.9 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from psycopg[binary]==3.2.9->-r requirements-dev.txt (line 24)) (3.2.9)
2025-08-18T15:45:01.4048143Z Requirement already satisfied: pydantic==2.11.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 25)) (2.11.7)
2025-08-18T15:45:01.5252272Z Collecting setuptools (from -r requirements-dev.txt (line 26))
2025-08-18T15:45:01.5266591Z   Using cached setuptools-80.9.0-py3-none-any.whl.metadata (6.6 kB)
2025-08-18T15:45:01.5515854Z Collecting pytest-asyncio==0.23.6 (from -r requirements-dev.txt (line 27))
2025-08-18T15:45:01.5528684Z   Using cached pytest_asyncio-0.23.6-py3-none-any.whl.metadata (3.9 kB)
2025-08-18T15:45:01.5672261Z Collecting pytest-cov==6.2.1 (from -r requirements-dev.txt (line 28))
2025-08-18T15:45:01.5684339Z   Using cached pytest_cov-6.2.1-py3-none-any.whl.metadata (30 kB)
2025-08-18T15:45:01.5832685Z Collecting pytest-postgresql==7.0.2 (from -r requirements-dev.txt (line 29))
2025-08-18T15:45:01.5844822Z   Using cached pytest_postgresql-7.0.2-py3-none-any.whl.metadata (18 kB)
2025-08-18T15:45:01.5875942Z Requirement already satisfied: python-dotenv in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 30)) (1.1.1)
2025-08-18T15:45:01.5880306Z Requirement already satisfied: python-multipart in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 31)) (0.0.20)
2025-08-18T15:45:01.6144610Z Collecting python-telegram-bot==22.2 (from -r requirements-dev.txt (line 32))
2025-08-18T15:45:01.6157527Z   Using cached python_telegram_bot-22.2-py3-none-any.whl.metadata (17 kB)
2025-08-18T15:45:01.6222633Z Requirement already satisfied: requests==2.32.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 33)) (2.32.4)
2025-08-18T15:45:01.6347924Z Collecting respx==0.22.0 (from -r requirements-dev.txt (line 34))
2025-08-18T15:45:01.6359978Z   Using cached respx-0.22.0-py2.py3-none-any.whl.metadata (4.1 kB)
2025-08-18T15:45:01.9869560Z Collecting ruff==0.4.4 (from -r requirements-dev.txt (line 35))
2025-08-18T15:45:01.9884307Z   Using cached ruff-0.4.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (23 kB)
2025-08-18T15:45:01.9917413Z Requirement already satisfied: sqlalchemy==2.0.29 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 36)) (2.0.29)
2025-08-18T15:45:01.9922706Z Requirement already satisfied: structlog==24.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 37)) (24.1.0)
2025-08-18T15:45:02.0060042Z Collecting testcontainers==4.10.0 (from testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38))
2025-08-18T15:45:02.0073007Z   Using cached testcontainers-4.10.0-py3-none-any.whl.metadata (7.8 kB)
2025-08-18T15:45:02.0424941Z Collecting types-requests==2.32.0.20240602 (from -r requirements-dev.txt (line 39))
2025-08-18T15:45:02.0437669Z   Using cached types_requests-2.32.0.20240602-py3-none-any.whl.metadata (1.8 kB)
2025-08-18T15:45:02.0572701Z Collecting docspec-python==2.2.2 (from -r requirements-dev.txt (line 40))
2025-08-18T15:45:02.0584726Z   Using cached docspec_python-2.2.2-py3-none-any.whl.metadata (1.0 kB)
2025-08-18T15:45:02.0742772Z Collecting pydoc-markdown==4.8.2 (from -r requirements-dev.txt (line 41))
2025-08-18T15:45:02.0755302Z   Using cached pydoc_markdown-4.8.2-py3-none-any.whl.metadata (5.9 kB)
2025-08-18T15:45:02.0788652Z Requirement already satisfied: pandera==0.19.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from -r requirements-dev.txt (line 42)) (0.19.3)
2025-08-18T15:45:02.0807217Z Requirement already satisfied: MarkupSafe>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from Jinja2==3.1.6->-r requirements-dev.txt (line 2)) (3.0.2)
2025-08-18T15:45:02.0824870Z Requirement already satisfied: Mako in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from alembic==1.13.1->-r requirements-dev.txt (line 3)) (1.3.10)
2025-08-18T15:45:02.0831146Z Requirement already satisfied: typing-extensions>=4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from alembic==1.13.1->-r requirements-dev.txt (line 3)) (4.14.1)
2025-08-18T15:45:02.0850079Z Requirement already satisfied: six>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (1.17.0)
2025-08-18T15:45:02.0854852Z Requirement already satisfied: pytz in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (2025.2)
2025-08-18T15:45:02.0862395Z Requirement already satisfied: tzlocal!=3.*,>=2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from apscheduler==3.10.4->-r requirements-dev.txt (line 4)) (5.3.1)
2025-08-18T15:45:02.0895380Z Requirement already satisfied: starlette>=0.18 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from asgi-correlation-id==4.3.1->-r requirements-dev.txt (line 5)) (0.37.2)
2025-08-18T15:45:02.0917039Z Requirement already satisfied: click>=8.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from black==25.1.0->-r requirements-dev.txt (line 7)) (8.2.1)
2025-08-18T15:45:02.0922894Z Requirement already satisfied: packaging>=22.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from black==25.1.0->-r requirements-dev.txt (line 7)) (25.0)
2025-08-18T15:45:02.1021703Z Collecting pathspec>=0.9.0 (from black==25.1.0->-r requirements-dev.txt (line 7))
2025-08-18T15:45:02.1034533Z   Using cached pathspec-0.12.1-py3-none-any.whl.metadata (21 kB)
2025-08-18T15:45:02.1215491Z Collecting platformdirs>=2 (from black==25.1.0->-r requirements-dev.txt (line 7))
2025-08-18T15:45:02.1227943Z   Using cached platformdirs-4.3.8-py3-none-any.whl.metadata (12 kB)
2025-08-18T15:45:02.1282797Z Requirement already satisfied: billiard<5.0,>=4.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (4.2.1)
2025-08-18T15:45:02.1290888Z Requirement already satisfied: kombu<6.0,>=5.3.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (5.5.4)
2025-08-18T15:45:02.1298270Z Requirement already satisfied: vine<6.0,>=5.1.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (5.1.0)
2025-08-18T15:45:02.1308417Z Requirement already satisfied: click-didyoumean>=0.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (0.3.1)
2025-08-18T15:45:02.1314996Z Requirement already satisfied: click-repl>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (0.3.0)
2025-08-18T15:45:02.1321397Z Requirement already satisfied: click-plugins>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (1.1.1.2)
2025-08-18T15:45:02.1328024Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (2025.2)
2025-08-18T15:45:02.1335444Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from celery==5.4.0->-r requirements-dev.txt (line 11)) (2.9.0.post0)
2025-08-18T15:45:02.1697114Z Collecting starlette>=0.18 (from asgi-correlation-id==4.3.1->-r requirements-dev.txt (line 5))
2025-08-18T15:45:02.1709755Z   Using cached starlette-0.47.2-py3-none-any.whl.metadata (6.2 kB)
2025-08-18T15:45:02.1758502Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (0.7.0)
2025-08-18T15:45:02.1764491Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (2.33.2)
2025-08-18T15:45:02.1772754Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic==2.11.7->-r requirements-dev.txt (line 25)) (0.4.1)
2025-08-18T15:45:02.1822879Z Requirement already satisfied: et-xmlfile in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from openpyxl==3.1.5->-r requirements-dev.txt (line 21)) (2.0.0)
2025-08-18T15:45:02.2243208Z Collecting pytest<9,>=7.0.0 (from pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27))
2025-08-18T15:45:02.2256925Z   Using cached pytest-8.4.1-py3-none-any.whl.metadata (7.7 kB)
2025-08-18T15:45:02.5413786Z Collecting coverage>=7.5 (from coverage[toml]>=7.5->pytest-cov==6.2.1->-r requirements-dev.txt (line 28))
2025-08-18T15:45:02.5427772Z   Using cached coverage-7.10.4-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (8.9 kB)
2025-08-18T15:45:02.5547051Z Collecting pluggy>=1.2 (from pytest-cov==6.2.1->-r requirements-dev.txt (line 28))
2025-08-18T15:45:02.5558025Z   Using cached pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
2025-08-18T15:45:02.5797828Z Collecting port-for>=0.7.3 (from pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-18T15:45:02.5808962Z   Using cached port_for-0.7.4-py3-none-any.whl.metadata (7.1 kB)
2025-08-18T15:45:02.5939016Z Collecting mirakuru>=2.6.0 (from pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-18T15:45:02.5950678Z   Using cached mirakuru-2.6.1-py3-none-any.whl.metadata (10 kB)
2025-08-18T15:45:02.6007238Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (3.4.3)
2025-08-18T15:45:02.6012791Z Requirement already satisfied: idna<4,>=2.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (3.10)
2025-08-18T15:45:02.6018426Z Requirement already satisfied: urllib3<3,>=1.21.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (2.5.0)
2025-08-18T15:45:02.6022864Z Requirement already satisfied: certifi>=2017.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests==2.32.4->-r requirements-dev.txt (line 33)) (2025.8.3)
2025-08-18T15:45:02.6123366Z Requirement already satisfied: greenlet!=0.4.17 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from sqlalchemy==2.0.29->-r requirements-dev.txt (line 36)) (3.2.4)
2025-08-18T15:45:02.6370847Z Collecting docker (from testcontainers==4.10.0->testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38))
2025-08-18T15:45:02.6383315Z   Using cached docker-7.1.0-py3-none-any.whl.metadata (3.8 kB)
2025-08-18T15:45:02.6423949Z Requirement already satisfied: wrapt in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from testcontainers==4.10.0->testcontainers[postgres]==4.10.0->-r requirements-dev.txt (line 38)) (1.17.3)
2025-08-18T15:45:02.6569737Z Collecting docspec==2.2.1 (from docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-18T15:45:02.6581246Z   Using cached docspec-2.2.1-py3-none-any.whl.metadata (1.5 kB)
2025-08-18T15:45:02.6727411Z Collecting nr-util>=0.8.12 (from docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-18T15:45:02.6738678Z   Using cached nr.util-0.8.12-py3-none-any.whl.metadata (813 bytes)
2025-08-18T15:45:02.6770505Z Requirement already satisfied: PyYAML<7.0,>=5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41)) (6.0.2)
2025-08-18T15:45:02.6959075Z Collecting databind.core<5.0.0,>=4.4.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.6970177Z   Using cached databind.core-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-18T15:45:02.7156518Z Collecting databind.json<5.0.0,>=4.4.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.7168099Z   Using cached databind.json-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-18T15:45:02.7309393Z Collecting docstring-parser<0.12,>=0.11 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.7310657Z   Using cached docstring_parser-0.11-py3-none-any.whl
2025-08-18T15:45:02.7552764Z Collecting tomli<3.0.0,>=2.0.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.7565160Z   Using cached tomli-2.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)
2025-08-18T15:45:02.7664569Z Collecting tomli_w<2.0.0,>=1.0.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.7676344Z   Using cached tomli_w-1.2.0-py3-none-any.whl.metadata (5.7 kB)
2025-08-18T15:45:02.8493217Z Collecting watchdog (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.8507813Z   Using cached watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl.metadata (44 kB)
2025-08-18T15:45:02.8714631Z Collecting yapf>=0.30.0 (from pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:02.8726883Z   Using cached yapf-0.43.0-py3-none-any.whl.metadata (46 kB)
2025-08-18T15:45:02.8903900Z Collecting Deprecated<2.0.0,>=1.2.12 (from docspec==2.2.1->docspec-python==2.2.2->-r requirements-dev.txt (line 40))
2025-08-18T15:45:02.8916072Z   Using cached Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
2025-08-18T15:45:02.9061075Z Requirement already satisfied: psycopg-binary==3.2.9 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from psycopg[binary]==3.2.9->-r requirements-dev.txt (line 24)) (3.2.9)
2025-08-18T15:45:02.9169219Z Requirement already satisfied: anyio in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (4.10.0)
2025-08-18T15:45:02.9175977Z Requirement already satisfied: httpcore==1.* in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (1.0.9)
2025-08-18T15:45:02.9398445Z Requirement already satisfied: multimethod<=1.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (1.10)
2025-08-18T15:45:02.9413542Z Requirement already satisfied: typeguard in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (4.4.4)
2025-08-18T15:45:02.9420607Z Requirement already satisfied: typing-inspect>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandera==0.19.*->-r requirements-dev.txt (line 42)) (0.9.0)
2025-08-18T15:45:03.0513149Z Collecting databind<5.0.0,>=4.5.2 (from databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:03.0525956Z   Using cached databind-4.5.2-py3-none-any.whl.metadata (4.3 kB)
2025-08-18T15:45:03.0644607Z Collecting nr-date<3.0.0,>=2.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:03.0656262Z   Using cached nr_date-2.1.0-py3-none-any.whl.metadata (746 bytes)
2025-08-18T15:45:03.0764256Z Collecting nr-stream<2.0.0,>=1.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:03.0776552Z   Using cached nr_stream-1.1.5-py3-none-any.whl.metadata (3.6 kB)
2025-08-18T15:45:03.0939646Z Collecting typeapi<3,>=2.0.1 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown==4.8.2->-r requirements-dev.txt (line 41))
2025-08-18T15:45:03.0951122Z   Using cached typeapi-2.2.4-py3-none-any.whl.metadata (1.5 kB)
2025-08-18T15:45:03.1049103Z Requirement already satisfied: h11>=0.16 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from httpcore==1.*->httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (0.16.0)
2025-08-18T15:45:03.1092594Z Requirement already satisfied: amqp<6.0.0,>=5.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from kombu<6.0,>=5.3.4->celery==5.4.0->-r requirements-dev.txt (line 11)) (5.3.1)
2025-08-18T15:45:03.1469052Z Collecting iniconfig>=1 (from pytest<9,>=7.0.0->pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27))
2025-08-18T15:45:03.1480935Z   Using cached iniconfig-2.1.0-py3-none-any.whl.metadata (2.7 kB)
2025-08-18T15:45:03.1517531Z Requirement already satisfied: pygments>=2.7.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest<9,>=7.0.0->pytest-asyncio==0.23.6->-r requirements-dev.txt (line 27)) (2.19.2)
2025-08-18T15:45:03.1603089Z Requirement already satisfied: sniffio>=1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from anyio->httpx<0.29,>=0.27->-r requirements-dev.txt (line 15)) (1.3.1)
2025-08-18T15:45:03.1752633Z Requirement already satisfied: botocore<1.35.0,>=1.34.162 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (1.34.162)
2025-08-18T15:45:03.1760279Z Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (1.0.1)
2025-08-18T15:45:03.1767901Z Requirement already satisfied: s3transfer<0.11.0,>=0.10.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from boto3->-r requirements-dev.txt (line 8)) (0.10.4)
2025-08-18T15:45:03.1890427Z Requirement already satisfied: fastapi-cli>=0.0.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.0.8)
2025-08-18T15:45:03.1996841Z Requirement already satisfied: ujson!=4.0.2,!=4.1.0,!=4.2.0,!=4.3.0,!=5.0.0,!=5.1.0,>=4.0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (5.10.0)
2025-08-18T15:45:03.2002476Z Requirement already satisfied: orjson>=3.2.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (3.11.2)
2025-08-18T15:45:03.2008599Z Requirement already satisfied: email-validator>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (2.2.0)
2025-08-18T15:45:03.2016448Z Requirement already satisfied: uvicorn>=0.12.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.29.0)
2025-08-18T15:45:03.2024441Z Requirement already satisfied: pydantic-settings>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi[all]->-r requirements-dev.txt (line 13)) (2.2.1)
2025-08-18T15:45:03.2131674Z Collecting pydantic-extra-types>=2.0.0 (from fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-18T15:45:03.2143428Z   Using cached pydantic_extra_types-2.10.5-py3-none-any.whl.metadata (3.9 kB)
2025-08-18T15:45:03.2393624Z Requirement already satisfied: prompt-toolkit>=3.0.36 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from click-repl>=0.2.0->celery==5.4.0->-r requirements-dev.txt (line 11)) (3.0.51)
2025-08-18T15:45:03.2466427Z Requirement already satisfied: dnspython>=2.0.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from email-validator>=2.0.0->fastapi[all]->-r requirements-dev.txt (line 13)) (2.7.0)
2025-08-18T15:45:03.2536817Z Requirement already satisfied: typer>=0.15.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.16.0)
2025-08-18T15:45:03.2548259Z Requirement already satisfied: rich-toolkit>=0.14.8 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.15.0)
2025-08-18T15:45:03.2651698Z Collecting fastapi-cloud-cli>=0.1.1 (from fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-18T15:45:03.2663970Z   Using cached fastapi_cloud_cli-0.1.5-py3-none-any.whl.metadata (3.2 kB)
2025-08-18T15:45:03.3350310Z Collecting rignore>=0.5.1 (from fastapi-cloud-cli>=0.1.1->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-18T15:45:03.3364480Z   Using cached rignore-0.6.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.8 kB)
2025-08-18T15:45:03.3861586Z Collecting sentry-sdk>=2.20.0 (from fastapi-cloud-cli>=0.1.1->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13))
2025-08-18T15:45:03.3874119Z   Using cached sentry_sdk-2.35.0-py2.py3-none-any.whl.metadata (10 kB)
2025-08-18T15:45:03.4783310Z Collecting psutil>=4.0.0 (from mirakuru>=2.6.0->pytest-postgresql==7.0.2->-r requirements-dev.txt (line 29))
2025-08-18T15:45:03.4797688Z   Using cached psutil-7.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (22 kB)
2025-08-18T15:45:03.4989997Z Requirement already satisfied: wcwidth in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from prompt-toolkit>=3.0.36->click-repl>=0.2.0->celery==5.4.0->-r requirements-dev.txt (line 11)) (0.2.13)
2025-08-18T15:45:03.5191420Z Requirement already satisfied: rich>=13.7.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (14.1.0)
2025-08-18T15:45:03.5230138Z Requirement already satisfied: markdown-it-py>=2.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (4.0.0)
2025-08-18T15:45:03.5263336Z Requirement already satisfied: mdurl~=0.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from markdown-it-py>=2.2.0->rich>=13.7.1->rich-toolkit>=0.14.8->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.1.2)
2025-08-18T15:45:03.5454989Z Requirement already satisfied: shellingham>=1.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from typer>=0.15.1->fastapi-cli>=0.0.8->fastapi-cli[standard]>=0.0.8; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (1.5.4)
2025-08-18T15:45:03.5703455Z Requirement already satisfied: httptools>=0.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.6.4)
2025-08-18T15:45:03.5720952Z Requirement already satisfied: uvloop!=0.15.0,!=0.15.1,>=0.14.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (0.21.0)
2025-08-18T15:45:03.5729390Z Requirement already satisfied: watchfiles>=0.13 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (1.1.0)
2025-08-18T15:45:03.5737513Z Requirement already satisfied: websockets>=10.4 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from uvicorn[standard]>=0.12.0; extra == "all"->fastapi[all]->-r requirements-dev.txt (line 13)) (15.0.1)
2025-08-18T15:45:03.6187009Z Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
2025-08-18T15:45:03.6200579Z Using cached asyncpg-0.30.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.6 MB)
2025-08-18T15:45:03.6240288Z Using cached black-25.1.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl (1.8 MB)
2025-08-18T15:45:03.6265362Z Using cached fastapi-0.116.1-py3-none-any.whl (95 kB)
2025-08-18T15:45:03.6277540Z Using cached IMAPClient-3.0.1-py2.py3-none-any.whl (182 kB)
2025-08-18T15:45:03.6290419Z Using cached psycopg2_binary-2.9.9-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
2025-08-18T15:45:03.6324757Z Using cached pytest_asyncio-0.23.6-py3-none-any.whl (17 kB)
2025-08-18T15:45:03.6336051Z Using cached pytest_cov-6.2.1-py3-none-any.whl (24 kB)
2025-08-18T15:45:03.6347270Z Using cached pytest_postgresql-7.0.2-py3-none-any.whl (41 kB)
2025-08-18T15:45:03.6358773Z Using cached python_telegram_bot-22.2-py3-none-any.whl (708 kB)
2025-08-18T15:45:03.6375108Z Using cached respx-0.22.0-py2.py3-none-any.whl (25 kB)
2025-08-18T15:45:03.6386611Z Using cached ruff-0.4.4-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (8.7 MB)
2025-08-18T15:45:03.6461723Z Using cached testcontainers-4.10.0-py3-none-any.whl (107 kB)
2025-08-18T15:45:03.6473900Z Using cached types_requests-2.32.0.20240602-py3-none-any.whl (15 kB)
2025-08-18T15:45:03.6485157Z Using cached docspec_python-2.2.2-py3-none-any.whl (15 kB)
2025-08-18T15:45:03.6496253Z Using cached pydoc_markdown-4.8.2-py3-none-any.whl (67 kB)
2025-08-18T15:45:03.6507459Z Using cached docspec-2.2.1-py3-none-any.whl (9.8 kB)
2025-08-18T15:45:03.6518478Z Using cached httpx-0.28.1-py3-none-any.whl (73 kB)
2025-08-18T15:45:03.6530436Z Using cached mypy-1.17.1-cp312-cp312-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (12.7 MB)
2025-08-18T15:45:03.6634411Z Using cached databind.core-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-18T15:45:03.6645305Z Using cached databind-4.5.2-py3-none-any.whl (49 kB)
2025-08-18T15:45:03.6656613Z Using cached databind.json-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-18T15:45:03.6667736Z Using cached Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
2025-08-18T15:45:03.6679232Z Using cached nr_date-2.1.0-py3-none-any.whl (10 kB)
2025-08-18T15:45:03.6690144Z Using cached nr_stream-1.1.5-py3-none-any.whl (10 kB)
2025-08-18T15:45:03.6701736Z Using cached nr.util-0.8.12-py3-none-any.whl (90 kB)
2025-08-18T15:45:03.6713928Z Using cached pytest-8.4.1-py3-none-any.whl (365 kB)
2025-08-18T15:45:03.6727525Z Using cached pluggy-1.6.0-py3-none-any.whl (20 kB)
2025-08-18T15:45:03.6738727Z Using cached starlette-0.47.2-py3-none-any.whl (72 kB)
2025-08-18T15:45:03.6750516Z Using cached tomli-2.2.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (242 kB)
2025-08-18T15:45:03.6763279Z Using cached tomli_w-1.2.0-py3-none-any.whl (6.7 kB)
2025-08-18T15:45:03.6774439Z Using cached typeapi-2.2.4-py3-none-any.whl (26 kB)
2025-08-18T15:45:03.6785636Z Using cached itsdangerous-2.2.0-py3-none-any.whl (16 kB)
2025-08-18T15:45:03.6796973Z Using cached setuptools-80.9.0-py3-none-any.whl (1.2 MB)
2025-08-18T15:45:03.6817850Z Using cached coverage-7.10.4-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (251 kB)
2025-08-18T15:45:03.6830270Z Using cached fastapi_cloud_cli-0.1.5-py3-none-any.whl (18 kB)
2025-08-18T15:45:03.6841399Z Using cached iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
2025-08-18T15:45:03.6852637Z Using cached mirakuru-2.6.1-py3-none-any.whl (26 kB)
2025-08-18T15:45:03.6863942Z Using cached pathspec-0.12.1-py3-none-any.whl (31 kB)
2025-08-18T15:45:03.6875084Z Using cached platformdirs-4.3.8-py3-none-any.whl (18 kB)
2025-08-18T15:45:03.6886047Z Using cached port_for-0.7.4-py3-none-any.whl (21 kB)
2025-08-18T15:45:03.6897673Z Using cached psutil-7.0.0-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (277 kB)
2025-08-18T15:45:03.6910595Z Using cached pydantic_extra_types-2.10.5-py3-none-any.whl (38 kB)
2025-08-18T15:45:03.6922220Z Using cached rignore-0.6.4-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (949 kB)
2025-08-18T15:45:03.6940247Z Using cached sentry_sdk-2.35.0-py2.py3-none-any.whl (363 kB)
2025-08-18T15:45:03.6953816Z Using cached yapf-0.43.0-py3-none-any.whl (256 kB)
2025-08-18T15:45:03.6966526Z Using cached docker-7.1.0-py3-none-any.whl (147 kB)
2025-08-18T15:45:03.6978569Z Using cached watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl (79 kB)
2025-08-18T15:45:03.9275442Z Installing collected packages: watchdog, types-requests, typeapi, tomli_w, tomli, setuptools, sentry-sdk, ruff, rignore, psycopg2-binary, psutil, port-for, pluggy, platformdirs, pathspec, nr-stream, nr-date, Jinja2, itsdangerous, iniconfig, imapclient, docstring-parser, Deprecated, coverage, asyncpg, yapf, starlette, pytest, nr-util, mypy, mirakuru, httpx, docker, databind, black, testcontainers, respx, python-telegram-bot, pytest-postgresql, pytest-cov, pytest-asyncio, pydantic-extra-types, fastapi, databind.json, databind.core, fastapi-cloud-cli, docspec, docspec-python, pydoc-markdown
2025-08-18T15:45:05.1234766Z   Attempting uninstall: psycopg2-binary
2025-08-18T15:45:05.1295421Z     Found existing installation: psycopg2-binary 2.9.10
2025-08-18T15:45:05.1324894Z     Uninstalling psycopg2-binary-2.9.10:
2025-08-18T15:45:05.1336265Z       Successfully uninstalled psycopg2-binary-2.9.10
2025-08-18T15:45:05.4408827Z   Attempting uninstall: Jinja2
2025-08-18T15:45:05.4460645Z     Found existing installation: Jinja2 3.1.5
2025-08-18T15:45:05.4495022Z     Uninstalling Jinja2-3.1.5:
2025-08-18T15:45:05.4505015Z       Successfully uninstalled Jinja2-3.1.5
2025-08-18T15:45:05.7895045Z   Attempting uninstall: asyncpg
2025-08-18T15:45:05.7950602Z     Found existing installation: asyncpg 0.29.0
2025-08-18T15:45:05.7999715Z     Uninstalling asyncpg-0.29.0:
2025-08-18T15:45:05.8014061Z       Successfully uninstalled asyncpg-0.29.0
2025-08-18T15:45:06.0720841Z   Attempting uninstall: starlette
2025-08-18T15:45:06.0773831Z     Found existing installation: starlette 0.37.2
2025-08-18T15:45:06.0817016Z     Uninstalling starlette-0.37.2:
2025-08-18T15:45:06.0828012Z       Successfully uninstalled starlette-0.37.2
2025-08-18T15:45:07.8886847Z   Attempting uninstall: httpx
2025-08-18T15:45:07.8937279Z     Found existing installation: httpx 0.26.0
2025-08-18T15:45:07.8973690Z     Uninstalling httpx-0.26.0:
2025-08-18T15:45:07.8986603Z       Successfully uninstalled httpx-0.26.0
2025-08-18T15:45:08.3272286Z   Attempting uninstall: python-telegram-bot
2025-08-18T15:45:08.3324966Z     Found existing installation: python-telegram-bot 20.8
2025-08-18T15:45:08.3485236Z     Uninstalling python-telegram-bot-20.8:
2025-08-18T15:45:08.3508433Z       Successfully uninstalled python-telegram-bot-20.8
2025-08-18T15:45:08.7867495Z   Attempting uninstall: fastapi
2025-08-18T15:45:08.7913526Z     Found existing installation: fastapi 0.111.0
2025-08-18T15:45:08.7965638Z     Uninstalling fastapi-0.111.0:
2025-08-18T15:45:08.7977858Z       Successfully uninstalled fastapi-0.111.0
2025-08-18T15:45:08.9613078Z 
2025-08-18T15:45:08.9735923Z Successfully installed Deprecated-1.2.18 Jinja2-3.1.6 asyncpg-0.30.0 black-25.1.0 coverage-7.10.4 databind-4.5.2 databind.core-4.5.2 databind.json-4.5.2 docker-7.1.0 docspec-2.2.1 docspec-python-2.2.2 docstring-parser-0.11 fastapi-0.116.1 fastapi-cloud-cli-0.1.5 httpx-0.28.1 imapclient-3.0.1 iniconfig-2.1.0 itsdangerous-2.2.0 mirakuru-2.6.1 mypy-1.17.1 nr-date-2.1.0 nr-stream-1.1.5 nr-util-0.8.12 pathspec-0.12.1 platformdirs-4.3.8 pluggy-1.6.0 port-for-0.7.4 psutil-7.0.0 psycopg2-binary-2.9.9 pydantic-extra-types-2.10.5 pydoc-markdown-4.8.2 pytest-8.4.1 pytest-asyncio-0.23.6 pytest-cov-6.2.1 pytest-postgresql-7.0.2 python-telegram-bot-22.2 respx-0.22.0 rignore-0.6.4 ruff-0.4.4 sentry-sdk-2.35.0 setuptools-80.9.0 starlette-0.47.2 testcontainers-4.10.0 tomli-2.2.1 tomli_w-1.2.0 typeapi-2.2.4 types-requests-2.32.0.20240602 watchdog-6.0.0 yapf-0.43.0
2025-08-18T15:45:09.6876857Z Requirement already satisfied: asyncpg in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (0.30.0)
2025-08-18T15:45:10.3065173Z Requirement already satisfied: pytest in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (8.4.1)
2025-08-18T15:45:10.3079787Z Requirement already satisfied: iniconfig>=1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (2.1.0)
2025-08-18T15:45:10.3085642Z Requirement already satisfied: packaging>=20 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (25.0)
2025-08-18T15:45:10.3091053Z Requirement already satisfied: pluggy<2,>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (1.6.0)
2025-08-18T15:45:10.3096244Z Requirement already satisfied: pygments>=2.7.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pytest) (2.19.2)
2025-08-18T15:45:10.9884756Z Collecting keepa==1.3.15
2025-08-18T15:45:10.9899242Z   Using cached keepa-1.3.15-py3-none-any.whl.metadata (11 kB)
2025-08-18T15:45:10.9939479Z Requirement already satisfied: minio==7.1.15 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (7.1.15)
2025-08-18T15:45:10.9948952Z Requirement already satisfied: numpy>=1.9.3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (1.26.4)
2025-08-18T15:45:10.9955119Z Requirement already satisfied: requests>=2.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.32.4)
2025-08-18T15:45:10.9959304Z Requirement already satisfied: tqdm in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (4.67.1)
2025-08-18T15:45:10.9963746Z Requirement already satisfied: aiohttp in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (3.12.15)
2025-08-18T15:45:10.9969459Z Requirement already satisfied: pandas<=3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.2.3)
2025-08-18T15:45:10.9973704Z Requirement already satisfied: pydantic in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from keepa==1.3.15) (2.11.7)
2025-08-18T15:45:10.9985261Z Requirement already satisfied: certifi in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from minio==7.1.15) (2025.8.3)
2025-08-18T15:45:10.9989699Z Requirement already satisfied: urllib3 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from minio==7.1.15) (2.5.0)
2025-08-18T15:45:11.0044973Z Requirement already satisfied: python-dateutil>=2.8.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2.9.0.post0)
2025-08-18T15:45:11.0050685Z Requirement already satisfied: pytz>=2020.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2025.2)
2025-08-18T15:45:11.0056669Z Requirement already satisfied: tzdata>=2022.7 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pandas<=3.0->keepa==1.3.15) (2025.2)
2025-08-18T15:45:11.0191479Z Requirement already satisfied: six>=1.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from python-dateutil>=2.8.2->pandas<=3.0->keepa==1.3.15) (1.17.0)
2025-08-18T15:45:11.0211740Z Requirement already satisfied: charset_normalizer<4,>=2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests>=2.2->keepa==1.3.15) (3.4.3)
2025-08-18T15:45:11.0218221Z Requirement already satisfied: idna<4,>=2.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from requests>=2.2->keepa==1.3.15) (3.10)
2025-08-18T15:45:11.0288439Z Requirement already satisfied: aiohappyeyeballs>=2.5.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (2.6.1)
2025-08-18T15:45:11.0294468Z Requirement already satisfied: aiosignal>=1.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.4.0)
2025-08-18T15:45:11.0302247Z Requirement already satisfied: attrs>=17.3.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (25.3.0)
2025-08-18T15:45:11.0307911Z Requirement already satisfied: frozenlist>=1.1.1 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.7.0)
2025-08-18T15:45:11.0314533Z Requirement already satisfied: multidict<7.0,>=4.5 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (6.6.4)
2025-08-18T15:45:11.0320851Z Requirement already satisfied: propcache>=0.2.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (0.3.2)
2025-08-18T15:45:11.0327209Z Requirement already satisfied: yarl<2.0,>=1.17.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiohttp->keepa==1.3.15) (1.20.1)
2025-08-18T15:45:11.0387427Z Requirement already satisfied: typing-extensions>=4.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from aiosignal>=1.4.0->aiohttp->keepa==1.3.15) (4.14.1)
2025-08-18T15:45:11.0481777Z Requirement already satisfied: annotated-types>=0.6.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (0.7.0)
2025-08-18T15:45:11.0488076Z Requirement already satisfied: pydantic-core==2.33.2 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (2.33.2)
2025-08-18T15:45:11.0496807Z Requirement already satisfied: typing-inspection>=0.4.0 in /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages (from pydantic->keepa==1.3.15) (0.4.1)
2025-08-18T15:45:11.0578637Z Using cached keepa-1.3.15-py3-none-any.whl (38 kB)
2025-08-18T15:45:11.2295000Z Installing collected packages: keepa
2025-08-18T15:45:11.2295688Z   Attempting uninstall: keepa
2025-08-18T15:45:11.2329184Z     Found existing installation: keepa 1.3.14
2025-08-18T15:45:11.2352499Z     Uninstalling keepa-1.3.14:
2025-08-18T15:45:11.2360493Z       Successfully uninstalled keepa-1.3.14
2025-08-18T15:45:11.2842395Z Successfully installed keepa-1.3.15
2025-08-18T15:45:11.3613901Z ##[group]Run actions/setup-node@v4
2025-08-18T15:45:11.3614201Z with:
2025-08-18T15:45:11.3614411Z   node-version: 20.19.0
2025-08-18T15:45:11.3614624Z   always-auth: false
2025-08-18T15:45:11.3614820Z   check-latest: false
2025-08-18T15:45:11.3615121Z   token: ***
2025-08-18T15:45:11.3615304Z env:
2025-08-18T15:45:11.3615506Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:11.3615782Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:11.3616017Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:11.3616222Z   PG_USER: postgres
2025-08-18T15:45:11.3616415Z   PG_PASSWORD: pass
2025-08-18T15:45:11.3616619Z   PG_DATABASE: awa
2025-08-18T15:45:11.3616820Z   PG_HOST: localhost
2025-08-18T15:45:11.3617015Z   PG_PORT: 5432
2025-08-18T15:45:11.3617397Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:11.3617804Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:11.3618196Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:11.3618445Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:11.3618700Z   ENABLE_LIVE: 0
2025-08-18T15:45:11.3618888Z   TESTING: 1
2025-08-18T15:45:11.3619139Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:11.3619553Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:11.3619969Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:11.3620328Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:11.3620686Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:11.3621042Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:11.3621341Z ##[endgroup]
2025-08-18T15:45:11.5489285Z Attempting to download 20.19.0...
2025-08-18T15:45:11.8794514Z Acquiring 20.19.0 - x64 from https://github.com/actions/node-versions/releases/download/20.19.0-13838090974/node-20.19.0-linux-x64.tar.gz
2025-08-18T15:45:12.2978444Z Extracting ...
2025-08-18T15:45:12.3086969Z [command]/usr/bin/tar xz --strip 1 --warning=no-unknown-keyword --overwrite -C /home/runner/work/_temp/29a72ba2-3030-4927-824b-672016702bb7 -f /home/runner/work/_temp/b29f6f1d-d34a-4e7c-81cc-7fc470729ac2
2025-08-18T15:45:13.3080483Z Adding to the cache ...
2025-08-18T15:45:14.8869349Z ##[group]Environment details
2025-08-18T15:45:15.2034823Z node: v20.19.0
2025-08-18T15:45:15.2035331Z npm: 10.8.2
2025-08-18T15:45:15.2035716Z yarn: 1.22.22
2025-08-18T15:45:15.2036563Z ##[endgroup]
2025-08-18T15:45:15.2199408Z ##[group]Run npm ci
2025-08-18T15:45:15.2199679Z [36;1mnpm ci[0m
2025-08-18T15:45:15.2240814Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:15.2241059Z env:
2025-08-18T15:45:15.2241278Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:15.2241563Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:15.2241803Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:15.2242193Z   PG_USER: postgres
2025-08-18T15:45:15.2242398Z   PG_PASSWORD: pass
2025-08-18T15:45:15.2242597Z   PG_DATABASE: awa
2025-08-18T15:45:15.2242792Z   PG_HOST: localhost
2025-08-18T15:45:15.2242993Z   PG_PORT: 5432
2025-08-18T15:45:15.2243447Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:15.2243872Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:15.2244474Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:15.2244733Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:15.2244952Z   ENABLE_LIVE: 0
2025-08-18T15:45:15.2245145Z   TESTING: 1
2025-08-18T15:45:15.2245440Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:15.2245861Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:15.2246269Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:15.2246632Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:15.2246999Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:15.2247367Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:15.2247674Z ##[endgroup]
2025-08-18T15:45:18.0296326Z npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
2025-08-18T15:45:21.2958296Z 
2025-08-18T15:45:21.2959708Z added 432 packages, and audited 433 packages in 6s
2025-08-18T15:45:21.2960178Z 
2025-08-18T15:45:21.2960456Z 112 packages are looking for funding
2025-08-18T15:45:21.2960932Z   run `npm fund` for details
2025-08-18T15:45:21.2982524Z 
2025-08-18T15:45:21.2982846Z 2 vulnerabilities (1 low, 1 critical)
2025-08-18T15:45:21.2983175Z 
2025-08-18T15:45:21.2983457Z To address all issues, run:
2025-08-18T15:45:21.2983777Z   npm audit fix
2025-08-18T15:45:21.2983906Z 
2025-08-18T15:45:21.2984033Z Run `npm audit` for details.
2025-08-18T15:45:21.3269295Z ##[group]Run npm run build --if-present
2025-08-18T15:45:21.3269669Z [36;1mnpm run build --if-present[0m
2025-08-18T15:45:21.3315825Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:21.3316072Z env:
2025-08-18T15:45:21.3316290Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:21.3316576Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:21.3316824Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:21.3317043Z   PG_USER: postgres
2025-08-18T15:45:21.3317245Z   PG_PASSWORD: pass
2025-08-18T15:45:21.3317462Z   PG_DATABASE: awa
2025-08-18T15:45:21.3317658Z   PG_HOST: localhost
2025-08-18T15:45:21.3317864Z   PG_PORT: 5432
2025-08-18T15:45:21.3318322Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:21.3318756Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:21.3319151Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:21.3319405Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:21.3319632Z   ENABLE_LIVE: 0
2025-08-18T15:45:21.3319831Z   TESTING: 1
2025-08-18T15:45:21.3320114Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:21.3320559Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:21.3321004Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:21.3321390Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:21.3321774Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:21.3322358Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:21.3322696Z ##[endgroup]
2025-08-18T15:45:21.4575844Z 
2025-08-18T15:45:21.4576741Z > web@0.0.0 build
2025-08-18T15:45:21.4577268Z > tsc -b && vite build
2025-08-18T15:45:21.4577540Z 
2025-08-18T15:45:24.1260830Z [36mvite v7.0.4 [32mbuilding for production...[36m[39m
2025-08-18T15:45:24.3300137Z transforming...
2025-08-18T15:45:27.5686519Z [32m✓[39m 687 modules transformed.
2025-08-18T15:45:27.9401711Z rendering chunks...
2025-08-18T15:45:27.9623088Z computing gzip size...
2025-08-18T15:45:28.0114011Z [2mdist/[22m[32mindex.html                 [39m[1m[2m  0.46 kB[22m[1m[22m[2m │ gzip:   0.30 kB[22m
2025-08-18T15:45:28.0115356Z [2mdist/[22m[2massets/[22m[35mindex-5IA1gRGW.css  [39m[1m[2m  0.84 kB[22m[1m[22m[2m │ gzip:   0.45 kB[22m
2025-08-18T15:45:28.0116709Z [2mdist/[22m[2massets/[22m[36mindex-CIqpArhq.js   [39m[1m[33m613.66 kB[39m[22m[2m │ gzip: 193.69 kB[22m
2025-08-18T15:45:28.0148530Z [32m✓ built in 3.87s[39m
2025-08-18T15:45:28.0172721Z [33m
2025-08-18T15:45:28.0173782Z (!) Some chunks are larger than 500 kB after minification. Consider:
2025-08-18T15:45:28.0174490Z - Using dynamic import() to code-split the application
2025-08-18T15:45:28.0175688Z - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
2025-08-18T15:45:28.0177009Z - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.[39m
2025-08-18T15:45:28.0987086Z ##[group]Run sudo apt-get update
2025-08-18T15:45:28.0987406Z [36;1msudo apt-get update[0m
2025-08-18T15:45:28.0987675Z [36;1msudo apt-get install -y postgresql[0m
2025-08-18T15:45:28.0988172Z [36;1mecho "/usr/lib/postgresql/$(pg_config --version | cut -d' ' -f2 | cut -d'.' -f1,2)/bin" >> $GITHUB_PATH[0m
2025-08-18T15:45:28.1029931Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:28.1030179Z env:
2025-08-18T15:45:28.1030406Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:28.1030702Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:28.1030967Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:28.1031190Z   PG_USER: postgres
2025-08-18T15:45:28.1031412Z   PG_PASSWORD: pass
2025-08-18T15:45:28.1031625Z   PG_DATABASE: awa
2025-08-18T15:45:28.1031830Z   PG_HOST: localhost
2025-08-18T15:45:28.1032254Z   PG_PORT: 5432
2025-08-18T15:45:28.1032703Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:28.1033223Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:28.1033667Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:28.1033935Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:28.1034162Z   ENABLE_LIVE: 0
2025-08-18T15:45:28.1034362Z   TESTING: 1
2025-08-18T15:45:28.1034626Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:28.1035063Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:28.1035484Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:28.1035872Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:28.1036255Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:28.1036654Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:28.1036980Z ##[endgroup]
2025-08-18T15:45:28.2083399Z Get:1 file:/etc/apt/apt-mirrors.txt Mirrorlist [144 B]
2025-08-18T15:45:28.2453951Z Hit:2 http://azure.archive.ubuntu.com/ubuntu noble InRelease
2025-08-18T15:45:28.2508563Z Get:3 http://azure.archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
2025-08-18T15:45:28.2674203Z Get:4 http://azure.archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
2025-08-18T15:45:28.2719249Z Get:5 http://azure.archive.ubuntu.com/ubuntu noble-security InRelease [126 kB]
2025-08-18T15:45:28.2795006Z Hit:6 https://packages.microsoft.com/repos/azure-cli noble InRelease
2025-08-18T15:45:28.2903617Z Get:7 https://packages.microsoft.com/ubuntu/24.04/prod noble InRelease [3600 B]
2025-08-18T15:45:28.4168719Z Get:8 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [1325 kB]
2025-08-18T15:45:28.4317023Z Get:9 http://azure.archive.ubuntu.com/ubuntu noble-updates/main Translation-en [265 kB]
2025-08-18T15:45:28.4339394Z Get:10 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 Components [175 kB]
2025-08-18T15:45:28.4356061Z Get:11 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [1120 kB]
2025-08-18T15:45:28.4428009Z Get:12 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe Translation-en [287 kB]
2025-08-18T15:45:28.4449434Z Get:13 http://azure.archive.ubuntu.com/ubuntu noble-updates/universe amd64 Components [377 kB]
2025-08-18T15:45:28.4485093Z Get:14 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [1672 kB]
2025-08-18T15:45:28.4574534Z Get:15 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted Translation-en [367 kB]
2025-08-18T15:45:28.4600054Z Get:16 http://azure.archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Components [212 B]
2025-08-18T15:45:28.4605877Z Get:17 http://azure.archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Components [940 B]
2025-08-18T15:45:28.5256251Z Get:18 http://azure.archive.ubuntu.com/ubuntu noble-backports/main amd64 Components [7076 B]
2025-08-18T15:45:28.5268871Z Get:19 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Packages [30.2 kB]
2025-08-18T15:45:28.5276990Z Get:20 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe Translation-en [17.4 kB]
2025-08-18T15:45:28.5284813Z Get:21 http://azure.archive.ubuntu.com/ubuntu noble-backports/universe amd64 Components [19.2 kB]
2025-08-18T15:45:28.5290711Z Get:22 http://azure.archive.ubuntu.com/ubuntu noble-backports/restricted amd64 Components [216 B]
2025-08-18T15:45:28.5296876Z Get:23 http://azure.archive.ubuntu.com/ubuntu noble-backports/multiverse amd64 Components [212 B]
2025-08-18T15:45:28.5304568Z Get:24 http://azure.archive.ubuntu.com/ubuntu noble-security/main amd64 Packages [1065 kB]
2025-08-18T15:45:28.5380682Z Get:25 http://azure.archive.ubuntu.com/ubuntu noble-security/main Translation-en [185 kB]
2025-08-18T15:45:28.5400535Z Get:26 http://azure.archive.ubuntu.com/ubuntu noble-security/main amd64 Components [21.6 kB]
2025-08-18T15:45:28.5443702Z Get:27 http://azure.archive.ubuntu.com/ubuntu noble-security/universe amd64 Packages [879 kB]
2025-08-18T15:45:28.5491853Z Get:28 http://azure.archive.ubuntu.com/ubuntu noble-security/universe Translation-en [194 kB]
2025-08-18T15:45:28.5514202Z Get:29 http://azure.archive.ubuntu.com/ubuntu noble-security/universe amd64 Components [52.3 kB]
2025-08-18T15:45:28.5551494Z Get:30 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [1587 kB]
2025-08-18T15:45:28.5760962Z Get:31 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted Translation-en [350 kB]
2025-08-18T15:45:28.6334032Z Get:32 http://azure.archive.ubuntu.com/ubuntu noble-security/restricted amd64 Components [212 B]
2025-08-18T15:45:28.6355208Z Get:33 http://azure.archive.ubuntu.com/ubuntu noble-security/multiverse amd64 Components [212 B]
2025-08-18T15:45:28.6936250Z Get:34 https://packages.microsoft.com/ubuntu/24.04/prod noble/main amd64 Packages [47.9 kB]
2025-08-18T15:45:28.6992117Z Get:35 https://packages.microsoft.com/ubuntu/24.04/prod noble/main arm64 Packages [33.1 kB]
2025-08-18T15:45:34.9614962Z Fetched 10.5 MB in 1s (8184 kB/s)
2025-08-18T15:45:35.6769293Z Reading package lists...
2025-08-18T15:45:35.7097158Z Reading package lists...
2025-08-18T15:45:35.8715556Z Building dependency tree...
2025-08-18T15:45:35.8722979Z Reading state information...
2025-08-18T15:45:36.0356160Z Suggested packages:
2025-08-18T15:45:36.0356644Z   postgresql-doc
2025-08-18T15:45:36.0662512Z The following NEW packages will be installed:
2025-08-18T15:45:36.0663475Z   postgresql
2025-08-18T15:45:36.0849947Z 0 upgraded, 1 newly installed, 0 to remove and 36 not upgraded.
2025-08-18T15:45:36.0850676Z Need to get 11.6 kB of archives.
2025-08-18T15:45:36.0851211Z After this operation, 17.4 kB of additional disk space will be used.
2025-08-18T15:45:36.0851787Z Get:1 file:/etc/apt/apt-mirrors.txt Mirrorlist [144 B]
2025-08-18T15:45:36.1185982Z Get:2 http://azure.archive.ubuntu.com/ubuntu noble-updates/main amd64 postgresql all 16+257build1.1 [11.6 kB]
2025-08-18T15:45:36.4216093Z Fetched 11.6 kB in 0s (261 kB/s)
2025-08-18T15:45:36.4548582Z Selecting previously unselected package postgresql.
2025-08-18T15:45:36.5168067Z (Reading database ... 
2025-08-18T15:45:36.5168548Z (Reading database ... 5%
2025-08-18T15:45:36.5168862Z (Reading database ... 10%
2025-08-18T15:45:36.5169122Z (Reading database ... 15%
2025-08-18T15:45:36.5169385Z (Reading database ... 20%
2025-08-18T15:45:36.5169659Z (Reading database ... 25%
2025-08-18T15:45:36.5169915Z (Reading database ... 30%
2025-08-18T15:45:36.5170172Z (Reading database ... 35%
2025-08-18T15:45:36.5170423Z (Reading database ... 40%
2025-08-18T15:45:36.5170673Z (Reading database ... 45%
2025-08-18T15:45:36.5170922Z (Reading database ... 50%
2025-08-18T15:45:36.6480241Z (Reading database ... 55%
2025-08-18T15:45:36.7920303Z (Reading database ... 60%
2025-08-18T15:45:37.0049882Z (Reading database ... 65%
2025-08-18T15:45:37.2302679Z (Reading database ... 70%
2025-08-18T15:45:37.3067383Z (Reading database ... 75%
2025-08-18T15:45:37.7815856Z (Reading database ... 80%
2025-08-18T15:45:38.4550432Z (Reading database ... 85%
2025-08-18T15:45:39.1440943Z (Reading database ... 90%
2025-08-18T15:45:39.7581063Z (Reading database ... 95%
2025-08-18T15:45:39.7581762Z (Reading database ... 100%
2025-08-18T15:45:39.7582447Z (Reading database ... 219881 files and directories currently installed.)
2025-08-18T15:45:39.7630490Z Preparing to unpack .../postgresql_16+257build1.1_all.deb ...
2025-08-18T15:45:39.7651800Z Unpacking postgresql (16+257build1.1) ...
2025-08-18T15:45:39.8267924Z Setting up postgresql (16+257build1.1) ...
2025-08-18T15:45:40.7854157Z 
2025-08-18T15:45:40.7854783Z Running kernel seems to be up-to-date.
2025-08-18T15:45:40.7855187Z 
2025-08-18T15:45:40.7855387Z Restarting services...
2025-08-18T15:45:40.7925378Z 
2025-08-18T15:45:40.7925987Z Service restarts being deferred:
2025-08-18T15:45:40.7927368Z  systemctl restart hosted-compute-agent.service
2025-08-18T15:45:40.7927725Z 
2025-08-18T15:45:40.7927968Z No containers need to be restarted.
2025-08-18T15:45:40.7928249Z 
2025-08-18T15:45:40.7928531Z No user sessions are running outdated binaries.
2025-08-18T15:45:40.7928840Z 
2025-08-18T15:45:40.7929135Z No VM guests are running outdated hypervisor (qemu) binaries on this host.
2025-08-18T15:45:41.7173286Z ##[group]Run for i in {1..30}; do pg_isready -h localhost -p 5432 -U postgres -d awa && break; sleep 1; done
2025-08-18T15:45:41.7174072Z [36;1mfor i in {1..30}; do pg_isready -h localhost -p 5432 -U postgres -d awa && break; sleep 1; done[0m
2025-08-18T15:45:41.7218346Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:41.7218598Z env:
2025-08-18T15:45:41.7218834Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:41.7219279Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:41.7219672Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:41.7220070Z   PG_USER: postgres
2025-08-18T15:45:41.7220443Z   PG_PASSWORD: pass
2025-08-18T15:45:41.7220814Z   PG_DATABASE: awa
2025-08-18T15:45:41.7221130Z   PG_HOST: localhost
2025-08-18T15:45:41.7221469Z   PG_PORT: 5432
2025-08-18T15:45:41.7222343Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:41.7222828Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:41.7223246Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:41.7223531Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:41.7223747Z   ENABLE_LIVE: 0
2025-08-18T15:45:41.7223932Z   TESTING: 1
2025-08-18T15:45:41.7224182Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7224594Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:41.7225005Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7225368Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7225766Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7226162Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:41.7226469Z ##[endgroup]
2025-08-18T15:45:41.7797822Z localhost:5432 - accepting connections
2025-08-18T15:45:41.7832162Z ##[group]Run alembic -c services/api/alembic.ini upgrade head
2025-08-18T15:45:41.7832631Z [36;1malembic -c services/api/alembic.ini upgrade head[0m
2025-08-18T15:45:41.7873849Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:41.7874099Z env:
2025-08-18T15:45:41.7874318Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:41.7874608Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:41.7874859Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:41.7875078Z   PG_USER: postgres
2025-08-18T15:45:41.7875288Z   PG_PASSWORD: pass
2025-08-18T15:45:41.7875499Z   PG_DATABASE: awa
2025-08-18T15:45:41.7875705Z   PG_HOST: localhost
2025-08-18T15:45:41.7875911Z   PG_PORT: 5432
2025-08-18T15:45:41.7876347Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:41.7876811Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:41.7877427Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:41.7877695Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:45:41.7877921Z   ENABLE_LIVE: 0
2025-08-18T15:45:41.7878142Z   TESTING: 1
2025-08-18T15:45:41.7878407Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7878851Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:41.7879295Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7879684Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7880068Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:41.7880454Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:41.7880785Z   POSTGRES_USER: postgres
2025-08-18T15:45:41.7881021Z   POSTGRES_PASSWORD: pass
2025-08-18T15:45:41.7881240Z   POSTGRES_DB: awa
2025-08-18T15:45:41.7881445Z ##[endgroup]
2025-08-18T15:45:42.6352096Z INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
2025-08-18T15:45:42.6353250Z INFO  [alembic.runtime.migration] Will assume transactional DDL.
2025-08-18T15:45:42.6522373Z INFO  [alembic.runtime.migration] Running upgrade  -> 0001_baseline
2025-08-18T15:45:42.6671474Z INFO  [alembic.runtime.migration] Running upgrade 0001_baseline -> 0002_create_roi_view
2025-08-18T15:45:42.6698228Z INFO  [alembic.runtime.migration] Running upgrade 0002_create_roi_view -> 3e9d5c5aff2c
2025-08-18T15:45:42.6876375Z INFO  [alembic.runtime.migration] Running upgrade 3e9d5c5aff2c -> 0003_vendor_prices
2025-08-18T15:45:42.7038619Z INFO  [alembic.runtime.migration] Running upgrade 0003_vendor_prices -> 0004_fee_cron
2025-08-18T15:45:42.7117472Z INFO  [alembic.runtime.migration] Running upgrade 0004_fee_cron -> 0006_fix_roi_views
2025-08-18T15:45:42.7150806Z INFO  [alembic.runtime.migration] Running upgrade 0006_fix_roi_views -> 0020_unified_schema
2025-08-18T15:45:42.7274543Z INFO  [alembic.runtime.migration] Running upgrade 0020_unified_schema -> 0022_fix_roi_view
2025-08-18T15:45:42.7341221Z INFO  [alembic.runtime.migration] Running upgrade 0022_fix_roi_view -> 0023_add_storage_fee
2025-08-18T15:45:42.7382693Z INFO  [alembic.runtime.migration] Running upgrade 0023_add_storage_fee -> 0024_create_buybox
2025-08-18T15:45:42.7408949Z INFO  [alembic.runtime.migration] Running upgrade 0024_create_buybox -> 0025_pr4_indexes_loadlog
2025-08-18T15:45:42.7645596Z INFO  [alembic.runtime.migration] Running upgrade 0025_pr4_indexes_loadlog -> 0026_amazon_new_reports
2025-08-18T15:45:42.8861364Z ##[group]Run pytest -q --cov=services
2025-08-18T15:45:42.8861707Z [36;1mpytest -q --cov=services[0m
2025-08-18T15:45:42.8904141Z shell: /usr/bin/bash -e {0}
2025-08-18T15:45:42.8904496Z env:
2025-08-18T15:45:42.8904798Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:45:42.8905241Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:45:42.8905693Z   TRUST_X_FORWARDED: 1
2025-08-18T15:45:42.8906071Z   PG_USER: postgres
2025-08-18T15:45:42.8906372Z   PG_PASSWORD: pass
2025-08-18T15:45:42.8906697Z   PG_DATABASE: awa
2025-08-18T15:45:42.8906989Z   PG_HOST: localhost
2025-08-18T15:45:42.8907296Z   PG_PORT: 5432
2025-08-18T15:45:42.8907921Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:42.8908583Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:45:42.8909084Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:45:42.8909359Z   DATA_DIR: /home/runner/work/_temp/awa-data
2025-08-18T15:45:42.8909622Z   ENABLE_LIVE: 0
2025-08-18T15:45:42.8909812Z   TESTING: 1
2025-08-18T15:45:42.8910099Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:42.8910544Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:45:42.8910955Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:42.8911329Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:42.8911806Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:45:42.8924071Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:45:42.8924645Z   POSTGRES_USER: postgres
2025-08-18T15:45:42.8924889Z   POSTGRES_PASSWORD: pass
2025-08-18T15:45:42.8925101Z   POSTGRES_DB: awa
2025-08-18T15:45:42.8925288Z   LLM_PROVIDER: lan
2025-08-18T15:45:42.8925507Z   LLM_BASE_URL: http://localhost:8000
2025-08-18T15:45:42.8925757Z ##[endgroup]
2025-08-18T15:46:13.7543851Z .....FFFs.............................sssssss.....F..................... [ 47%]
2025-08-18T15:46:46.3197502Z ...............................F.F...................................... [ 94%]
2025-08-18T15:46:46.7779656Z ........                                                                 [100%]
2025-08-18T15:46:46.7780655Z =================================== FAILURES ===================================
2025-08-18T15:46:46.7781693Z ___________________________ test_ingest_file_upload ____________________________
2025-08-18T15:46:46.7782514Z 
2025-08-18T15:46:46.7783157Z monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f2a2d166390>
2025-08-18T15:46:46.7784495Z tmp_path = PosixPath('/tmp/pytest-of-runner/pytest-0/test_ingest_file_upload0')
2025-08-18T15:46:46.7785088Z 
2025-08-18T15:46:46.7785385Z     def test_ingest_file_upload(monkeypatch, tmp_path) -> None:
2025-08-18T15:46:46.7786036Z         def fake_import_file(path: str, report_type=None, celery_update=None, force=False):
2025-08-18T15:46:46.7786932Z             return {"rows": 2, "dialect": "returns_report", "target_table": "returns_raw"}
2025-08-18T15:46:46.7787621Z     
2025-08-18T15:46:46.7788264Z         monkeypatch.setattr("etl.load_csv.import_file", fake_import_file)
2025-08-18T15:46:46.7789036Z         client = _get_client(monkeypatch)
2025-08-18T15:46:46.7789518Z     
2025-08-18T15:46:46.7790200Z >       resp = client.post("/ingest", files={"file": ("test.csv", b"a,b\n1,2\n")})
2025-08-18T15:46:46.7790733Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7790974Z 
2025-08-18T15:46:46.7791178Z tests/api/test_ingest_endpoints.py:33: 
2025-08-18T15:46:46.7791673Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.7792906Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post
2025-08-18T15:46:46.7793891Z     return super().post(
2025-08-18T15:46:46.7794806Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post
2025-08-18T15:46:46.7795541Z     return self.request(
2025-08-18T15:46:46.7796528Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.7797042Z     return super().request(
2025-08-18T15:46:46.7797580Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.7798472Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.7799137Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7800086Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.7800884Z     response = self._send_handling_auth(
2025-08-18T15:46:46.7801595Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.7802249Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.7802912Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.7803494Z     response = self._send_single_request(request)
2025-08-18T15:46:46.7803801Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7804754Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.7805682Z     response = transport.handle_request(request)
2025-08-18T15:46:46.7806184Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7807453Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.7808290Z     raise exc
2025-08-18T15:46:46.7809214Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.7810129Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.7810913Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.7811484Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.7811858Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7812701Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.7813173Z     return self.__get_result()
2025-08-18T15:46:46.7813418Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7814107Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.7814876Z     raise self._exception
2025-08-18T15:46:46.7815794Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.7816626Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.7817050Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7818028Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.7819069Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.7820103Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.7820771Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.7821425Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.7822096Z     raise exc
2025-08-18T15:46:46.7822702Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.7823241Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.7823866Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.7824455Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.7825312Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.7826012Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.7826763Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.7827271Z     raise exc
2025-08-18T15:46:46.7827832Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.7828463Z     await app(scope, receive, sender)
2025-08-18T15:46:46.7829074Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.7829646Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.7830232Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.7830733Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.7831325Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.7831820Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.7832481Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.7833064Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.7833795Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.7834433Z     raise exc
2025-08-18T15:46:46.7834993Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.7835532Z     await app(scope, receive, sender)
2025-08-18T15:46:46.7836070Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.7836544Z     response = await f(request)
2025-08-18T15:46:46.7838830Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7839676Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.7840478Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.7841586Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.7842778Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.7843265Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7843685Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.7843906Z 
2025-08-18T15:46:46.7844163Z self = <fastapi_limiter.depends.RateLimiter object at 0x7f2a2d19f320>
2025-08-18T15:46:46.7844668Z request = <starlette.requests.Request object at 0x7f2a2b01b830>
2025-08-18T15:46:46.7845165Z response = <starlette.responses.Response object at 0x7f2a2b01be60>
2025-08-18T15:46:46.7845434Z 
2025-08-18T15:46:46.7845633Z     async def __call__(self, request: Request, response: Response):
2025-08-18T15:46:46.7845994Z         if not FastAPILimiter.redis:
2025-08-18T15:46:46.7846484Z >           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
2025-08-18T15:46:46.7847069Z E           Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:46.7847356Z 
2025-08-18T15:46:46.7847789Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:37: Exception
2025-08-18T15:46:46.7848430Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:46.7893957Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "7a506ba794c04ed68b7cdba400b4d20f", "level": "error", "timestamp": "2025-08-18T15:45:48.919676Z", "exception": [{"exc_type": "Exception", "exc_value": "You must call FastAPILimiter.init in startup event of fastapi!", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2b01b470>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2d24fba0>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2d1332e0>", "exc": "Exception('You must call FastAPILimiter.init in startup event of fastapi!')", "request": "<starlette.requests.Request object at 0x7f2a2b01b7d0>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2d1332e0>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+226", "header_value": "None", "validation_failed": "False", "id_value": "7a506ba794c04ed68b7cdba400b4d20f", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2d0cd1c0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2b01b680>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d651010>", "conn": "<starlette.requests.Request object at 0x7f2a2b01b680>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d651010>", "conn": "<starlette.requests.Request object at 0x7f2a2b01b680>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d651010>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d651010>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function submit_ingest at 0x7f2a2d24d260>, 'path_params': {}, 'rou\"+70"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2abe6020>", "request": "<starlette.requests.Request object at 0x7f2a2b01b830>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d24e0c0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2abe6020>", "conn": "<starlette.requests.Request object at 0x7f2a2b01b830>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2abe6020>", "conn": "<starlette.requests.Request object at 0x7f2a2b01b830>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1570", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2d24fb00'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d24e0c0>", "request": "<starlette.requests.Request object at 0x7f2a2b01b830>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2b01b830>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b01b980>", "body": "\"FormData([('file', UploadFile(filename='test.csv', size=8, headers=Headers({'con\"+98", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b01bbf0>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "ModelField(field_info=File(None), name='body', mode='validation')", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2de1b410>", "embed_body_fields": "True", "is_body_form": "True", "is_coroutine": "True", "response_field": "'ModelField(field_info=FieldInfo(annotation=Dict[str, Any], required=True), name='+59", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2b01b830>", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "body": "\"FormData([('file', UploadFile(filename='test.csv', size=8, headers=Headers({'con\"+98", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2b01be60>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2de1b410>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b01bbf0>", "embed_body_fields": "True", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d19f320>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 37, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d19f320>", "request": "<starlette.requests.Request object at 0x7f2a2b01b830>", "response": "<starlette.responses.Response object at 0x7f2a2b01be60>"}}]}]}
2025-08-18T15:46:46.7927478Z _____________________________ test_ingest_json_uri _____________________________
2025-08-18T15:46:46.7927729Z 
2025-08-18T15:46:46.7928004Z monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f2a2ac1db80>
2025-08-18T15:46:46.7928675Z tmp_path = PosixPath('/tmp/pytest-of-runner/pytest-0/test_ingest_json_uri0')
2025-08-18T15:46:46.7928979Z 
2025-08-18T15:46:46.7929166Z     def test_ingest_json_uri(monkeypatch, tmp_path) -> None:
2025-08-18T15:46:46.7929689Z         def fake_import_file(path: str, report_type=None, celery_update=None, force=False):
2025-08-18T15:46:46.7930218Z             return {"rows": 1, "dialect": "returns_report", "target_table": "returns_raw"}
2025-08-18T15:46:46.7930558Z     
2025-08-18T15:46:46.7930872Z         monkeypatch.setattr("etl.load_csv.import_file", fake_import_file)
2025-08-18T15:46:46.7931264Z         client = _get_client(monkeypatch)
2025-08-18T15:46:46.7931507Z     
2025-08-18T15:46:46.7931710Z         f = tmp_path / "sample.csv"
2025-08-18T15:46:46.7932085Z         f.write_text("a,b\n1,2\n")
2025-08-18T15:46:46.7932317Z     
2025-08-18T15:46:46.7932623Z >       resp = client.post("/ingest", json={"uri": f"file://{f}"})
2025-08-18T15:46:46.7932987Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7933176Z 
2025-08-18T15:46:46.7933321Z tests/api/test_ingest_endpoints.py:55: 
2025-08-18T15:46:46.7933700Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.7934319Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post
2025-08-18T15:46:46.7934806Z     return super().post(
2025-08-18T15:46:46.7935324Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post
2025-08-18T15:46:46.7935905Z     return self.request(
2025-08-18T15:46:46.7936463Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.7936951Z     return super().request(
2025-08-18T15:46:46.7937470Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.7938068Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.7938470Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7939021Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.7939501Z     response = self._send_handling_auth(
2025-08-18T15:46:46.7940109Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.7940650Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.7941292Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.7941853Z     response = self._send_single_request(request)
2025-08-18T15:46:46.7942287Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7942898Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.7943449Z     response = transport.handle_request(request)
2025-08-18T15:46:46.7943758Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7944363Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.7944853Z     raise exc
2025-08-18T15:46:46.7945397Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.7945939Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.7946520Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.7947090Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.7947558Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7948102Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.7948678Z     return self.__get_result()
2025-08-18T15:46:46.7948930Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7949453Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.7949915Z     raise self._exception
2025-08-18T15:46:46.7950464Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.7950970Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.7951242Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7952124Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.7952828Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.7953460Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.7954013Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.7954681Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.7955179Z     raise exc
2025-08-18T15:46:46.7955730Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.7956272Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.7956903Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.7957666Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.7958359Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.7959023Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.7959758Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.7960262Z     raise exc
2025-08-18T15:46:46.7960823Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.7961362Z     await app(scope, receive, sender)
2025-08-18T15:46:46.7962050Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.7962594Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.7963181Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.7963678Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.7964251Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.7964744Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.7965298Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.7965879Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.7966601Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.7967104Z     raise exc
2025-08-18T15:46:46.7967664Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.7968205Z     await app(scope, receive, sender)
2025-08-18T15:46:46.7968751Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.7969225Z     response = await f(request)
2025-08-18T15:46:46.7969477Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7969991Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.7970484Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.7971339Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.7972030Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.7972335Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.7972697Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.7972914Z 
2025-08-18T15:46:46.7973163Z self = <fastapi_limiter.depends.RateLimiter object at 0x7f2a2afe0c80>
2025-08-18T15:46:46.7973645Z request = <starlette.requests.Request object at 0x7f2a2b002ff0>
2025-08-18T15:46:46.7974132Z response = <starlette.responses.Response object at 0x7f2a2b003290>
2025-08-18T15:46:46.7974391Z 
2025-08-18T15:46:46.7974585Z     async def __call__(self, request: Request, response: Response):
2025-08-18T15:46:46.7974944Z         if not FastAPILimiter.redis:
2025-08-18T15:46:46.7975426Z >           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
2025-08-18T15:46:46.7976007Z E           Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:46.7976287Z 
2025-08-18T15:46:46.7976720Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:37: Exception
2025-08-18T15:46:46.7977381Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:46.8021888Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "9f426b6e8ced41be9f83a2ce372ca008", "level": "error", "timestamp": "2025-08-18T15:45:49.491477Z", "exception": [{"exc_type": "Exception", "exc_value": "You must call FastAPILimiter.init in startup event of fastapi!", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2b002e10>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2d24f560>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2afd96c0>", "exc": "Exception('You must call FastAPILimiter.init in startup event of fastapi!')", "request": "<starlette.requests.Request object at 0x7f2a2b002fc0>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2afd96c0>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+179", "header_value": "None", "validation_failed": "False", "id_value": "9f426b6e8ced41be9f83a2ce372ca008", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2b0029f0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2b002ed0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d19e2a0>", "conn": "<starlette.requests.Request object at 0x7f2a2b002ed0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d19e2a0>", "conn": "<starlette.requests.Request object at 0x7f2a2b002ed0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d19e2a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d19e2a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function submit_ingest at 0x7f2a2a9ae980>, 'path_params': {}, 'rou\"+70"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2afda0c0>", "request": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2a9afce0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2afda0c0>", "conn": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2afda0c0>", "conn": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac4b2e0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2a9afce0>", "request": "<starlette.requests.Request object at 0x7f2a2b002ff0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b003140>", "body": "FormData([])", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b003260>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "ModelField(field_info=File(None), name='body', mode='validation')", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2dfda030>", "embed_body_fields": "True", "is_body_form": "True", "is_coroutine": "True", "response_field": "'ModelField(field_info=FieldInfo(annotation=Dict[str, Any], required=True), name='+59", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "body": "FormData([])", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2b003290>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2dfda030>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2b003260>", "embed_body_fields": "True", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2afe0c80>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 37, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2afe0c80>", "request": "<starlette.requests.Request object at 0x7f2a2b002ff0>", "response": "<starlette.responses.Response object at 0x7f2a2b003290>"}}]}]}
2025-08-18T15:46:46.8055154Z _____________________________ test_ingest_failure ______________________________
2025-08-18T15:46:46.8055397Z 
2025-08-18T15:46:46.8055665Z monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f2a2b01b6b0>
2025-08-18T15:46:46.8056215Z tmp_path = PosixPath('/tmp/pytest-of-runner/pytest-0/test_ingest_failure0')
2025-08-18T15:46:46.8056620Z 
2025-08-18T15:46:46.8056804Z     def test_ingest_failure(monkeypatch, tmp_path) -> None:
2025-08-18T15:46:46.8057279Z         def bad_import_file(path: str, report_type=None, celery_update=None, force=False):
2025-08-18T15:46:46.8057686Z             raise RuntimeError("boom")
2025-08-18T15:46:46.8057928Z     
2025-08-18T15:46:46.8058233Z         monkeypatch.setattr("etl.load_csv.import_file", bad_import_file)
2025-08-18T15:46:46.8058619Z         client = _get_client(monkeypatch)
2025-08-18T15:46:46.8058954Z         from services.ingest.celery_app import celery_app
2025-08-18T15:46:46.8059231Z     
2025-08-18T15:46:46.8059467Z         celery_app.conf.task_eager_propagates = False
2025-08-18T15:46:46.8059732Z     
2025-08-18T15:46:46.8059925Z         f = tmp_path / "bad.csv"
2025-08-18T15:46:46.8060193Z         f.write_text("a,b\n1,2\n")
2025-08-18T15:46:46.8060422Z     
2025-08-18T15:46:46.8060719Z >       resp = client.post("/ingest", json={"uri": f"file://{f}"})
2025-08-18T15:46:46.8061083Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8061265Z 
2025-08-18T15:46:46.8061418Z tests/api/test_ingest_endpoints.py:77: 
2025-08-18T15:46:46.8061789Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8062526Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:552: in post
2025-08-18T15:46:46.8063005Z     return super().post(
2025-08-18T15:46:46.8063516Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1144: in post
2025-08-18T15:46:46.8063965Z     return self.request(
2025-08-18T15:46:46.8064513Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.8064991Z     return super().request(
2025-08-18T15:46:46.8065509Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.8066099Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.8066501Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8067051Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.8067524Z     response = self._send_handling_auth(
2025-08-18T15:46:46.8068263Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.8068805Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.8069438Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.8069991Z     response = self._send_single_request(request)
2025-08-18T15:46:46.8070307Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8070913Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.8071472Z     response = transport.handle_request(request)
2025-08-18T15:46:46.8071779Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8072489Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.8072994Z     raise exc
2025-08-18T15:46:46.8073544Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.8074093Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.8074668Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.8075236Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.8075614Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8076153Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.8076736Z     return self.__get_result()
2025-08-18T15:46:46.8076983Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8077509Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.8077968Z     raise self._exception
2025-08-18T15:46:46.8078515Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.8079023Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.8079299Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8079873Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.8080400Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.8081013Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.8081568Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8082324Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.8082820Z     raise exc
2025-08-18T15:46:46.8083372Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.8083916Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.8084556Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.8085146Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.8085830Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.8086488Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.8087219Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8087725Z     raise exc
2025-08-18T15:46:46.8088282Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8088823Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8089391Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.8090042Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8090635Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.8091132Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.8091707Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.8092306Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.8092861Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.8093448Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.8094175Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8094676Z     raise exc
2025-08-18T15:46:46.8095235Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8095782Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8096327Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.8096799Z     response = await f(request)
2025-08-18T15:46:46.8097045Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8097552Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.8098049Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.8098851Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.8099438Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.8099742Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8100104Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8100315Z 
2025-08-18T15:46:46.8100565Z self = <fastapi_limiter.depends.RateLimiter object at 0x7f2a2d1cbd70>
2025-08-18T15:46:46.8101047Z request = <starlette.requests.Request object at 0x7f2a2af8c800>
2025-08-18T15:46:46.8101526Z response = <starlette.responses.Response object at 0x7f2a2af8c0e0>
2025-08-18T15:46:46.8101782Z 
2025-08-18T15:46:46.8102105Z     async def __call__(self, request: Request, response: Response):
2025-08-18T15:46:46.8102465Z         if not FastAPILimiter.redis:
2025-08-18T15:46:46.8102944Z >           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
2025-08-18T15:46:46.8103527Z E           Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:46.8103807Z 
2025-08-18T15:46:46.8104237Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:37: Exception
2025-08-18T15:46:46.8104871Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:46.8149426Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "5093a023013841bfabe03a06584d9503", "level": "error", "timestamp": "2025-08-18T15:45:50.016602Z", "exception": [{"exc_type": "Exception", "exc_value": "You must call FastAPILimiter.init in startup event of fastapi!", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2af8c5f0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2abbf880>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2d1f1620>", "exc": "Exception('You must call FastAPILimiter.init in startup event of fastapi!')", "request": "<starlette.requests.Request object at 0x7f2a2d1cbbc0>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2d1f1620>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+179", "header_value": "None", "validation_failed": "False", "id_value": "5093a023013841bfabe03a06584d9503", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2af8f860>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2af8c6b0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2afe0590>", "conn": "<starlette.requests.Request object at 0x7f2a2af8c6b0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2afe0590>", "conn": "<starlette.requests.Request object at 0x7f2a2af8c6b0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2afe0590>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2afe0590>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function submit_ingest at 0x7f2a2abe6160>, 'path_params': {}, 'rou\"+70"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/ingest', name='submit_ingest', methods=['POST'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2d2c7420>", "request": "<starlette.requests.Request object at 0x7f2a2af8c800>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d24f060>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2d2c7420>", "conn": "<starlette.requests.Request object at 0x7f2a2af8c800>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2d2c7420>", "conn": "<starlette.requests.Request object at 0x7f2a2af8c800>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/ingest', 'ra\"+1523", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2abe5ee0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d24f060>", "request": "<starlette.requests.Request object at 0x7f2a2af8c800>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2af8c800>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2af8c950>", "body": "FormData([])", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2af8c0b0>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "ModelField(field_info=File(None), name='body', mode='validation')", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2ac1eb70>", "embed_body_fields": "True", "is_body_form": "True", "is_coroutine": "True", "response_field": "'ModelField(field_info=FieldInfo(annotation=Dict[str, Any], required=True), name='+59", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2af8c800>", "dependant": "'Dependant(path_params=[], query_params=[ModelField(field_info=Query(None), name='+1227", "body": "FormData([])", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2af8c0e0>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2ac1eb70>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2af8c0b0>", "embed_body_fields": "True", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d1cbd70>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 37, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d1cbd70>", "request": "<starlette.requests.Request object at 0x7f2a2af8c800>", "response": "<starlette.responses.Response object at 0x7f2a2af8c0e0>"}}]}]}
2025-08-18T15:46:46.8182569Z _____________________________ test_health_endpoint _____________________________
2025-08-18T15:46:46.8182814Z 
2025-08-18T15:46:46.8183083Z monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7f2a2a6deab0>
2025-08-18T15:46:46.8183367Z 
2025-08-18T15:46:46.8183496Z     def test_health_endpoint(monkeypatch):
2025-08-18T15:46:46.8183896Z         app.dependency_overrides[db.get_session] = fake_get_session
2025-08-18T15:46:46.8184246Z         client = TestClient(app)
2025-08-18T15:46:46.8184529Z >       r = client.get("/health")
2025-08-18T15:46:46.8184784Z             ^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8184925Z 
2025-08-18T15:46:46.8185043Z tests/test_api_fast.py:25: 
2025-08-18T15:46:46.8185395Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8186002Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-18T15:46:46.8186473Z     return super().get(
2025-08-18T15:46:46.8186984Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-18T15:46:46.8187426Z     return self.request(
2025-08-18T15:46:46.8188090Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.8188581Z     return super().request(
2025-08-18T15:46:46.8189103Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.8189692Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.8190094Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8190649Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.8191123Z     response = self._send_handling_auth(
2025-08-18T15:46:46.8191732Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.8192379Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.8193020Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.8193586Z     response = self._send_single_request(request)
2025-08-18T15:46:46.8193893Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8194496Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.8195045Z     response = transport.handle_request(request)
2025-08-18T15:46:46.8195356Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8196085Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.8196569Z     raise exc
2025-08-18T15:46:46.8197112Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.8197660Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.8198242Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.8198805Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.8199183Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8199727Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.8200186Z     return self.__get_result()
2025-08-18T15:46:46.8200439Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8200967Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.8201432Z     raise self._exception
2025-08-18T15:46:46.8202083Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.8202590Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.8202866Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8203441Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.8203968Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.8204588Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.8205139Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8205796Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.8206293Z     raise exc
2025-08-18T15:46:46.8206841Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.8207378Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.8208008Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.8208600Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.8209399Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.8210064Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.8210796Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8211295Z     raise exc
2025-08-18T15:46:46.8211856Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8212500Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8213066Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.8213596Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8214182Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.8214685Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.8215260Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.8215754Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.8216301Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.8216889Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.8217611Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8218237Z     raise exc
2025-08-18T15:46:46.8218795Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8219329Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8219871Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.8220343Z     response = await f(request)
2025-08-18T15:46:46.8220590Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8221103Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.8221587Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.8222387Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.8222977Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.8223281Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8223642Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8223855Z 
2025-08-18T15:46:46.8224102Z self = <fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>
2025-08-18T15:46:46.8224585Z request = <starlette.requests.Request object at 0x7f2a2a7382c0>
2025-08-18T15:46:46.8225069Z response = <starlette.responses.Response object at 0x7f2a2a739730>
2025-08-18T15:46:46.8225331Z 
2025-08-18T15:46:46.8225520Z     async def __call__(self, request: Request, response: Response):
2025-08-18T15:46:46.8225875Z         if not FastAPILimiter.redis:
2025-08-18T15:46:46.8226352Z >           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
2025-08-18T15:46:46.8226927Z E           Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:46.8227207Z 
2025-08-18T15:46:46.8227634Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:37: Exception
2025-08-18T15:46:46.8228268Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:46.8275446Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "9c2c4f47684e46eeb52e370416a7b39d", "level": "error", "timestamp": "2025-08-18T15:45:50.844459Z", "exception": [{"exc_type": "Exception", "exc_value": "You must call FastAPILimiter.init in startup event of fastapi!", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2a73b4d0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2a6f8680>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a7256c0>", "exc": "Exception('You must call FastAPILimiter.init in startup event of fastapi!')", "request": "<starlette.requests.Request object at 0x7f2a2a739b50>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a7256c0>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+119", "header_value": "None", "validation_failed": "False", "id_value": "9c2c4f47684e46eeb52e370416a7b39d", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2a73acf0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2a739760>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a739760>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a739760>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/health', name='health', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function health at 0x7f2a3e8bac00>, 'path_params': {}, 'route': AP\"+55"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/health', name='health', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a725e40>", "request": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d480ea0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a725e40>", "conn": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a725e40>", "conn": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2e9abba0'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d480ea0>", "request": "<starlette.requests.Request object at 0x7f2a2a7382c0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a73b320>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a73b140>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+1423", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "True", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+1423", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2a739730>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a73b140>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_path": "/health", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 37, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "request": "<starlette.requests.Request object at 0x7f2a2a7382c0>", "response": "<starlette.responses.Response object at 0x7f2a2a739730>"}}]}]}
2025-08-18T15:46:46.8308488Z __________________________ test_validation_error_json __________________________
2025-08-18T15:46:46.8308752Z 
2025-08-18T15:46:46.8309039Z self = <redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>
2025-08-18T15:46:46.8309479Z disable_decoding = False, timeout = None
2025-08-18T15:46:46.8309669Z 
2025-08-18T15:46:46.8309766Z     async def read_response(
2025-08-18T15:46:46.8309993Z         self,
2025-08-18T15:46:46.8310346Z         disable_decoding: bool = False,
2025-08-18T15:46:46.8310654Z         timeout: Optional[float] = None,
2025-08-18T15:46:46.8310904Z         *,
2025-08-18T15:46:46.8311120Z         disconnect_on_error: bool = True,
2025-08-18T15:46:46.8311419Z         push_request: Optional[bool] = False,
2025-08-18T15:46:46.8311672Z     ):
2025-08-18T15:46:46.8312063Z         """Read the response from a previously sent command"""
2025-08-18T15:46:46.8312495Z         read_timeout = timeout if timeout is not None else self.socket_timeout
2025-08-18T15:46:46.8312882Z         host_error = self._host_error()
2025-08-18T15:46:46.8313122Z         try:
2025-08-18T15:46:46.8313300Z             if (
2025-08-18T15:46:46.8313542Z                 read_timeout is not None
2025-08-18T15:46:46.8313832Z                 and self.protocol in ["3", 3]
2025-08-18T15:46:46.8314122Z                 and not HIREDIS_AVAILABLE
2025-08-18T15:46:46.8314364Z             ):
2025-08-18T15:46:46.8314603Z                 async with async_timeout(read_timeout):
2025-08-18T15:46:46.8314962Z                     response = await self._parser.read_response(
2025-08-18T15:46:46.8315381Z                         disable_decoding=disable_decoding, push_request=push_request
2025-08-18T15:46:46.8315712Z                     )
2025-08-18T15:46:46.8315949Z             elif read_timeout is not None:
2025-08-18T15:46:46.8316257Z                 async with async_timeout(read_timeout):
2025-08-18T15:46:46.8316597Z                     response = await self._parser.read_response(
2025-08-18T15:46:46.8317071Z                         disable_decoding=disable_decoding
2025-08-18T15:46:46.8317336Z                     )
2025-08-18T15:46:46.8317634Z             elif self.protocol in ["3", 3] and not HIREDIS_AVAILABLE:
2025-08-18T15:46:46.8318012Z                 response = await self._parser.read_response(
2025-08-18T15:46:46.8318412Z                     disable_decoding=disable_decoding, push_request=push_request
2025-08-18T15:46:46.8318733Z                 )
2025-08-18T15:46:46.8318916Z             else:
2025-08-18T15:46:46.8319211Z >               response = await self._parser.read_response(
2025-08-18T15:46:46.8319547Z                     disable_decoding=disable_decoding
2025-08-18T15:46:46.8319805Z                 )
2025-08-18T15:46:46.8319919Z 
2025-08-18T15:46:46.8320323Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:542: 
2025-08-18T15:46:46.8320897Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8321566Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py:82: in read_response
2025-08-18T15:46:46.8322309Z     response = await self._read_response(disable_decoding=disable_decoding)
2025-08-18T15:46:46.8322710Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8323329Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py:90: in _read_response
2025-08-18T15:46:46.8323857Z     raw = await self._readline()
2025-08-18T15:46:46.8324109Z           ^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8324667Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py:219: in _readline
2025-08-18T15:46:46.8325182Z     data = await self._stream.readline()
2025-08-18T15:46:46.8325461Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8325949Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:568: in readline
2025-08-18T15:46:46.8326398Z     line = await self.readuntil(sep)
2025-08-18T15:46:46.8326664Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8327153Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:660: in readuntil
2025-08-18T15:46:46.8327609Z     await self._wait_for_data('readuntil')
2025-08-18T15:46:46.8327982Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8328191Z 
2025-08-18T15:46:46.8328563Z self = <StreamReader transport=<_SelectorSocketTransport closing fd=22>>
2025-08-18T15:46:46.8328941Z func_name = 'readuntil'
2025-08-18T15:46:46.8329072Z 
2025-08-18T15:46:46.8329212Z     async def _wait_for_data(self, func_name):
2025-08-18T15:46:46.8329581Z         """Wait until feed_data() or feed_eof() is called.
2025-08-18T15:46:46.8329847Z     
2025-08-18T15:46:46.8330084Z         If stream was paused, automatically resume it.
2025-08-18T15:46:46.8330354Z         """
2025-08-18T15:46:46.8330661Z         # StreamReader uses a future to link the protocol feed_data() method
2025-08-18T15:46:46.8331121Z         # to a read coroutine. Running two read coroutines at the same time
2025-08-18T15:46:46.8331607Z         # would have an unexpected behaviour. It would not possible to know
2025-08-18T15:46:46.8332081Z         # which coroutine would get the next data.
2025-08-18T15:46:46.8332381Z         if self._waiter is not None:
2025-08-18T15:46:46.8332646Z             raise RuntimeError(
2025-08-18T15:46:46.8332965Z                 f'{func_name}() called while another coroutine is '
2025-08-18T15:46:46.8333310Z                 f'already waiting for incoming data')
2025-08-18T15:46:46.8333565Z     
2025-08-18T15:46:46.8333808Z         assert not self._eof, '_wait_for_data after EOF'
2025-08-18T15:46:46.8334076Z     
2025-08-18T15:46:46.8334365Z         # Waiting for data while paused will make deadlock, so prevent it.
2025-08-18T15:46:46.8334818Z         # This is essential for readexactly(n) for case when n > self._limit.
2025-08-18T15:46:46.8335332Z         if self._paused:
2025-08-18T15:46:46.8335567Z             self._paused = False
2025-08-18T15:46:46.8335842Z             self._transport.resume_reading()
2025-08-18T15:46:46.8336084Z     
2025-08-18T15:46:46.8336305Z         self._waiter = self._loop.create_future()
2025-08-18T15:46:46.8336570Z         try:
2025-08-18T15:46:46.8336788Z >           await self._waiter
2025-08-18T15:46:46.8338665Z E           RuntimeError: Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop
2025-08-18T15:46:46.8340040Z 
2025-08-18T15:46:46.8340381Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:545: RuntimeError
2025-08-18T15:46:46.8340726Z 
2025-08-18T15:46:46.8340967Z During handling of the above exception, another exception occurred:
2025-08-18T15:46:46.8341227Z 
2025-08-18T15:46:46.8341359Z     def test_validation_error_json() -> None:
2025-08-18T15:46:46.8341679Z         prev_user = os.environ.get("BASIC_USER")
2025-08-18T15:46:46.8342097Z         prev_pass = os.environ.get("BASIC_PASS")
2025-08-18T15:46:46.8342418Z         os.environ["ROI_BASIC_AUTH_USER"] = "u"
2025-08-18T15:46:46.8342748Z         os.environ["ROI_BASIC_AUTH_PASSWORD"] = "p"
2025-08-18T15:46:46.8343056Z         os.environ["BASIC_USER"] = "u"
2025-08-18T15:46:46.8343338Z         os.environ["BASIC_PASS"] = "p"
2025-08-18T15:46:46.8343572Z         try:
2025-08-18T15:46:46.8343785Z             client = TestClient(app)
2025-08-18T15:46:46.8344094Z             auth = base64.b64encode(b"u:p").decode()
2025-08-18T15:46:46.8344401Z >           resp = client.get(
2025-08-18T15:46:46.8344772Z                 "/roi-review?vendor=abc", headers={"Authorization": f"Basic {auth}"}
2025-08-18T15:46:46.8345113Z             )
2025-08-18T15:46:46.8345224Z 
2025-08-18T15:46:46.8345376Z services/api/tests/test_errors_json.py:21: 
2025-08-18T15:46:46.8345775Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8346402Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-18T15:46:46.8346878Z     return super().get(
2025-08-18T15:46:46.8347503Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-18T15:46:46.8347963Z     return self.request(
2025-08-18T15:46:46.8348518Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.8348997Z     return super().request(
2025-08-18T15:46:46.8349523Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.8350118Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.8350530Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8351081Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.8351558Z     response = self._send_handling_auth(
2025-08-18T15:46:46.8352285Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.8352831Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.8353466Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.8354027Z     response = self._send_single_request(request)
2025-08-18T15:46:46.8354334Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8354941Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.8355648Z     response = transport.handle_request(request)
2025-08-18T15:46:46.8355950Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8356557Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.8357048Z     raise exc
2025-08-18T15:46:46.8357584Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.8358137Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.8358714Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.8359282Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.8359657Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8360206Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.8360671Z     return self.__get_result()
2025-08-18T15:46:46.8360914Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8361438Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.8361898Z     raise self._exception
2025-08-18T15:46:46.8362553Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.8363055Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.8363328Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8363907Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.8364437Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.8365052Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.8365609Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8366271Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.8366768Z     raise exc
2025-08-18T15:46:46.8367320Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.8367860Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.8368623Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.8369232Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.8369924Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.8370594Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.8371329Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8371837Z     raise exc
2025-08-18T15:46:46.8372501Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8373045Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8373614Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.8374155Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8374750Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.8375250Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.8375828Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.8376327Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.8376882Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.8377593Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.8378319Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8378819Z     raise exc
2025-08-18T15:46:46.8379393Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8379943Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8380502Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.8380982Z     response = await f(request)
2025-08-18T15:46:46.8381237Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8381750Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.8382385Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.8383067Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.8383668Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.8383975Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8384567Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:54: in __call__
2025-08-18T15:46:46.8385081Z     pexpire = await self._check(key)
2025-08-18T15:46:46.8385358Z               ^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8385930Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:30: in _check
2025-08-18T15:46:46.8386443Z     pexpire = await redis.evalsha(
2025-08-18T15:46:46.8387065Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:615: in execute_command
2025-08-18T15:46:46.8387620Z     return await conn.retry.call_with_retry(
2025-08-18T15:46:46.8388244Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py:59: in call_with_retry
2025-08-18T15:46:46.8388741Z     return await do()
2025-08-18T15:46:46.8388951Z            ^^^^^^^^^^
2025-08-18T15:46:46.8389581Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:589: in _send_command_parse_response
2025-08-18T15:46:46.8390248Z     return await self.parse_response(conn, command_name, **options)
2025-08-18T15:46:46.8390747Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8391385Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:636: in parse_response
2025-08-18T15:46:46.8392055Z     response = await connection.read_response()
2025-08-18T15:46:46.8392368Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8392995Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:562: in read_response
2025-08-18T15:46:46.8393540Z     await self.disconnect(nowait=True)
2025-08-18T15:46:46.8394161Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:418: in disconnect
2025-08-18T15:46:46.8394728Z     self._writer.close()  # type: ignore[union-attr]
2025-08-18T15:46:46.8395022Z     ^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8395476Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:358: in close
2025-08-18T15:46:46.8395912Z     return self._transport.close()
2025-08-18T15:46:46.8396186Z            ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8396696Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:1213: in close
2025-08-18T15:46:46.8397134Z     super().close()
2025-08-18T15:46:46.8397601Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:875: in close
2025-08-18T15:46:46.8398119Z     self._loop.call_soon(self._call_connection_lost, None)
2025-08-18T15:46:46.8398687Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:799: in call_soon
2025-08-18T15:46:46.8399241Z     self._check_closed()
2025-08-18T15:46:46.8399681Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8399956Z 
2025-08-18T15:46:46.8400428Z self = <_UnixSelectorEventLoop running=False closed=True debug=False>
2025-08-18T15:46:46.8400896Z 
2025-08-18T15:46:46.8401059Z     def _check_closed(self):
2025-08-18T15:46:46.8401428Z         if self._closed:
2025-08-18T15:46:46.8401894Z >           raise RuntimeError('Event loop is closed')
2025-08-18T15:46:46.8402867Z E           RuntimeError: Event loop is closed
2025-08-18T15:46:46.8415815Z 
2025-08-18T15:46:46.8416365Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:545: RuntimeError
2025-08-18T15:46:46.8417005Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:46.8494665Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "e4c0ace3e12e4027985e2e39e3d533b6", "level": "error", "timestamp": "2025-08-18T15:46:44.317799Z", "exception": [{"exc_type": "RuntimeError", "exc_value": "Event loop is closed", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2a73b4d0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2a5e7f60>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a560b80>", "exc": "RuntimeError('Event loop is closed')", "request": "<starlette.requests.Request object at 0x7f2a2a55e630>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a560b80>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+150", "header_value": "None", "validation_failed": "False", "id_value": "e4c0ace3e12e4027985e2e39e3d533b6", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2a73acf0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2a571310>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a571310>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a571310>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/roi-review', name='roi_review', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function roi_review at 0x7f2a3e8bb880>, 'path_params': {}, 'route'\"+67"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/roi-review', name='roi_review', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a560540>", "request": "<starlette.requests.Request object at 0x7f2a2a571460>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d4802c0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a560540>", "conn": "<starlette.requests.Request object at 0x7f2a2a571460>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a560540>", "conn": "<starlette.requests.Request object at 0x7f2a2a571460>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/roi-review', \"+1504", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2a5e5080'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d4802c0>", "request": "<starlette.requests.Request object at 0x7f2a2a571460>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a571460>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5715b0>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5715e0>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "\"Dependant(path_params=[], query_params=[ModelField(field_info=Query(0), name='ro\"+2305", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "False", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a571460>", "dependant": "\"Dependant(path_params=[], query_params=[ModelField(field_info=Query(0), name='ro\"+2305", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2a571610>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5715e0>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+462", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+462", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_path": "/roi-review", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 54, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "request": "<starlette.requests.Request object at 0x7f2a2a571460>", "response": "<starlette.responses.Response object at 0x7f2a2a571610>", "route_index": "8", "dep_index": "0", "i": "14", "route": "APIRoute(path='/score', name='score', methods=['POST'])", "j": "0", "dependency": "Depends(RateLimiter)", "identifier": "<function client_ip_identifier at 0x7f2a2d64ab60>", "callback": "<function http_default_callback at 0x7f2a2dea76a0>", "rate_key": "testclient", "key": "fastapi-limiter:testclient:8:0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 30, "name": "_check", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "key": "fastapi-limiter:testclient:8:0", "redis": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 615, "name": "execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+28", "options": "{}", "pool": "'<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(ho'+31", "command_name": "EVALSHA", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py", "lineno": 59, "name": "call_with_retry", "line": "", "locals": {"self": "<redis.asyncio.retry.Retry object at 0x7f2a2a78dd40>", "do": "<function Redis.execute_command.<locals>.<lambda> at 0x7f2a2a5e7d80>", "fail": "<function Redis.execute_command.<locals>.<lambda> at 0x7f2a2a5e7c40>", "failures": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 589, "name": "_send_command_parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+28", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 636, "name": "parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "connection": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 562, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 418, "name": "disconnect", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "nowait": "True"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 358, "name": "close", "line": "", "locals": {"self": "'<StreamWriter transport=<_SelectorSocketTransport closing fd=22> reader=<StreamR'+58"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 1213, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=22>", "__class__": "<class 'asyncio.selector_events._SelectorSocketTransport'>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 875, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=22>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 799, "name": "call_soon", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>", "callback": "'<bound method _SelectorSocketTransport._call_connection_lost of <_SelectorSocket'+25", "context": "None", "args": "(None,)"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 545, "name": "_check_closed", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>"}}]}, {"exc_type": "RuntimeError", "exc_value": "Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 542, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 82, "name": "read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 90, "name": "_read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py", "lineno": 219, "name": "_readline", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "found": "-1", "tail": "b''"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 568, "name": "readline", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=22>>", "sep": "b'\\n'", "seplen": "1"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 660, "name": "readuntil", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=22>>", "separator": "b'\\n'", "seplen": "1", "offset": "0", "buflen": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 545, "name": "_wait_for_data", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=22>>", "func_name": "readuntil"}}]}]}
2025-08-18T15:46:46.8547307Z ______________________________ test_health_route _______________________________
2025-08-18T15:46:46.8547557Z 
2025-08-18T15:46:46.8547848Z self = <redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>
2025-08-18T15:46:46.8548285Z disable_decoding = False, timeout = None
2025-08-18T15:46:46.8548600Z 
2025-08-18T15:46:46.8548696Z     async def read_response(
2025-08-18T15:46:46.8548921Z         self,
2025-08-18T15:46:46.8549145Z         disable_decoding: bool = False,
2025-08-18T15:46:46.8549434Z         timeout: Optional[float] = None,
2025-08-18T15:46:46.8549679Z         *,
2025-08-18T15:46:46.8549898Z         disconnect_on_error: bool = True,
2025-08-18T15:46:46.8550203Z         push_request: Optional[bool] = False,
2025-08-18T15:46:46.8550455Z     ):
2025-08-18T15:46:46.8550717Z         """Read the response from a previously sent command"""
2025-08-18T15:46:46.8551148Z         read_timeout = timeout if timeout is not None else self.socket_timeout
2025-08-18T15:46:46.8551522Z         host_error = self._host_error()
2025-08-18T15:46:46.8551767Z         try:
2025-08-18T15:46:46.8552041Z             if (
2025-08-18T15:46:46.8552268Z                 read_timeout is not None
2025-08-18T15:46:46.8552561Z                 and self.protocol in ["3", 3]
2025-08-18T15:46:46.8552854Z                 and not HIREDIS_AVAILABLE
2025-08-18T15:46:46.8553099Z             ):
2025-08-18T15:46:46.8553342Z                 async with async_timeout(read_timeout):
2025-08-18T15:46:46.8553689Z                     response = await self._parser.read_response(
2025-08-18T15:46:46.8554107Z                         disable_decoding=disable_decoding, push_request=push_request
2025-08-18T15:46:46.8554447Z                     )
2025-08-18T15:46:46.8554710Z             elif read_timeout is not None:
2025-08-18T15:46:46.8555015Z                 async with async_timeout(read_timeout):
2025-08-18T15:46:46.8555349Z                     response = await self._parser.read_response(
2025-08-18T15:46:46.8555691Z                         disable_decoding=disable_decoding
2025-08-18T15:46:46.8555960Z                     )
2025-08-18T15:46:46.8556263Z             elif self.protocol in ["3", 3] and not HIREDIS_AVAILABLE:
2025-08-18T15:46:46.8556639Z                 response = await self._parser.read_response(
2025-08-18T15:46:46.8557045Z                     disable_decoding=disable_decoding, push_request=push_request
2025-08-18T15:46:46.8557362Z                 )
2025-08-18T15:46:46.8557547Z             else:
2025-08-18T15:46:46.8557835Z >               response = await self._parser.read_response(
2025-08-18T15:46:46.8558176Z                     disable_decoding=disable_decoding
2025-08-18T15:46:46.8558436Z                 )
2025-08-18T15:46:46.8558550Z 
2025-08-18T15:46:46.8559074Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:542: 
2025-08-18T15:46:46.8559672Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8560323Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py:82: in read_response
2025-08-18T15:46:46.8560957Z     response = await self._read_response(disable_decoding=disable_decoding)
2025-08-18T15:46:46.8561361Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8562097Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py:90: in _read_response
2025-08-18T15:46:46.8562623Z     raw = await self._readline()
2025-08-18T15:46:46.8562874Z           ^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8563431Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py:219: in _readline
2025-08-18T15:46:46.8563950Z     data = await self._stream.readline()
2025-08-18T15:46:46.8564239Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8564736Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:568: in readline
2025-08-18T15:46:46.8565185Z     line = await self.readuntil(sep)
2025-08-18T15:46:46.8565453Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8565937Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:660: in readuntil
2025-08-18T15:46:46.8566390Z     await self._wait_for_data('readuntil')
2025-08-18T15:46:46.8566896Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8567112Z 
2025-08-18T15:46:46.8567373Z self = <StreamReader transport=<_SelectorSocketTransport closing fd=18>>
2025-08-18T15:46:46.8567743Z func_name = 'readuntil'
2025-08-18T15:46:46.8567879Z 
2025-08-18T15:46:46.8568014Z     async def _wait_for_data(self, func_name):
2025-08-18T15:46:46.8568357Z         """Wait until feed_data() or feed_eof() is called.
2025-08-18T15:46:46.8568630Z     
2025-08-18T15:46:46.8568870Z         If stream was paused, automatically resume it.
2025-08-18T15:46:46.8569143Z         """
2025-08-18T15:46:46.8569461Z         # StreamReader uses a future to link the protocol feed_data() method
2025-08-18T15:46:46.8569925Z         # to a read coroutine. Running two read coroutines at the same time
2025-08-18T15:46:46.8570363Z         # would have an unexpected behaviour. It would not possible to know
2025-08-18T15:46:46.8570741Z         # which coroutine would get the next data.
2025-08-18T15:46:46.8571038Z         if self._waiter is not None:
2025-08-18T15:46:46.8571310Z             raise RuntimeError(
2025-08-18T15:46:46.8571624Z                 f'{func_name}() called while another coroutine is '
2025-08-18T15:46:46.8572088Z                 f'already waiting for incoming data')
2025-08-18T15:46:46.8572345Z     
2025-08-18T15:46:46.8572586Z         assert not self._eof, '_wait_for_data after EOF'
2025-08-18T15:46:46.8572851Z     
2025-08-18T15:46:46.8573145Z         # Waiting for data while paused will make deadlock, so prevent it.
2025-08-18T15:46:46.8573599Z         # This is essential for readexactly(n) for case when n > self._limit.
2025-08-18T15:46:46.8573932Z         if self._paused:
2025-08-18T15:46:46.8574168Z             self._paused = False
2025-08-18T15:46:46.8574449Z             self._transport.resume_reading()
2025-08-18T15:46:46.8574695Z     
2025-08-18T15:46:46.8574915Z         self._waiter = self._loop.create_future()
2025-08-18T15:46:46.8575183Z         try:
2025-08-18T15:46:46.8575403Z >           await self._waiter
2025-08-18T15:46:46.8577361Z E           RuntimeError: Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop
2025-08-18T15:46:46.8578728Z 
2025-08-18T15:46:46.8579067Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:545: RuntimeError
2025-08-18T15:46:46.8579407Z 
2025-08-18T15:46:46.8579642Z During handling of the above exception, another exception occurred:
2025-08-18T15:46:46.8579899Z 
2025-08-18T15:46:46.8580014Z     def test_health_route() -> None:
2025-08-18T15:46:46.8580266Z         class FakeSession:
2025-08-18T15:46:46.8580527Z             async def execute(self, query):
2025-08-18T15:46:46.8580786Z                 class R:
2025-08-18T15:46:46.8581024Z                     def scalar(self):
2025-08-18T15:46:46.8581293Z                         import datetime
2025-08-18T15:46:46.8581521Z     
2025-08-18T15:46:46.8581755Z                         return datetime.datetime.utcnow()
2025-08-18T15:46:46.8582114Z     
2025-08-18T15:46:46.8582284Z                 return R()
2025-08-18T15:46:46.8582484Z     
2025-08-18T15:46:46.8582686Z         async def fake_get_session():
2025-08-18T15:46:46.8582959Z             yield FakeSession()
2025-08-18T15:46:46.8583174Z     
2025-08-18T15:46:46.8583456Z         app.dependency_overrides[db.get_session] = fake_get_session
2025-08-18T15:46:46.8583803Z         client = TestClient(app)
2025-08-18T15:46:46.8584082Z >       resp = client.get("/health")
2025-08-18T15:46:46.8584339Z                ^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8584496Z 
2025-08-18T15:46:46.8584640Z services/api/tests/test_health.py:23: 
2025-08-18T15:46:46.8585135Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8585742Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:479: in get
2025-08-18T15:46:46.8586212Z     return super().get(
2025-08-18T15:46:46.8586714Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1053: in get
2025-08-18T15:46:46.8587158Z     return self.request(
2025-08-18T15:46:46.8587711Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:451: in request
2025-08-18T15:46:46.8588189Z     return super().request(
2025-08-18T15:46:46.8588706Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:825: in request
2025-08-18T15:46:46.8589296Z     return self.send(request, auth=auth, follow_redirects=follow_redirects)
2025-08-18T15:46:46.8589707Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8590259Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:914: in send
2025-08-18T15:46:46.8590736Z     response = self._send_handling_auth(
2025-08-18T15:46:46.8591341Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:942: in _send_handling_auth
2025-08-18T15:46:46.8591879Z     response = self._send_handling_redirects(
2025-08-18T15:46:46.8592622Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:979: in _send_handling_redirects
2025-08-18T15:46:46.8593185Z     response = self._send_single_request(request)
2025-08-18T15:46:46.8593493Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8594102Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/httpx/_client.py:1014: in _send_single_request
2025-08-18T15:46:46.8594654Z     response = transport.handle_request(request)
2025-08-18T15:46:46.8594963Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8595569Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:354: in handle_request
2025-08-18T15:46:46.8596057Z     raise exc
2025-08-18T15:46:46.8596597Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/testclient.py:351: in handle_request
2025-08-18T15:46:46.8597151Z     portal.call(self.app, scope, receive, send)
2025-08-18T15:46:46.8597840Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:291: in call
2025-08-18T15:46:46.8598410Z     return cast(T_Retval, self.start_task_soon(func, *args).result())
2025-08-18T15:46:46.8598786Z                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8599330Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:456: in result
2025-08-18T15:46:46.8599789Z     return self.__get_result()
2025-08-18T15:46:46.8600032Z            ^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8600557Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result
2025-08-18T15:46:46.8601023Z     raise self._exception
2025-08-18T15:46:46.8601580Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222: in _call_func
2025-08-18T15:46:46.8602208Z     retval = await retval_or_awaitable
2025-08-18T15:46:46.8602477Z              ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8603052Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/applications.py:1054: in __call__
2025-08-18T15:46:46.8603587Z     await super().__call__(scope, receive, send)
2025-08-18T15:46:46.8604202Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/applications.py:113: in __call__
2025-08-18T15:46:46.8604753Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8605409Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:186: in __call__
2025-08-18T15:46:46.8606019Z     raise exc
2025-08-18T15:46:46.8606571Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py:164: in __call__
2025-08-18T15:46:46.8607324Z     await self.app(scope, receive, _send)
2025-08-18T15:46:46.8607956Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py:90: in __call__
2025-08-18T15:46:46.8608548Z     await self.app(scope, receive, handle_outgoing_request)
2025-08-18T15:46:46.8609234Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py:63: in __call__
2025-08-18T15:46:46.8609891Z     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
2025-08-18T15:46:46.8610619Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8611117Z     raise exc
2025-08-18T15:46:46.8611675Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8612602Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8613464Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:716: in __call__
2025-08-18T15:46:46.8614004Z     await self.middleware_stack(scope, receive, send)
2025-08-18T15:46:46.8614589Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:736: in app
2025-08-18T15:46:46.8615092Z     await route.handle(scope, receive, send)
2025-08-18T15:46:46.8615662Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:290: in handle
2025-08-18T15:46:46.8616154Z     await self.app(scope, receive, send)
2025-08-18T15:46:46.8616703Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:78: in app
2025-08-18T15:46:46.8617283Z     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
2025-08-18T15:46:46.8618274Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:53: in wrapped_app
2025-08-18T15:46:46.8618791Z     raise exc
2025-08-18T15:46:46.8619357Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py:42: in wrapped_app
2025-08-18T15:46:46.8619891Z     await app(scope, receive, sender)
2025-08-18T15:46:46.8620431Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py:75: in app
2025-08-18T15:46:46.8621049Z     response = await f(request)
2025-08-18T15:46:46.8621313Z                ^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8621837Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py:292: in app
2025-08-18T15:46:46.8622474Z     solved_result = await solve_dependencies(
2025-08-18T15:46:46.8623159Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py:638: in solve_dependencies
2025-08-18T15:46:46.8623754Z     solved = await call(**solved_result.values)
2025-08-18T15:46:46.8624064Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8624659Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:54: in __call__
2025-08-18T15:46:46.8625172Z     pexpire = await self._check(key)
2025-08-18T15:46:46.8625441Z               ^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8626010Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py:30: in _check
2025-08-18T15:46:46.8626519Z     pexpire = await redis.evalsha(
2025-08-18T15:46:46.8627130Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:615: in execute_command
2025-08-18T15:46:46.8627674Z     return await conn.retry.call_with_retry(
2025-08-18T15:46:46.8628291Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py:59: in call_with_retry
2025-08-18T15:46:46.8628780Z     return await do()
2025-08-18T15:46:46.8628980Z            ^^^^^^^^^^
2025-08-18T15:46:46.8629763Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:589: in _send_command_parse_response
2025-08-18T15:46:46.8630433Z     return await self.parse_response(conn, command_name, **options)
2025-08-18T15:46:46.8630807Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8631426Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py:636: in parse_response
2025-08-18T15:46:46.8632072Z     response = await connection.read_response()
2025-08-18T15:46:46.8632375Z                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8632997Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:562: in read_response
2025-08-18T15:46:46.8633545Z     await self.disconnect(nowait=True)
2025-08-18T15:46:46.8634164Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py:418: in disconnect
2025-08-18T15:46:46.8634734Z     self._writer.close()  # type: ignore[union-attr]
2025-08-18T15:46:46.8635014Z     ^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8635461Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py:358: in close
2025-08-18T15:46:46.8635899Z     return self._transport.close()
2025-08-18T15:46:46.8636167Z            ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:46.8636670Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:1213: in close
2025-08-18T15:46:46.8637107Z     super().close()
2025-08-18T15:46:46.8637579Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py:875: in close
2025-08-18T15:46:46.8638087Z     self._loop.call_soon(self._call_connection_lost, None)
2025-08-18T15:46:46.8638655Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:799: in call_soon
2025-08-18T15:46:46.8639081Z     self._check_closed()
2025-08-18T15:46:46.8639418Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
2025-08-18T15:46:46.8639634Z 
2025-08-18T15:46:46.8639886Z self = <_UnixSelectorEventLoop running=False closed=True debug=False>
2025-08-18T15:46:46.8640152Z 
2025-08-18T15:46:46.8640241Z     def _check_closed(self):
2025-08-18T15:46:46.8640476Z         if self._closed:
2025-08-18T15:46:46.8640773Z >           raise RuntimeError('Event loop is closed')
2025-08-18T15:46:46.8641119Z E           RuntimeError: Event loop is closed
2025-08-18T15:46:46.8641303Z 
2025-08-18T15:46:46.8641787Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py:545: RuntimeError
2025-08-18T15:46:46.8642479Z ------------------------------ Captured log call -------------------------------
2025-08-18T15:46:47.2391608Z ERROR    services.api.errors:errors.py:48 {"event": "unhandled_error", "request_id": "3d02cf6e134e4975a0b98c6651b06512", "level": "error", "timestamp": "2025-08-18T15:46:45.014720Z", "exception": [{"exc_type": "RuntimeError", "exc_value": "Event loop is closed", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/errors.py", "lineno": 164, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2a2a73b4d0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "<function _TestClientTransport.handle_request.<locals>.send at 0x7f2a2ac95d00>", "_send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a5e49a0>", "exc": "RuntimeError('Event loop is closed')", "request": "<starlette.requests.Request object at 0x7f2a2a55caa0>", "response_started": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/middleware.py", "lineno": 90, "name": "__call__", "line": "", "locals": {"self": "'CorrelationIdMiddleware(app=<starlette.middleware.exceptions.ExceptionMiddleware'+286", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "<function ServerErrorMiddleware.__call__.<locals>._send at 0x7f2a2a5e49a0>", "headers": "\"MutableHeaders({'host': 'testserver', 'accept': '*/*', 'accept-encoding': 'gzip,\"+119", "header_value": "None", "validation_failed": "False", "id_value": "3d02cf6e134e4975a0b98c6651b06512", "handle_outgoing_request": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/middleware/exceptions.py", "lineno": 63, "name": "__call__", "line": "", "locals": {"self": "<starlette.middleware.exceptions.ExceptionMiddleware object at 0x7f2a2a73acf0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "conn": "<starlette.requests.Request object at 0x7f2a2a5c40e0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a5c40e0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function CorrelationIdMiddleware.__call__.<locals>.handle_outgoing_request at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "conn": "<starlette.requests.Request object at 0x7f2a2a5c40e0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 716, "name": "__call__", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 736, "name": "app", "line": "", "locals": {"self": "<fastapi.routing.APIRouter object at 0x7f2a2d6516a0>", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "partial": "None", "route": "APIRoute(path='/health', name='health', methods=['GET'])", "match": "<Match.FULL: 2>", "child_scope": "\"{'endpoint': <function health at 0x7f2a3e8bac00>, 'path_params': {}, 'route': AP\"+55"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 290, "name": "handle", "line": "", "locals": {"self": "APIRoute(path='/health', name='health', methods=['GET'])", "scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 78, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a5e4680>", "request": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d480ea0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 53, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a5e4680>", "conn": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/_exception_handler.py", "lineno": 42, "name": "wrapped_app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "sender": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "handler": "None", "response_started": "False", "app": "<function request_response.<locals>.app.<locals>.app at 0x7f2a2a5e4680>", "conn": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "exception_handlers": "\"{<class 'starlette.exceptions.HTTPException'>: <function install_exception_handl\"+642", "status_handlers": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/starlette/routing.py", "lineno": 75, "name": "app", "line": "", "locals": {"scope": "\"{'type': 'http', 'http_version': '1.1', 'method': 'GET', 'path': '/health', 'raw\"+1439", "receive": "'<function _TestClientTransport.handle_request.<locals>.receive at 0x7f2a2ac96200'+1", "send": "'<function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0'+14", "f": "<function get_request_handler.<locals>.app at 0x7f2a2d480ea0>", "request": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/routing.py", "lineno": 292, "name": "app", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "response": "None", "file_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5c6150>", "body": "None", "errors": "[]", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5c6090>", "actual_response_class": "<class 'starlette.responses.JSONResponse'>", "body_field": "None", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+1423", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "embed_body_fields": "False", "is_body_form": "None", "is_coroutine": "True", "response_field": "None", "response_model_by_alias": "True", "response_model_exclude": "None", "response_model_exclude_defaults": "False", "response_model_exclude_none": "False", "response_model_exclude_unset": "False", "response_model_include": "None", "status_code": "None"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi/dependencies/utils.py", "lineno": 638, "name": "solve_dependencies", "line": "", "locals": {"request": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+1423", "body": "None", "background_tasks": "None", "response": "<starlette.responses.Response object at 0x7f2a2a5c60f0>", "dependency_overrides_provider": "<fastapi.applications.FastAPI object at 0x7f2a2d6516d0>", "dependency_cache": "{}", "async_exit_stack": "<contextlib.AsyncExitStack object at 0x7f2a2a5c6090>", "embed_body_fields": "False", "values": "{}", "errors": "[]", "sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_sub_dependant": "'Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], b'+458", "original_call": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "use_path": "/health", "solved_result": "\"SolvedDependency(values={'request': <starlette.requests.Request object at 0x7f2a\"+201"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 54, "name": "__call__", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "request": "<starlette.requests.Request object at 0x7f2a2a5c5fd0>", "response": "<starlette.responses.Response object at 0x7f2a2a5c60f0>", "route_index": "13", "dep_index": "0", "i": "14", "route": "APIRoute(path='/score', name='score', methods=['POST'])", "j": "0", "dependency": "Depends(RateLimiter)", "identifier": "<function client_ip_identifier at 0x7f2a2d64ab60>", "callback": "<function http_default_callback at 0x7f2a2dea76a0>", "rate_key": "testclient", "key": "fastapi-limiter:testclient:13:0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/fastapi_limiter/depends.py", "lineno": 30, "name": "_check", "line": "", "locals": {"self": "<fastapi_limiter.depends.RateLimiter object at 0x7f2a2d6529f0>", "key": "fastapi-limiter:testclient:13:0", "redis": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 615, "name": "execute_command", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}", "pool": "'<redis.asyncio.connection.ConnectionPool(<redis.asyncio.connection.Connection(ho'+31", "command_name": "EVALSHA", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/retry.py", "lineno": 59, "name": "call_with_retry", "line": "", "locals": {"self": "<redis.asyncio.retry.Retry object at 0x7f2a2a78dd40>", "do": "<function Redis.execute_command.<locals>.<lambda> at 0x7f2a2accfce0>", "fail": "<function Redis.execute_command.<locals>.<lambda> at 0x7f2a2accfb00>", "failures": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 589, "name": "_send_command_parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "conn": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "args": "\"('EVALSHA', 'a3f9e982197e9e887f6b5dcb7ec273863bb83aad', 1, 'fastapi-limiter:test\"+29", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/client.py", "lineno": 636, "name": "parse_response", "line": "", "locals": {"self": "'<redis.asyncio.client.Redis(<redis.asyncio.connection.ConnectionPool(<redis.asyn'+61", "connection": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "command_name": "EVALSHA", "options": "{}"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 562, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 418, "name": "disconnect", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "nowait": "True"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 358, "name": "close", "line": "", "locals": {"self": "'<StreamWriter transport=<_SelectorSocketTransport closing fd=18> reader=<StreamR'+58"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 1213, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=18>", "__class__": "<class 'asyncio.selector_events._SelectorSocketTransport'>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", "lineno": 875, "name": "close", "line": "", "locals": {"self": "<_SelectorSocketTransport closing fd=18>"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 799, "name": "call_soon", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>", "callback": "'<bound method _SelectorSocketTransport._call_connection_lost of <_SelectorSocket'+25", "context": "None", "args": "(None,)"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", "lineno": 545, "name": "_check_closed", "line": "", "locals": {"self": "<_UnixSelectorEventLoop running=False closed=True debug=False>"}}]}, {"exc_type": "RuntimeError", "exc_value": "Task <Task pending name='anyio.from_thread.BlockingPortal._call_func' coro=<BlockingPortal._call_func() running at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/from_thread.py:222> cb=[TaskGroup._spawn.<locals>.task_done() at /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending> attached to a different loop", "syntax_error": null, "is_cause": false, "frames": [{"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", "lineno": 542, "name": "read_response", "line": "", "locals": {"self": "<redis.asyncio.connection.Connection(host=localhost,port=6379,db=0)>", "disable_decoding": "False", "timeout": "None", "disconnect_on_error": "True", "push_request": "False", "read_timeout": "None", "host_error": "localhost:6379"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 82, "name": "read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/resp2.py", "lineno": 90, "name": "_read_response", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "disable_decoding": "False"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/_parsers/base.py", "lineno": 219, "name": "_readline", "line": "", "locals": {"self": "<redis._parsers.resp2._AsyncRESP2Parser object at 0x7f2a2a5a1860>", "found": "-1", "tail": "b''"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 568, "name": "readline", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "sep": "b'\\n'", "seplen": "1"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 660, "name": "readuntil", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "separator": "b'\\n'", "seplen": "1", "offset": "0", "buflen": "0"}}, {"filename": "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", "lineno": 545, "name": "_wait_for_data", "line": "", "locals": {"self": "<StreamReader transport=<_SelectorSocketTransport closing fd=18>>", "func_name": "readuntil"}}]}]}
2025-08-18T15:46:47.2444593Z =============================== warnings summary ===============================
2025-08-18T15:46:47.2444969Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T15:46:47.2446275Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T15:46:47.2447414Z     import pkg_resources  # noqa: F401
2025-08-18T15:46:47.2447596Z 
2025-08-18T15:46:47.2447773Z tests/api/test_ingest_endpoints.py: 3 warnings
2025-08-18T15:46:47.2448127Z tests/ingest/test_tasks_eager.py: 3 warnings
2025-08-18T15:46:47.2448436Z tests/test_api_fast.py: 1 warning
2025-08-18T15:46:47.2448727Z tests/test_health.py: 5 warnings
2025-08-18T15:46:47.2449021Z tests/test_smoke.py: 5 warnings
2025-08-18T15:46:47.2449470Z services/api/tests/test_cors.py: 1 warning
2025-08-18T15:46:47.2449849Z services/api/tests/test_errors_json.py: 2 warnings
2025-08-18T15:46:47.2450211Z services/api/tests/test_health.py: 1 warning
2025-08-18T15:46:47.2450572Z services/api/tests/test_rate_limit.py: 122 warnings
2025-08-18T15:46:47.2452201Z   /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/asgi_correlation_id/extensions/sentry.py:27: DeprecationWarning: sentry_sdk.configure_scope is deprecated and will be removed in the next major version. Please consult our migration guide to learn how to migrate to the new API: https://docs.sentry.io/platforms/python/migration/1.x-to-2.x#scope-configuring
2025-08-18T15:46:47.2453522Z     with configure_scope() as scope:
2025-08-18T15:46:47.2453702Z 
2025-08-18T15:46:47.2453876Z tests/test_health.py::test_health[0]
2025-08-18T15:46:47.2454181Z tests/test_health.py::test_health[1]
2025-08-18T15:46:47.2454474Z tests/test_health.py::test_health[2]
2025-08-18T15:46:47.2454764Z tests/test_health.py::test_health[3]
2025-08-18T15:46:47.2455047Z tests/test_health.py::test_health[4]
2025-08-18T15:46:47.2456120Z   /home/runner/work/AWA-App/AWA-App/tests/test_health.py:22: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-18T15:46:47.2457100Z     return datetime.datetime.utcnow()
2025-08-18T15:46:47.2457275Z 
2025-08-18T15:46:47.2457547Z tests/test_health.py: 5 warnings
2025-08-18T15:46:47.2457835Z tests/test_smoke.py: 5 warnings
2025-08-18T15:46:47.2458131Z services/api/tests/test_cors.py: 1 warning
2025-08-18T15:46:47.2458486Z services/api/tests/test_rate_limit.py: 102 warnings
2025-08-18T15:46:47.2459649Z   /home/runner/work/AWA-App/AWA-App/services/api/routes/health.py:24: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-18T15:46:47.2460722Z     app_now = datetime.utcnow().replace(tzinfo=timezone.utc)
2025-08-18T15:46:47.2460957Z 
2025-08-18T15:46:47.2461081Z tests/test_health.py: 4 warnings
2025-08-18T15:46:47.2461356Z tests/test_smoke.py: 5 warnings
2025-08-18T15:46:47.2461657Z services/api/tests/test_cors.py: 3 warnings
2025-08-18T15:46:47.2462117Z services/api/tests/test_rate_limit.py: 1 warning
2025-08-18T15:46:47.2463116Z   /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/_pytest/unraisableexception.py:67: PytestUnraisableExceptionWarning: Exception ignored in: <function AbstractConnection.__del__ at 0x7f2a2dd28720>
2025-08-18T15:46:47.2463950Z   
2025-08-18T15:46:47.2464158Z   Traceback (most recent call last):
2025-08-18T15:46:47.2464790Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", line 218, in __del__
2025-08-18T15:46:47.2465328Z       self._close()
2025-08-18T15:46:47.2465900Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/site-packages/redis/asyncio/connection.py", line 225, in _close
2025-08-18T15:46:47.2466433Z       self._writer.close()
2025-08-18T15:46:47.2466913Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/streams.py", line 358, in close
2025-08-18T15:46:47.2467389Z       return self._transport.close()
2025-08-18T15:46:47.2467651Z              ^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:46:47.2468169Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", line 1213, in close
2025-08-18T15:46:47.2468644Z       super().close()
2025-08-18T15:46:47.2469137Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/selector_events.py", line 875, in close
2025-08-18T15:46:47.2469687Z       self._loop.call_soon(self._call_connection_lost, None)
2025-08-18T15:46:47.2470272Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", line 799, in call_soon
2025-08-18T15:46:47.2470890Z       self._check_closed()
2025-08-18T15:46:47.2471420Z     File "/opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/asyncio/base_events.py", line 545, in _check_closed
2025-08-18T15:46:47.2493260Z ##[error]      raise RuntimeError('Event loop is closed')
2025-08-18T15:46:47.2500303Z   RuntimeError: Event loop is closed
2025-08-18T15:46:47.2500590Z   
2025-08-18T15:46:47.2500922Z   Enable tracemalloc to get traceback where the object was allocated.
2025-08-18T15:46:47.2501559Z   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
2025-08-18T15:46:47.2502323Z     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
2025-08-18T15:46:47.2502599Z 
2025-08-18T15:46:47.2502754Z tests/test_smoke.py::test_health[0]
2025-08-18T15:46:47.2503071Z tests/test_smoke.py::test_health[1]
2025-08-18T15:46:47.2503362Z tests/test_smoke.py::test_health[2]
2025-08-18T15:46:47.2503647Z tests/test_smoke.py::test_health[3]
2025-08-18T15:46:47.2503948Z tests/test_smoke.py::test_health[4]
2025-08-18T15:46:47.2505036Z   /home/runner/work/AWA-App/AWA-App/tests/test_smoke.py:32: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-18T15:46:47.2506029Z     return datetime.datetime.utcnow()
2025-08-18T15:46:47.2506210Z 
2025-08-18T15:46:47.2506458Z services/api/tests/test_cors.py::test_cors_simple_get_allowed
2025-08-18T15:46:47.2507864Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_cors.py:27: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-18T15:46:47.2508879Z     return datetime.datetime.utcnow()
2025-08-18T15:46:47.2509052Z 
2025-08-18T15:46:47.2509236Z services/api/tests/test_rate_limit.py: 102 warnings
2025-08-18T15:46:47.2510410Z   /home/runner/work/AWA-App/AWA-App/services/api/tests/test_rate_limit.py:33: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
2025-08-18T15:46:47.2511434Z     return datetime.datetime.utcnow()
2025-08-18T15:46:47.2511606Z 
2025-08-18T15:46:47.2511872Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T15:46:47.2512507Z ================================ tests coverage ================================
2025-08-18T15:46:47.2512965Z _______________ coverage: platform linux, python 3.12.11-final-0 _______________
2025-08-18T15:46:47.2513232Z 
2025-08-18T15:46:47.2513380Z Coverage XML written to file coverage.xml
2025-08-18T15:46:47.2513779Z Required test coverage of 45% reached. Total coverage: 62.43%
2025-08-18T15:46:47.2514214Z =========================== short test summary info ============================
2025-08-18T15:46:47.2514968Z FAILED tests/api/test_ingest_endpoints.py::test_ingest_file_upload - Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:47.2515985Z FAILED tests/api/test_ingest_endpoints.py::test_ingest_json_uri - Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:47.2516962Z FAILED tests/api/test_ingest_endpoints.py::test_ingest_failure - Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:47.2517893Z FAILED tests/test_api_fast.py::test_health_endpoint - Exception: You must call FastAPILimiter.init in startup event of fastapi!
2025-08-18T15:46:47.2518731Z FAILED services/api/tests/test_errors_json.py::test_validation_error_json - RuntimeError: Event loop is closed
2025-08-18T15:46:47.2519471Z FAILED services/api/tests/test_health.py::test_health_route - RuntimeError: Event loop is closed
2025-08-18T15:46:47.6309980Z ##[error]Process completed with exit code 1.
2025-08-18T15:46:47.6359728Z ##[group]Run echo "::group::postgres container logs"
2025-08-18T15:46:47.6360166Z [36;1mecho "::group::postgres container logs"[0m
2025-08-18T15:46:47.6360700Z [36;1mdocker logs 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea --tail 200[0m
2025-08-18T15:46:47.6361197Z [36;1mecho "::endgroup::"[0m
2025-08-18T15:46:47.6402167Z shell: /usr/bin/bash -e {0}
2025-08-18T15:46:47.6402419Z env:
2025-08-18T15:46:47.6402652Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:46:47.6402967Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:46:47.6403247Z   TRUST_X_FORWARDED: 1
2025-08-18T15:46:47.6403480Z   PG_USER: postgres
2025-08-18T15:46:47.6403702Z   PG_PASSWORD: pass
2025-08-18T15:46:47.6403921Z   PG_DATABASE: awa
2025-08-18T15:46:47.6404127Z   PG_HOST: localhost
2025-08-18T15:46:47.6404344Z   PG_PORT: 5432
2025-08-18T15:46:47.6404812Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:46:47.6405299Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:46:47.6405788Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:46:47.6406070Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:46:47.6406306Z   ENABLE_LIVE: 0
2025-08-18T15:46:47.6406512Z   TESTING: 1
2025-08-18T15:46:47.6406798Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:46:47.6407265Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:46:47.6407724Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:46:47.6408146Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:46:47.6408754Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:46:47.6409173Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:46:47.6409513Z ##[endgroup]
2025-08-18T15:46:47.6468800Z ##[group]postgres container logs
2025-08-18T15:46:47.6587709Z The files belonging to this database system will be owned by user "postgres".
2025-08-18T15:46:47.6588595Z This user must also own the server process.
2025-08-18T15:46:47.6588978Z 
2025-08-18T15:46:47.6589431Z The database cluster will be initialized with locale "en_US.utf8".
2025-08-18T15:46:47.6590287Z The default database encoding has accordingly been set to "UTF8".
2025-08-18T15:46:47.6590853Z The default text search configuration will be set to "english".
2025-08-18T15:46:47.6591097Z 
2025-08-18T15:46:47.6591247Z Data page checksums are disabled.
2025-08-18T15:46:47.6591414Z 
2025-08-18T15:46:47.6591695Z fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-08-18T15:46:47.6592402Z creating subdirectories ... ok
2025-08-18T15:46:47.6592797Z selecting dynamic shared memory implementation ... posix
2025-08-18T15:46:47.6593180Z selecting default max_connections ... 100
2025-08-18T15:46:47.6593506Z selecting default shared_buffers ... 128MB
2025-08-18T15:46:47.6593820Z selecting default time zone ... Etc/UTC
2025-08-18T15:46:47.6594123Z creating configuration files ... ok
2025-08-18T15:46:47.6594418Z running bootstrap script ... ok
2025-08-18T15:46:47.6594752Z performing post-bootstrap initialization ... ok
2025-08-18T15:46:47.6595057Z syncing data to disk ... ok
2025-08-18T15:46:47.6595208Z 
2025-08-18T15:46:47.6595215Z 
2025-08-18T15:46:47.6595406Z Success. You can now start the database server using:
2025-08-18T15:46:47.6595626Z 
2025-08-18T15:46:47.6595798Z     pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-08-18T15:46:47.6596010Z 
2025-08-18T15:46:47.6596692Z waiting for server to start....2025-08-18 15:44:16.262 UTC [48] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-18T15:46:47.6597551Z 2025-08-18 15:44:16.263 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-18T15:46:47.6598157Z 2025-08-18 15:44:16.266 UTC [51] LOG:  database system was shut down at 2025-08-18 15:44:16 UTC
2025-08-18T15:46:47.6598702Z 2025-08-18 15:44:16.269 UTC [48] LOG:  database system is ready to accept connections
2025-08-18T15:46:47.6599279Z  done
2025-08-18T15:46:47.6599469Z server started
2025-08-18T15:46:47.6599661Z CREATE DATABASE
2025-08-18T15:46:47.6599774Z 
2025-08-18T15:46:47.6599779Z 
2025-08-18T15:46:47.6600082Z /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-08-18T15:46:47.6600442Z 
2025-08-18T15:46:47.6601026Z waiting for server to shut down...2025-08-18 15:44:16.476 UTC [48] LOG:  received fast shutdown request
2025-08-18T15:46:47.6601853Z .2025-08-18 15:44:16.477 UTC [48] LOG:  aborting any active transactions
2025-08-18T15:46:47.6602747Z 2025-08-18 15:44:16.480 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-08-18T15:46:47.6603421Z initdb: warning: enabling "trust" authentication for local connections
2025-08-18T15:46:47.6604936Z initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-08-18T15:46:47.6606085Z 2025-08-18 15:44:16.598 UTC [1] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-18T15:46:47.6606812Z 2025-08-18 15:44:16.598 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-08-18T15:46:47.6607343Z 2025-08-18 15:44:16.598 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-08-18T15:46:47.6607916Z 2025-08-18 15:44:16.599 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-18T15:46:47.6608549Z 2025-08-18 15:44:16.602 UTC [64] LOG:  database system was shut down at 2025-08-18 15:44:16 UTC
2025-08-18T15:46:47.6609308Z 2025-08-18 15:44:16.607 UTC [1] LOG:  database system is ready to accept connections
2025-08-18T15:46:47.6609741Z 2025-08-18 15:44:16.480 UTC [49] LOG:  shutting down
2025-08-18T15:46:47.6610178Z 2025-08-18 15:44:16.481 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-08-18T15:46:47.6611283Z 2025-08-18 15:44:16.503 UTC [49] LOG:  checkpoint complete: wrote 922 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.018 s, sync=0.004 s, total=0.023 s; sync files=301, longest=0.002 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
2025-08-18T15:46:47.6612410Z 2025-08-18 15:44:16.511 UTC [48] LOG:  database system is shut down
2025-08-18T15:46:47.6612717Z  done
2025-08-18T15:46:47.6612886Z server stopped
2025-08-18T15:46:47.6613006Z 
2025-08-18T15:46:47.6613201Z PostgreSQL init process complete; ready for start up.
2025-08-18T15:46:47.6613419Z 
2025-08-18T15:46:47.6613676Z ##[endgroup]
2025-08-18T15:46:47.6667438Z Post job cleanup.
2025-08-18T15:46:47.7671083Z [command]/usr/bin/git version
2025-08-18T15:46:47.7714283Z git version 2.50.1
2025-08-18T15:46:47.7756172Z Temporarily overriding HOME='/home/runner/work/_temp/e27f2e5f-b6f9-4e5b-8973-cebefdcd0928' before making global git config changes
2025-08-18T15:46:47.7757657Z Adding repository directory to the temporary git global config as a safe directory
2025-08-18T15:46:47.7761237Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-18T15:46:47.7795231Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-18T15:46:47.7827094Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-18T15:46:47.8053908Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-18T15:46:47.8073963Z http.https://github.com/.extraheader
2025-08-18T15:46:47.8085939Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-08-18T15:46:47.8116445Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-18T15:46:47.8453559Z Print service container logs: 33e253197b7d4ce9ab0ddc8e9efc9247_postgres15_7d493d
2025-08-18T15:46:47.8459335Z ##[command]/usr/bin/docker logs --details 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:46:47.8577905Z  The files belonging to this database system will be owned by user "postgres".
2025-08-18T15:46:47.8579855Z  initdb: warning: enabling "trust" authentication for local connections
2025-08-18T15:46:47.8581112Z  initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-08-18T15:46:47.8582940Z  2025-08-18 15:44:16.598 UTC [1] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-18T15:46:47.8584197Z  2025-08-18 15:44:16.598 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-08-18T15:46:47.8585205Z  2025-08-18 15:44:16.598 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-08-18T15:46:47.8586268Z  2025-08-18 15:44:16.599 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-18T15:46:47.8587204Z  2025-08-18 15:44:16.602 UTC [64] LOG:  database system was shut down at 2025-08-18 15:44:16 UTC
2025-08-18T15:46:47.8587819Z  2025-08-18 15:44:16.607 UTC [1] LOG:  database system is ready to accept connections
2025-08-18T15:46:47.8588356Z  This user must also own the server process.
2025-08-18T15:46:47.8588706Z  
2025-08-18T15:46:47.8589087Z  The database cluster will be initialized with locale "en_US.utf8".
2025-08-18T15:46:47.8589856Z  The default database encoding has accordingly been set to "UTF8".
2025-08-18T15:46:47.8590345Z  The default text search configuration will be set to "english".
2025-08-18T15:46:47.8592208Z  
2025-08-18T15:46:47.8592517Z  Data page checksums are disabled.
2025-08-18T15:46:47.8592843Z  
2025-08-18T15:46:47.8593268Z  fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-08-18T15:46:47.8604413Z  creating subdirectories ... ok
2025-08-18T15:46:47.8604941Z  selecting dynamic shared memory implementation ... posix
2025-08-18T15:46:47.8605316Z  selecting default max_connections ... 100
2025-08-18T15:46:47.8605604Z  selecting default shared_buffers ... 128MB
2025-08-18T15:46:47.8605871Z  selecting default time zone ... Etc/UTC
2025-08-18T15:46:47.8606137Z  creating configuration files ... ok
2025-08-18T15:46:47.8606392Z  running bootstrap script ... ok
2025-08-18T15:46:47.8606678Z  performing post-bootstrap initialization ... ok
2025-08-18T15:46:47.8606963Z  syncing data to disk ... ok
2025-08-18T15:46:47.8607184Z  
2025-08-18T15:46:47.8607337Z  
2025-08-18T15:46:47.8607551Z  Success. You can now start the database server using:
2025-08-18T15:46:47.8607834Z  
2025-08-18T15:46:47.8608059Z      pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-08-18T15:46:47.8608331Z  
2025-08-18T15:46:47.8608880Z  waiting for server to start....2025-08-18 15:44:16.262 UTC [48] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-18T15:46:47.8609625Z  2025-08-18 15:44:16.263 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-18T15:46:47.8610117Z  2025-08-18 15:44:16.266 UTC [51] LOG:  database system was shut down at 2025-08-18 15:44:16 UTC
2025-08-18T15:46:47.8610558Z  2025-08-18 15:44:16.269 UTC [48] LOG:  database system is ready to accept connections
2025-08-18T15:46:47.8610880Z   done
2025-08-18T15:46:47.8611049Z  server started
2025-08-18T15:46:47.8611233Z  CREATE DATABASE
2025-08-18T15:46:47.8611416Z  
2025-08-18T15:46:47.8611569Z  
2025-08-18T15:46:47.8611866Z  /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-08-18T15:46:47.8612442Z  
2025-08-18T15:46:47.8612756Z  waiting for server to shut down...2025-08-18 15:44:16.476 UTC [48] LOG:  received fast shutdown request
2025-08-18T15:46:47.8613460Z  .2025-08-18 15:44:16.477 UTC [48] LOG:  aborting any active transactions
2025-08-18T15:46:47.8613994Z  2025-08-18 15:44:16.480 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-08-18T15:46:47.8614458Z  2025-08-18 15:44:16.480 UTC [49] LOG:  shutting down
2025-08-18T15:46:47.8614795Z  2025-08-18 15:44:16.481 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-08-18T15:46:47.8615610Z  2025-08-18 15:44:16.503 UTC [49] LOG:  checkpoint complete: wrote 922 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.018 s, sync=0.004 s, total=0.023 s; sync files=301, longest=0.002 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
2025-08-18T15:46:47.8616406Z  2025-08-18 15:44:16.511 UTC [48] LOG:  database system is shut down
2025-08-18T15:46:47.8616692Z   done
2025-08-18T15:46:47.8616859Z  server stopped
2025-08-18T15:46:47.8617037Z  
2025-08-18T15:46:47.8617257Z  PostgreSQL init process complete; ready for start up.
2025-08-18T15:46:47.8617536Z  
2025-08-18T15:46:47.8623532Z Stop and remove container: 33e253197b7d4ce9ab0ddc8e9efc9247_postgres15_7d493d
2025-08-18T15:46:47.8627977Z ##[command]/usr/bin/docker rm --force 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:46:47.9790112Z 3cb92b4beeba6886d276b23143bc6f25d8dd45cd35b1c99be3960be3fc5d15ea
2025-08-18T15:46:47.9810658Z Print service container logs: cc8ffe2e07384899b9eb35ddb48d4232_redis7alpine_efc471
2025-08-18T15:46:47.9811837Z ##[command]/usr/bin/docker logs --details 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:46:47.9930677Z  1:C 18 Aug 2025 15:44:16.791 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
2025-08-18T15:46:47.9933632Z  1:C 18 Aug 2025 15:44:16.791 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
2025-08-18T15:46:47.9934396Z  1:C 18 Aug 2025 15:44:16.791 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
2025-08-18T15:46:47.9935557Z  1:C 18 Aug 2025 15:44:16.791 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
2025-08-18T15:46:47.9936574Z  1:M 18 Aug 2025 15:44:16.792 * monotonic clock: POSIX clock_gettime
2025-08-18T15:46:47.9937179Z  1:M 18 Aug 2025 15:44:16.792 * Running mode=standalone, port=6379.
2025-08-18T15:46:47.9937728Z  1:M 18 Aug 2025 15:44:16.792 * Server initialized
2025-08-18T15:46:47.9938247Z  1:M 18 Aug 2025 15:44:16.792 * Ready to accept connections tcp
2025-08-18T15:46:47.9944616Z Stop and remove container: cc8ffe2e07384899b9eb35ddb48d4232_redis7alpine_efc471
2025-08-18T15:46:47.9945375Z ##[command]/usr/bin/docker rm --force 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:46:48.0987088Z 66040c7967e592883dcf8b928276517a87c7cd39f90740589040d49d9caba18b
2025-08-18T15:46:48.1010214Z Remove container network: github_network_344c7b957d9e4590aa21d04a9c401dc4
2025-08-18T15:46:48.1015247Z ##[command]/usr/bin/docker network rm github_network_344c7b957d9e4590aa21d04a9c401dc4
2025-08-18T15:46:48.2168212Z github_network_344c7b957d9e4590aa21d04a9c401dc4
2025-08-18T15:46:48.2226348Z Cleaning up orphan processes
