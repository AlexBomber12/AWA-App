2025-08-19T20:08:24.3363863Z ##[group]Run echo "::group::postgres container logs"
2025-08-19T20:08:24.3364240Z [36;1mecho "::group::postgres container logs"[0m
2025-08-19T20:08:24.3364700Z [36;1mdocker logs 082af0c7153cff8635c5c67b7373bbce8ca516266dab5bc348c30e3d2edf6c0c --tail 200[0m
2025-08-19T20:08:24.3365148Z [36;1mecho "::endgroup::"[0m
2025-08-19T20:08:24.3406272Z shell: /usr/bin/bash -e {0}
2025-08-19T20:08:24.3406523Z env:
2025-08-19T20:08:24.3406735Z   REDIS_URL: redis://localhost:6379/0
2025-08-19T20:08:24.3407003Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-19T20:08:24.3407225Z   TRUST_X_FORWARDED: 1
2025-08-19T20:08:24.3407431Z   PG_USER: postgres
2025-08-19T20:08:24.3407634Z   PG_PASSWORD: pass
2025-08-19T20:08:24.3407827Z   PG_DATABASE: awa
2025-08-19T20:08:24.3408016Z   PG_HOST: localhost
2025-08-19T20:08:24.3408203Z   PG_PORT: 5432
2025-08-19T20:08:24.3408627Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-19T20:08:24.3409035Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-19T20:08:24.3409429Z   DATABASE_URL: ***localhost:5432/awa
2025-08-19T20:08:24.3409697Z   DATA_DIR: /tmp/awa-data
2025-08-19T20:08:24.3409909Z   ENABLE_LIVE: 0
2025-08-19T20:08:24.3410091Z   TESTING: 1
2025-08-19T20:08:24.3410338Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T20:08:24.3410737Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-19T20:08:24.3411130Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T20:08:24.3411482Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T20:08:24.3411842Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-19T20:08:24.3412198Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-19T20:08:24.3412500Z ##[endgroup]
2025-08-19T20:08:24.3470468Z ##[group]postgres container logs
2025-08-19T20:08:24.3588586Z The files belonging to this database system will be owned by user "postgres".
2025-08-19T20:08:24.3589877Z initdb: warning: enabling "trust" authentication for local connections
2025-08-19T20:08:24.3591424Z initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
2025-08-19T20:08:24.3593214Z 2025-08-19 20:05:45.804 UTC [1] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T20:08:24.3594524Z 2025-08-19 20:05:45.804 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2025-08-19T20:08:24.3595467Z 2025-08-19 20:05:45.804 UTC [1] LOG:  listening on IPv6 address "::", port 5432
2025-08-19T20:08:24.3596654Z 2025-08-19 20:05:45.806 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T20:08:24.3597724Z 2025-08-19 20:05:45.809 UTC [64] LOG:  database system was shut down at 2025-08-19 20:05:45 UTC
2025-08-19T20:08:24.3598649Z 2025-08-19 20:05:45.812 UTC [1] LOG:  database system is ready to accept connections
2025-08-19T20:08:24.3599622Z 2025-08-19 20:07:50.059 UTC [275] ERROR:  operator does not exist: date = text at character 538
2025-08-19T20:08:24.3600955Z 2025-08-19 20:07:50.059 UTC [275] HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.
2025-08-19T20:08:24.3601929Z 2025-08-19 20:07:50.059 UTC [275] STATEMENT:  
2025-08-19T20:08:24.3603003Z 	    WITH v(asin, marketplace, fee_type, amount, currency, source, effective_date) AS (VALUES ($1, $2, $3, $4, $5, $6, $7), ($8, $9, $10, $11, $12, $13, $14))
2025-08-19T20:08:24.3604326Z 	    UPDATE test_fees_raw AS t
2025-08-19T20:08:24.3605108Z 	    SET amount = v.amount, currency = v.currency, source = v.source, effective_date = v.effective_date
2025-08-19T20:08:24.3605809Z 	    FROM v
2025-08-19T20:08:24.3606569Z 	    WHERE t.asin = v.asin AND t.marketplace = v.marketplace AND t.fee_type = v.fee_type
2025-08-19T20:08:24.3608104Z 	      AND (t.amount IS DISTINCT FROM v.amount OR t.currency IS DISTINCT FROM v.currency OR t.source IS DISTINCT FROM v.source OR t.effective_date IS DISTINCT FROM v.effective_date);
2025-08-19T20:08:24.3609542Z 	    
2025-08-19T20:08:24.3610011Z This user must also own the server process.
2025-08-19T20:08:24.3610354Z 
2025-08-19T20:08:24.3610788Z The database cluster will be initialized with locale "en_US.utf8".
2025-08-19T20:08:24.3611641Z The default database encoding has accordingly been set to "UTF8".
2025-08-19T20:08:24.3612491Z The default text search configuration will be set to "english".
2025-08-19T20:08:24.3613114Z 
2025-08-19T20:08:24.3613406Z Data page checksums are disabled.
2025-08-19T20:08:24.3613624Z 
2025-08-19T20:08:24.3613913Z fixing permissions on existing directory /var/lib/postgresql/data ... ok
2025-08-19T20:08:24.3614330Z creating subdirectories ... ok
2025-08-19T20:08:24.3614711Z selecting dynamic shared memory implementation ... posix
2025-08-19T20:08:24.3615093Z selecting default max_connections ... 100
2025-08-19T20:08:24.3615425Z selecting default shared_buffers ... 128MB
2025-08-19T20:08:24.3615739Z selecting default time zone ... Etc/UTC
2025-08-19T20:08:24.3616058Z creating configuration files ... ok
2025-08-19T20:08:24.3616577Z running bootstrap script ... ok
2025-08-19T20:08:24.3616927Z performing post-bootstrap initialization ... ok
2025-08-19T20:08:24.3617261Z syncing data to disk ... ok
2025-08-19T20:08:24.3617425Z 
2025-08-19T20:08:24.3617432Z 
2025-08-19T20:08:24.3617626Z Success. You can now start the database server using:
2025-08-19T20:08:24.3617859Z 
2025-08-19T20:08:24.3618031Z     pg_ctl -D /var/lib/postgresql/data -l logfile start
2025-08-19T20:08:24.3618246Z 
2025-08-19T20:08:24.3618936Z waiting for server to start....2025-08-19 20:05:45.499 UTC [48] LOG:  starting PostgreSQL 15.14 (Debian 15.14-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
2025-08-19T20:08:24.3619817Z 2025-08-19 20:05:45.500 UTC [48] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
2025-08-19T20:08:24.3620454Z 2025-08-19 20:05:45.503 UTC [51] LOG:  database system was shut down at 2025-08-19 20:05:45 UTC
2025-08-19T20:08:24.3621022Z 2025-08-19 20:05:45.507 UTC [48] LOG:  database system is ready to accept connections
2025-08-19T20:08:24.3621364Z  done
2025-08-19T20:08:24.3621540Z server started
2025-08-19T20:08:24.3621733Z CREATE DATABASE
2025-08-19T20:08:24.3621848Z 
2025-08-19T20:08:24.3621856Z 
2025-08-19T20:08:24.3622162Z /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
2025-08-19T20:08:24.3622474Z 
2025-08-19T20:08:24.3622705Z 2025-08-19 20:05:45.685 UTC [48] LOG:  received fast shutdown request
2025-08-19T20:08:24.3623296Z waiting for server to shut down....2025-08-19 20:05:45.685 UTC [48] LOG:  aborting any active transactions
2025-08-19T20:08:24.3624038Z 2025-08-19 20:05:45.687 UTC [48] LOG:  background worker "logical replication launcher" (PID 54) exited with exit code 1
2025-08-19T20:08:24.3624586Z 2025-08-19 20:05:45.687 UTC [49] LOG:  shutting down
2025-08-19T20:08:24.3625032Z 2025-08-19 20:05:45.688 UTC [49] LOG:  checkpoint starting: shutdown immediate
2025-08-19T20:08:24.3626295Z 2025-08-19 20:05:45.705 UTC [49] LOG:  checkpoint complete: wrote 922 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.014 s, sync=0.002 s, total=0.018 s; sync files=301, longest=0.001 s, average=0.001 s; distance=4239 kB, estimate=4239 kB
2025-08-19T20:08:24.3627213Z 2025-08-19 20:05:45.712 UTC [48] LOG:  database system is shut down
2025-08-19T20:08:24.3627691Z  done
2025-08-19T20:08:24.3627863Z server stopped
2025-08-19T20:08:24.3627982Z 
2025-08-19T20:08:24.3628179Z PostgreSQL init process complete; ready for start up.
2025-08-19T20:08:24.3628402Z 
2025-08-19T20:08:24.3628709Z ##[endgroup]
