2025-08-17T19:57:07.8333086Z Current runner version: '2.327.1'
2025-08-17T19:57:07.8357526Z ##[group]Runner Image Provisioner
2025-08-17T19:57:07.8358306Z Hosted Compute Agent
2025-08-17T19:57:07.8358822Z Version: 20250812.370
2025-08-17T19:57:07.8359517Z Commit: 4a2b2bf7520004e3e907c2150c8cabe342a3da32
2025-08-17T19:57:07.8360171Z Build Date: 2025-08-12T16:08:14Z
2025-08-17T19:57:07.8360762Z ##[endgroup]
2025-08-17T19:57:07.8361321Z ##[group]Operating System
2025-08-17T19:57:07.8361901Z Ubuntu
2025-08-17T19:57:07.8362379Z 24.04.2
2025-08-17T19:57:07.8362849Z LTS
2025-08-17T19:57:07.8363327Z ##[endgroup]
2025-08-17T19:57:07.8363781Z ##[group]Runner Image
2025-08-17T19:57:07.8364638Z Image: ubuntu-24.04
2025-08-17T19:57:07.8365232Z Version: 20250810.1.0
2025-08-17T19:57:07.8366318Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250810.1/images/ubuntu/Ubuntu2404-Readme.md
2025-08-17T19:57:07.8367879Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250810.1
2025-08-17T19:57:07.8368884Z ##[endgroup]
2025-08-17T19:57:07.8371438Z ##[group]GITHUB_TOKEN Permissions
2025-08-17T19:57:07.8373652Z Actions: write
2025-08-17T19:57:07.8374170Z Attestations: write
2025-08-17T19:57:07.8375000Z Checks: write
2025-08-17T19:57:07.8375476Z Contents: write
2025-08-17T19:57:07.8375967Z Deployments: write
2025-08-17T19:57:07.8376515Z Discussions: write
2025-08-17T19:57:07.8377044Z Issues: write
2025-08-17T19:57:07.8377496Z Metadata: read
2025-08-17T19:57:07.8378040Z Models: read
2025-08-17T19:57:07.8378538Z Packages: write
2025-08-17T19:57:07.8379010Z Pages: write
2025-08-17T19:57:07.8379556Z PullRequests: write
2025-08-17T19:57:07.8380088Z RepositoryProjects: write
2025-08-17T19:57:07.8380654Z SecurityEvents: write
2025-08-17T19:57:07.8381337Z Statuses: write
2025-08-17T19:57:07.8381821Z ##[endgroup]
2025-08-17T19:57:07.8384670Z Secret source: Actions
2025-08-17T19:57:07.8386106Z Prepare workflow directory
2025-08-17T19:57:07.8701212Z Prepare all required actions
2025-08-17T19:57:07.8738303Z Getting action download info
2025-08-17T19:57:08.1822140Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-08-17T19:57:08.4273251Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2025-08-17T19:57:08.8258020Z Download action repository 'peaceiris/actions-gh-pages@v3' (SHA:373f7f263a76c20808c831209c920827a82a2847)
2025-08-17T19:57:09.1378886Z Complete job name: publish
2025-08-17T19:57:09.2046288Z ##[group]Run actions/checkout@v4
2025-08-17T19:57:09.2047103Z with:
2025-08-17T19:57:09.2047494Z   repository: AlexBomber12/AWA-App
2025-08-17T19:57:09.2048138Z   token: ***
2025-08-17T19:57:09.2048503Z   ssh-strict: true
2025-08-17T19:57:09.2048882Z   ssh-user: git
2025-08-17T19:57:09.2049263Z   persist-credentials: true
2025-08-17T19:57:09.2049696Z   clean: true
2025-08-17T19:57:09.2050213Z   sparse-checkout-cone-mode: true
2025-08-17T19:57:09.2050677Z   fetch-depth: 1
2025-08-17T19:57:09.2051049Z   fetch-tags: false
2025-08-17T19:57:09.2051452Z   show-progress: true
2025-08-17T19:57:09.2051856Z   lfs: false
2025-08-17T19:57:09.2052214Z   submodules: false
2025-08-17T19:57:09.2052610Z   set-safe-directory: true
2025-08-17T19:57:09.2053271Z ##[endgroup]
2025-08-17T19:57:09.3109651Z Syncing repository: AlexBomber12/AWA-App
2025-08-17T19:57:09.3111439Z ##[group]Getting Git version info
2025-08-17T19:57:09.3112112Z Working directory is '/home/runner/work/AWA-App/AWA-App'
2025-08-17T19:57:09.3113142Z [command]/usr/bin/git version
2025-08-17T19:57:09.3145153Z git version 2.50.1
2025-08-17T19:57:09.3170959Z ##[endgroup]
2025-08-17T19:57:09.3184250Z Temporarily overriding HOME='/home/runner/work/_temp/a6e1ee8c-b425-427b-8dc2-f3d63286c961' before making global git config changes
2025-08-17T19:57:09.3185786Z Adding repository directory to the temporary git global config as a safe directory
2025-08-17T19:57:09.3189155Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-17T19:57:09.3222249Z Deleting the contents of '/home/runner/work/AWA-App/AWA-App'
2025-08-17T19:57:09.3226038Z ##[group]Initializing the repository
2025-08-17T19:57:09.3229745Z [command]/usr/bin/git init /home/runner/work/AWA-App/AWA-App
2025-08-17T19:57:09.3283079Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-08-17T19:57:09.3284836Z hint: is subject to change. To configure the initial branch name to use in all
2025-08-17T19:57:09.3286324Z hint: of your new repositories, which will suppress this warning, call:
2025-08-17T19:57:09.3287302Z hint:
2025-08-17T19:57:09.3287771Z hint: 	git config --global init.defaultBranch <name>
2025-08-17T19:57:09.3288320Z hint:
2025-08-17T19:57:09.3288839Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-08-17T19:57:09.3289682Z hint: 'development'. The just-created branch can be renamed via this command:
2025-08-17T19:57:09.3290327Z hint:
2025-08-17T19:57:09.3290807Z hint: 	git branch -m <name>
2025-08-17T19:57:09.3291527Z hint:
2025-08-17T19:57:09.3292196Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-08-17T19:57:09.3293079Z Initialized empty Git repository in /home/runner/work/AWA-App/AWA-App/.git/
2025-08-17T19:57:09.3296580Z [command]/usr/bin/git remote add origin https://github.com/AlexBomber12/AWA-App
2025-08-17T19:57:09.3331900Z ##[endgroup]
2025-08-17T19:57:09.3332619Z ##[group]Disabling automatic garbage collection
2025-08-17T19:57:09.3333237Z [command]/usr/bin/git config --local gc.auto 0
2025-08-17T19:57:09.3359176Z ##[endgroup]
2025-08-17T19:57:09.3359825Z ##[group]Setting up auth
2025-08-17T19:57:09.3366046Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-17T19:57:09.3394844Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-17T19:57:09.3647194Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-17T19:57:09.3677688Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-17T19:57:09.3893884Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-08-17T19:57:09.3928101Z ##[endgroup]
2025-08-17T19:57:09.3928827Z ##[group]Fetching the repository
2025-08-17T19:57:09.3936422Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +cb98f3a06705f00ddd6f06a9620aa7793ac63349:refs/remotes/pull/235/merge
2025-08-17T19:57:09.6192638Z From https://github.com/AlexBomber12/AWA-App
2025-08-17T19:57:09.6195220Z  * [new ref]         cb98f3a06705f00ddd6f06a9620aa7793ac63349 -> pull/235/merge
2025-08-17T19:57:09.6217604Z ##[endgroup]
2025-08-17T19:57:09.6218745Z ##[group]Determining the checkout info
2025-08-17T19:57:09.6220219Z ##[endgroup]
2025-08-17T19:57:09.6225717Z [command]/usr/bin/git sparse-checkout disable
2025-08-17T19:57:09.6262488Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-08-17T19:57:09.6290119Z ##[group]Checking out the ref
2025-08-17T19:57:09.6294189Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/235/merge
2025-08-17T19:57:09.6547749Z Note: switching to 'refs/remotes/pull/235/merge'.
2025-08-17T19:57:09.6548673Z 
2025-08-17T19:57:09.6549281Z You are in 'detached HEAD' state. You can look around, make experimental
2025-08-17T19:57:09.6550677Z changes and commit them, and you can discard any commits you make in this
2025-08-17T19:57:09.6552037Z state without impacting any branches by switching back to a branch.
2025-08-17T19:57:09.6552844Z 
2025-08-17T19:57:09.6553373Z If you want to create a new branch to retain commits you create, you may
2025-08-17T19:57:09.6554526Z do so (now or later) by using -c with the switch command. Example:
2025-08-17T19:57:09.6555262Z 
2025-08-17T19:57:09.6555472Z   git switch -c <new-branch-name>
2025-08-17T19:57:09.6555789Z 
2025-08-17T19:57:09.6555972Z Or undo this operation with:
2025-08-17T19:57:09.6556252Z 
2025-08-17T19:57:09.6556501Z   git switch -
2025-08-17T19:57:09.6556851Z 
2025-08-17T19:57:09.6557444Z Turn off this advice by setting config variable advice.detachedHead to false
2025-08-17T19:57:09.6557992Z 
2025-08-17T19:57:09.6558629Z HEAD is now at cb98f3a Merge 2843fda17a63b39a5e274cfc2bb8b050addc62ca into 97065eb69453f02e7759e0696b7547027c125df4
2025-08-17T19:57:09.6560476Z ##[endgroup]
2025-08-17T19:57:09.6589628Z [command]/usr/bin/git log -1 --format=%H
2025-08-17T19:57:09.6610330Z cb98f3a06705f00ddd6f06a9620aa7793ac63349
2025-08-17T19:57:09.6843822Z ##[group]Run actions/setup-python@v5
2025-08-17T19:57:09.6844596Z with:
2025-08-17T19:57:09.6845066Z   python-version: 3.11
2025-08-17T19:57:09.6845483Z   check-latest: false
2025-08-17T19:57:09.6846016Z   token: ***
2025-08-17T19:57:09.6846410Z   update-environment: true
2025-08-17T19:57:09.6846836Z   allow-prereleases: false
2025-08-17T19:57:09.6847249Z   freethreaded: false
2025-08-17T19:57:09.6847637Z ##[endgroup]
2025-08-17T19:57:09.8498264Z ##[group]Installed versions
2025-08-17T19:57:09.8954211Z Successfully set up CPython (3.11.13)
2025-08-17T19:57:09.8963598Z ##[endgroup]
2025-08-17T19:57:09.9102768Z ##[group]Run pip install pydoc-markdown
2025-08-17T19:57:09.9103840Z [36;1mpip install pydoc-markdown[0m
2025-08-17T19:57:09.9336440Z shell: /usr/bin/bash -e {0}
2025-08-17T19:57:09.9336922Z env:
2025-08-17T19:57:09.9337391Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:09.9338152Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig
2025-08-17T19:57:09.9338904Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:09.9339575Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:09.9340244Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:09.9340928Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib
2025-08-17T19:57:09.9341500Z ##[endgroup]
2025-08-17T19:57:12.3067405Z Collecting pydoc-markdown
2025-08-17T19:57:12.3607870Z   Downloading pydoc_markdown-4.8.2-py3-none-any.whl.metadata (5.9 kB)
2025-08-17T19:57:12.4095437Z Collecting PyYAML<7.0,>=5.0 (from pydoc-markdown)
2025-08-17T19:57:12.4174801Z   Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
2025-08-17T19:57:12.4445820Z Collecting click<9.0,>=7.1 (from pydoc-markdown)
2025-08-17T19:57:12.4516053Z   Downloading click-8.2.1-py3-none-any.whl.metadata (2.5 kB)
2025-08-17T19:57:12.4816492Z Collecting databind.core<5.0.0,>=4.4.0 (from pydoc-markdown)
2025-08-17T19:57:12.4896485Z   Downloading databind.core-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-17T19:57:12.5328227Z Collecting databind.json<5.0.0,>=4.4.0 (from pydoc-markdown)
2025-08-17T19:57:12.5428354Z   Downloading databind.json-4.5.2-py3-none-any.whl.metadata (1.1 kB)
2025-08-17T19:57:12.5613386Z Collecting docspec<3.0.0,>=2.2.1 (from pydoc-markdown)
2025-08-17T19:57:12.5706937Z   Downloading docspec-2.2.2-py3-none-any.whl.metadata (1.0 kB)
2025-08-17T19:57:12.5884094Z Collecting docspec-python<3.0.0,>=2.2.1 (from pydoc-markdown)
2025-08-17T19:57:12.5961216Z   Downloading docspec_python-2.2.2-py3-none-any.whl.metadata (1.0 kB)
2025-08-17T19:57:12.6118261Z Collecting docstring-parser<0.12,>=0.11 (from pydoc-markdown)
2025-08-17T19:57:12.6211852Z   Downloading docstring_parser-0.11.tar.gz (22 kB)
2025-08-17T19:57:12.6344702Z   Installing build dependencies: started
2025-08-17T19:57:13.4498405Z   Installing build dependencies: finished with status 'done'
2025-08-17T19:57:13.4503563Z   Getting requirements to build wheel: started
2025-08-17T19:57:13.8019505Z   Getting requirements to build wheel: finished with status 'done'
2025-08-17T19:57:13.8026802Z   Preparing metadata (pyproject.toml): started
2025-08-17T19:57:13.9737311Z   Preparing metadata (pyproject.toml): finished with status 'done'
2025-08-17T19:57:13.9942095Z Collecting jinja2<4.0.0,>=3.0.0 (from pydoc-markdown)
2025-08-17T19:57:14.0014050Z   Downloading jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
2025-08-17T19:57:14.0229456Z Collecting nr.util<1.0.0,>=0.7.5 (from pydoc-markdown)
2025-08-17T19:57:14.0308538Z   Downloading nr.util-0.8.12-py3-none-any.whl.metadata (813 bytes)
2025-08-17T19:57:14.0611410Z Collecting requests<3.0.0,>=2.23.0 (from pydoc-markdown)
2025-08-17T19:57:14.0682534Z   Downloading requests-2.32.4-py3-none-any.whl.metadata (4.9 kB)
2025-08-17T19:57:14.0886297Z Collecting tomli<3.0.0,>=2.0.0 (from pydoc-markdown)
2025-08-17T19:57:14.0980077Z   Downloading tomli-2.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)
2025-08-17T19:57:14.1124216Z Collecting tomli_w<2.0.0,>=1.0.0 (from pydoc-markdown)
2025-08-17T19:57:14.1195223Z   Downloading tomli_w-1.2.0-py3-none-any.whl.metadata (5.7 kB)
2025-08-17T19:57:14.1705503Z Collecting watchdog (from pydoc-markdown)
2025-08-17T19:57:14.1777741Z   Downloading watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl.metadata (44 kB)
2025-08-17T19:57:14.2031149Z Collecting yapf>=0.30.0 (from pydoc-markdown)
2025-08-17T19:57:14.2116697Z   Downloading yapf-0.43.0-py3-none-any.whl.metadata (46 kB)
2025-08-17T19:57:14.2384252Z Collecting databind<5.0.0,>=4.5.2 (from databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.2466023Z   Downloading databind-4.5.2-py3-none-any.whl.metadata (4.3 kB)
2025-08-17T19:57:14.2645728Z Collecting Deprecated<2.0.0,>=1.2.12 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.2750795Z   Downloading Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
2025-08-17T19:57:14.2905748Z Collecting nr-date<3.0.0,>=2.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.2983059Z   Downloading nr_date-2.1.0-py3-none-any.whl.metadata (746 bytes)
2025-08-17T19:57:14.3152242Z Collecting nr-stream<2.0.0,>=1.0.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.3237988Z   Downloading nr_stream-1.1.5-py3-none-any.whl.metadata (3.6 kB)
2025-08-17T19:57:14.3449120Z Collecting typeapi<3,>=2.0.1 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.3527849Z   Downloading typeapi-2.2.4-py3-none-any.whl.metadata (1.5 kB)
2025-08-17T19:57:14.3746159Z Collecting typing-extensions<5,>=3.10.0 (from databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.3814685Z   Downloading typing_extensions-4.14.1-py3-none-any.whl.metadata (3.0 kB)
2025-08-17T19:57:14.4871153Z Collecting wrapt<2,>=1.10 (from Deprecated<2.0.0,>=1.2.12->databind<5.0.0,>=4.5.2->databind.core<5.0.0,>=4.4.0->pydoc-markdown)
2025-08-17T19:57:14.4946530Z   Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
2025-08-17T19:57:14.5519886Z Collecting black>=24.8.0 (from docspec-python<3.0.0,>=2.2.1->pydoc-markdown)
2025-08-17T19:57:14.5617764Z   Downloading black-25.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl.metadata (81 kB)
2025-08-17T19:57:14.5741174Z Collecting docspec<3.0.0,>=2.2.1 (from pydoc-markdown)
2025-08-17T19:57:14.5827956Z   Downloading docspec-2.2.1-py3-none-any.whl.metadata (1.5 kB)
2025-08-17T19:57:14.6434192Z Collecting MarkupSafe>=2.0 (from jinja2<4.0.0,>=3.0.0->pydoc-markdown)
2025-08-17T19:57:14.6509765Z   Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.0 kB)
2025-08-17T19:57:14.7469168Z Collecting charset_normalizer<4,>=2 (from requests<3.0.0,>=2.23.0->pydoc-markdown)
2025-08-17T19:57:14.7541744Z   Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (36 kB)
2025-08-17T19:57:14.7742555Z Collecting idna<4,>=2.5 (from requests<3.0.0,>=2.23.0->pydoc-markdown)
2025-08-17T19:57:14.7811835Z   Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)
2025-08-17T19:57:14.8129803Z Collecting urllib3<3,>=1.21.1 (from requests<3.0.0,>=2.23.0->pydoc-markdown)
2025-08-17T19:57:14.8201739Z   Downloading urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
2025-08-17T19:57:14.8440227Z Collecting certifi>=2017.4.17 (from requests<3.0.0,>=2.23.0->pydoc-markdown)
2025-08-17T19:57:14.8517830Z   Downloading certifi-2025.8.3-py3-none-any.whl.metadata (2.4 kB)
2025-08-17T19:57:14.8813837Z Collecting mypy-extensions>=0.4.3 (from black>=24.8.0->docspec-python<3.0.0,>=2.2.1->pydoc-markdown)
2025-08-17T19:57:14.8885759Z   Downloading mypy_extensions-1.1.0-py3-none-any.whl.metadata (1.1 kB)
2025-08-17T19:57:14.9073129Z Collecting packaging>=22.0 (from black>=24.8.0->docspec-python<3.0.0,>=2.2.1->pydoc-markdown)
2025-08-17T19:57:14.9143812Z   Downloading packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
2025-08-17T19:57:14.9306350Z Collecting pathspec>=0.9.0 (from black>=24.8.0->docspec-python<3.0.0,>=2.2.1->pydoc-markdown)
2025-08-17T19:57:14.9377314Z   Downloading pathspec-0.12.1-py3-none-any.whl.metadata (21 kB)
2025-08-17T19:57:14.9618989Z Collecting platformdirs>=2 (from black>=24.8.0->docspec-python<3.0.0,>=2.2.1->pydoc-markdown)
2025-08-17T19:57:14.9690961Z   Downloading platformdirs-4.3.8-py3-none-any.whl.metadata (12 kB)
2025-08-17T19:57:14.9956395Z Downloading pydoc_markdown-4.8.2-py3-none-any.whl (67 kB)
2025-08-17T19:57:15.0051567Z Downloading click-8.2.1-py3-none-any.whl (102 kB)
2025-08-17T19:57:15.0163760Z Downloading databind.core-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-17T19:57:15.0271276Z Downloading databind-4.5.2-py3-none-any.whl (49 kB)
2025-08-17T19:57:15.0363044Z Downloading databind.json-4.5.2-py3-none-any.whl (1.5 kB)
2025-08-17T19:57:15.0448879Z Downloading Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
2025-08-17T19:57:15.0545232Z Downloading docspec_python-2.2.2-py3-none-any.whl (15 kB)
2025-08-17T19:57:15.0642625Z Downloading docspec-2.2.1-py3-none-any.whl (9.8 kB)
2025-08-17T19:57:15.0735938Z Downloading jinja2-3.1.6-py3-none-any.whl (134 kB)
2025-08-17T19:57:15.0846174Z Downloading nr_date-2.1.0-py3-none-any.whl (10 kB)
2025-08-17T19:57:15.1033683Z Downloading nr_stream-1.1.5-py3-none-any.whl (10 kB)
2025-08-17T19:57:15.1150564Z Downloading nr.util-0.8.12-py3-none-any.whl (90 kB)
2025-08-17T19:57:15.1258063Z Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (762 kB)
2025-08-17T19:57:15.1409559Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 763.0/763.0 kB 44.0 MB/s  0:00:00
2025-08-17T19:57:15.1486312Z Downloading requests-2.32.4-py3-none-any.whl (64 kB)
2025-08-17T19:57:15.1583296Z Downloading charset_normalizer-3.4.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (150 kB)
2025-08-17T19:57:15.1680177Z Downloading idna-3.10-py3-none-any.whl (70 kB)
2025-08-17T19:57:15.1775497Z Downloading tomli-2.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (236 kB)
2025-08-17T19:57:15.1873243Z Downloading tomli_w-1.2.0-py3-none-any.whl (6.7 kB)
2025-08-17T19:57:15.1981160Z Downloading typeapi-2.2.4-py3-none-any.whl (26 kB)
2025-08-17T19:57:15.2077374Z Downloading typing_extensions-4.14.1-py3-none-any.whl (43 kB)
2025-08-17T19:57:15.2183531Z Downloading urllib3-2.5.0-py3-none-any.whl (129 kB)
2025-08-17T19:57:15.2289280Z Downloading wrapt-1.17.3-cp311-cp311-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (82 kB)
2025-08-17T19:57:15.2424792Z Downloading black-25.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl (1.7 MB)
2025-08-17T19:57:15.2721666Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 67.9 MB/s  0:00:00
2025-08-17T19:57:15.2804651Z Downloading certifi-2025.8.3-py3-none-any.whl (161 kB)
2025-08-17T19:57:15.2908861Z Downloading MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
2025-08-17T19:57:15.3000992Z Downloading mypy_extensions-1.1.0-py3-none-any.whl (5.0 kB)
2025-08-17T19:57:15.3105894Z Downloading packaging-25.0-py3-none-any.whl (66 kB)
2025-08-17T19:57:15.3206041Z Downloading pathspec-0.12.1-py3-none-any.whl (31 kB)
2025-08-17T19:57:15.3301004Z Downloading platformdirs-4.3.8-py3-none-any.whl (18 kB)
2025-08-17T19:57:15.3403330Z Downloading yapf-0.43.0-py3-none-any.whl (256 kB)
2025-08-17T19:57:15.3562642Z Downloading watchdog-6.0.0-py3-none-manylinux2014_x86_64.whl (79 kB)
2025-08-17T19:57:15.3833941Z Building wheels for collected packages: docstring-parser
2025-08-17T19:57:15.3841715Z   Building wheel for docstring-parser (pyproject.toml): started
2025-08-17T19:57:15.5862768Z   Building wheel for docstring-parser (pyproject.toml): finished with status 'done'
2025-08-17T19:57:15.5868152Z   Created wheel for docstring-parser: filename=docstring_parser-0.11-py3-none-any.whl size=31551 sha256=e31089ff2f5d738194dad2eb72c0666444e5226b2729e5bbed98f5a52108a2bc
2025-08-17T19:57:15.5869694Z   Stored in directory: /home/runner/.cache/pip/wheels/0f/f9/78/1186f8bf3425dbd3fb3fa32beee828876c792f49eb2554e888
2025-08-17T19:57:15.5886326Z Successfully built docstring-parser
2025-08-17T19:57:15.6347883Z Installing collected packages: wrapt, watchdog, urllib3, typing-extensions, tomli_w, tomli, PyYAML, platformdirs, pathspec, packaging, nr-stream, nr-date, mypy-extensions, MarkupSafe, idna, docstring-parser, click, charset_normalizer, certifi, yapf, typeapi, requests, jinja2, Deprecated, black, nr.util, databind, databind.json, databind.core, docspec, docspec-python, pydoc-markdown
2025-08-17T19:57:16.7451784Z 
2025-08-17T19:57:16.7473260Z Successfully installed Deprecated-1.2.18 MarkupSafe-3.0.2 PyYAML-6.0.2 black-25.1.0 certifi-2025.8.3 charset_normalizer-3.4.3 click-8.2.1 databind-4.5.2 databind.core-4.5.2 databind.json-4.5.2 docspec-2.2.1 docspec-python-2.2.2 docstring-parser-0.11 idna-3.10 jinja2-3.1.6 mypy-extensions-1.1.0 nr-date-2.1.0 nr-stream-1.1.5 nr.util-0.8.12 packaging-25.0 pathspec-0.12.1 platformdirs-4.3.8 pydoc-markdown-4.8.2 requests-2.32.4 tomli-2.2.1 tomli_w-1.2.0 typeapi-2.2.4 typing-extensions-4.14.1 urllib3-2.5.0 watchdog-6.0.0 wrapt-1.17.3 yapf-0.43.0
2025-08-17T19:57:16.9342756Z ##[group]Run pydoc-markdown
2025-08-17T19:57:16.9343043Z [36;1mpydoc-markdown[0m
2025-08-17T19:57:16.9386580Z shell: /usr/bin/bash -e {0}
2025-08-17T19:57:16.9386823Z env:
2025-08-17T19:57:16.9387067Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:16.9387464Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig
2025-08-17T19:57:16.9387849Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:16.9388178Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:16.9388513Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:16.9388846Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib
2025-08-17T19:57:16.9389131Z ##[endgroup]
2025-08-17T19:57:17.2540198Z [WARNING - pydoc_markdown.main]: Unknown configuration options:
2025-08-17T19:57:17.2541018Z Unknown key(s) "{'output_directory'}" at:
2025-08-17T19:57:17.2541480Z In "pydoc-markdown.yml"
2025-08-17T19:57:17.2541999Z   $: TypeHint(pydoc_markdown.PydocMarkdown)
2025-08-17T19:57:17.2542576Z   .renderer: TypeHint(pydoc_markdown.interfaces.Renderer)
2025-08-17T19:57:17.2543328Z   ^: TypeHint(pydoc_markdown.contrib.renderers.markdown.MarkdownRenderer)
2025-08-17T19:57:17.2543853Z 
2025-08-17T19:57:17.4906350Z <a id="__init__"></a>
2025-08-17T19:57:17.4906663Z 
2025-08-17T19:57:17.4906827Z # \_\_init\_\_
2025-08-17T19:57:17.4907068Z 
2025-08-17T19:57:17.4907224Z <a id="api"></a>
2025-08-17T19:57:17.4907478Z 
2025-08-17T19:57:17.4907628Z # api
2025-08-17T19:57:17.4907829Z 
2025-08-17T19:57:17.4907932Z <a id="api.tests.test_llm"></a>
2025-08-17T19:57:17.4908177Z 
2025-08-17T19:57:17.4908304Z # api.tests.test\_llm
2025-08-17T19:57:17.4908508Z 
2025-08-17T19:57:17.4908926Z <a id="api.tests.test_imports"></a>
2025-08-17T19:57:17.4909235Z 
2025-08-17T19:57:17.4909382Z # api.tests.test\_imports
2025-08-17T19:57:17.4909619Z 
2025-08-17T19:57:17.4909788Z <a id="api.tests.test_entrypoint"></a>
2025-08-17T19:57:17.4910404Z 
2025-08-17T19:57:17.4910566Z # api.tests.test\_entrypoint
2025-08-17T19:57:17.4910830Z 
2025-08-17T19:57:17.4910983Z <a id="api.tests.test_health"></a>
2025-08-17T19:57:17.4911263Z 
2025-08-17T19:57:17.4911420Z # api.tests.test\_health
2025-08-17T19:57:17.4911657Z 
2025-08-17T19:57:17.4911806Z <a id="api.migrations.env"></a>
2025-08-17T19:57:17.4912065Z 
2025-08-17T19:57:17.4912195Z # api.migrations.env
2025-08-17T19:57:17.4912402Z 
2025-08-17T19:57:17.4912607Z <a id="api.migrations.versions.0022_fix_roi_view"></a>
2025-08-17T19:57:17.4912954Z 
2025-08-17T19:57:17.4913138Z # api.migrations.versions.0022\_fix\_roi\_view
2025-08-17T19:57:17.4913457Z 
2025-08-17T19:57:17.4913640Z <a id="api.migrations.versions.0004_fee_cron"></a>
2025-08-17T19:57:17.4913967Z 
2025-08-17T19:57:17.4914240Z # api.migrations.versions.0004\_fee\_cron
2025-08-17T19:57:17.4914732Z 
2025-08-17T19:57:17.4914992Z <a id="api.migrations.versions.3e9d5c5aff2c_rename_fulf_fee"></a>
2025-08-17T19:57:17.4915402Z 
2025-08-17T19:57:17.4915660Z # api.migrations.versions.3e9d5c5aff2c\_rename\_fulf\_fee
2025-08-17T19:57:17.4916032Z 
2025-08-17T19:57:17.4916237Z <a id="api.migrations.versions.0003_vendor_prices"></a>
2025-08-17T19:57:17.4916579Z 
2025-08-17T19:57:17.4916762Z # api.migrations.versions.0003\_vendor\_prices
2025-08-17T19:57:17.4917078Z 
2025-08-17T19:57:17.4917275Z <a id="api.migrations.versions.0024_create_buybox"></a>
2025-08-17T19:57:17.4917619Z 
2025-08-17T19:57:17.4917791Z # api.migrations.versions.0024\_create\_buybox
2025-08-17T19:57:17.4918101Z 
2025-08-17T19:57:17.4918313Z <a id="api.migrations.versions.0002_create_roi_view"></a>
2025-08-17T19:57:17.4918663Z 
2025-08-17T19:57:17.4918840Z # api.migrations.versions.0002\_create\_roi\_view
2025-08-17T19:57:17.4919185Z 
2025-08-17T19:57:17.4919388Z <a id="api.migrations.versions.0006_fix_roi_views"></a>
2025-08-17T19:57:17.4919730Z 
2025-08-17T19:57:17.4919923Z # api.migrations.versions.0006\_fix\_roi\_views
2025-08-17T19:57:17.4920280Z 
2025-08-17T19:57:17.4920793Z <a id="api.migrations.versions.0020_unified_schema"></a>
2025-08-17T19:57:17.4921204Z 
2025-08-17T19:57:17.4921406Z # api.migrations.versions.0020\_unified\_schema
2025-08-17T19:57:17.4921736Z 
2025-08-17T19:57:17.4921972Z <a id="api.migrations.versions.0025_pr4_indexes_loadlog"></a>
2025-08-17T19:57:17.4922359Z 
2025-08-17T19:57:17.4922558Z # api.migrations.versions.0025\_pr4\_indexes\_loadlog
2025-08-17T19:57:17.4922904Z 
2025-08-17T19:57:17.4923109Z <a id="api.migrations.versions.0023_add_storage_fee"></a>
2025-08-17T19:57:17.4923469Z 
2025-08-17T19:57:17.4923649Z # api.migrations.versions.0023\_add\_storage\_fee
2025-08-17T19:57:17.4923976Z 
2025-08-17T19:57:17.4924102Z <a id="api.migrations.versions.0001_baseline"></a>
2025-08-17T19:57:17.4924297Z 
2025-08-17T19:57:17.4924616Z # api.migrations.versions.0001\_baseline
2025-08-17T19:57:17.4924801Z 
2025-08-17T19:57:17.4924891Z <a id="api.migrations.versions"></a>
2025-08-17T19:57:17.4925056Z 
2025-08-17T19:57:17.4925142Z # api.migrations.versions
2025-08-17T19:57:17.4925293Z 
2025-08-17T19:57:17.4925371Z <a id="api.migrations"></a>
2025-08-17T19:57:17.4925504Z 
2025-08-17T19:57:17.4925579Z # api.migrations
2025-08-17T19:57:17.4925686Z 
2025-08-17T19:57:17.4925755Z <a id="api.db"></a>
2025-08-17T19:57:17.4925869Z 
2025-08-17T19:57:17.4925933Z # api.db
2025-08-17T19:57:17.4926020Z 
2025-08-17T19:57:17.4926101Z <a id="api.routes.stats"></a>
2025-08-17T19:57:17.4926249Z 
2025-08-17T19:57:17.4926319Z # api.routes.stats
2025-08-17T19:57:17.4926431Z 
2025-08-17T19:57:17.4926524Z <a id="api.routes.stats.kpi"></a>
2025-08-17T19:57:17.4926689Z 
2025-08-17T19:57:17.4926753Z #### kpi
2025-08-17T19:57:17.4926843Z 
2025-08-17T19:57:17.4926915Z ```python
2025-08-17T19:57:17.4927087Z @router.get("/stats/kpi")
2025-08-17T19:57:17.4927321Z def kpi() -> List[Dict[str, int]]
2025-08-17T19:57:17.4927556Z ```
2025-08-17T19:57:17.4927646Z 
2025-08-17T19:57:17.4927725Z Return KPI metrics (mock).
2025-08-17T19:57:17.4927864Z 
2025-08-17T19:57:17.4927971Z <a id="api.routes.stats.roi_by_vendor"></a>
2025-08-17T19:57:17.4928316Z 
2025-08-17T19:57:17.4928387Z #### roi\_by\_vendor
2025-08-17T19:57:17.4928498Z 
2025-08-17T19:57:17.4928567Z ```python
2025-08-17T19:57:17.4928734Z @router.get("/stats/roi_by_vendor")
2025-08-17T19:57:17.4928980Z def roi_by_vendor() -> List[Dict[str, int]]
2025-08-17T19:57:17.4929205Z ```
2025-08-17T19:57:17.4929292Z 
2025-08-17T19:57:17.4929371Z Return ROI percent by vendor.
2025-08-17T19:57:17.4929513Z 
2025-08-17T19:57:17.4929608Z <a id="api.routes.stats.roi_trend"></a>
2025-08-17T19:57:17.4929774Z 
2025-08-17T19:57:17.4929838Z #### roi\_trend
2025-08-17T19:57:17.4929937Z 
2025-08-17T19:57:17.4930007Z ```python
2025-08-17T19:57:17.4930168Z @router.get("/stats/roi_trend")
2025-08-17T19:57:17.4930407Z def roi_trend() -> List[Dict[str, int | str]]
2025-08-17T19:57:17.4930634Z ```
2025-08-17T19:57:17.4930723Z 
2025-08-17T19:57:17.4930797Z Return 30-day ROI trend.
2025-08-17T19:57:17.4930945Z 
2025-08-17T19:57:17.4931025Z <a id="api.routes.roi"></a>
2025-08-17T19:57:17.4931207Z 
2025-08-17T19:57:17.4931278Z # api.routes.roi
2025-08-17T19:57:17.4931392Z 
2025-08-17T19:57:17.4931473Z <a id="api.routes.health"></a>
2025-08-17T19:57:17.4931610Z 
2025-08-17T19:57:17.4931689Z # api.routes.health
2025-08-17T19:57:17.4931798Z 
2025-08-17T19:57:17.4931889Z <a id="api.routes.health.MAX_SKEW"></a>
2025-08-17T19:57:17.4932060Z 
2025-08-17T19:57:17.4932122Z #### MAX\_SKEW
2025-08-17T19:57:17.4932218Z 
2025-08-17T19:57:17.4932279Z seconds
2025-08-17T19:57:17.4932366Z 
2025-08-17T19:57:17.4932455Z <a id="api.routes.health.health"></a>
2025-08-17T19:57:17.4932615Z 
2025-08-17T19:57:17.4932684Z #### health
2025-08-17T19:57:17.4932775Z 
2025-08-17T19:57:17.4932839Z ```python
2025-08-17T19:57:17.4933033Z @router.get("/health", include_in_schema=False)
2025-08-17T19:57:17.4933401Z async def health(session: AsyncSession = Depends(get_session)) -> JSONResponse
2025-08-17T19:57:17.4933738Z ```
2025-08-17T19:57:17.4933819Z 
2025-08-17T19:57:17.4933933Z Return 200 when DB reachable and clocks are in sync.
2025-08-17T19:57:17.4934271Z 
2025-08-17T19:57:17.4934545Z <a id="api.routes.repository"></a>
2025-08-17T19:57:17.4934804Z 
2025-08-17T19:57:17.4934890Z # api.routes.repository
2025-08-17T19:57:17.4935018Z 
2025-08-17T19:57:17.4935091Z <a id="api.routes"></a>
2025-08-17T19:57:17.4935213Z 
2025-08-17T19:57:17.4935277Z # api.routes
2025-08-17T19:57:17.4935374Z 
2025-08-17T19:57:17.4935451Z <a id="api.models.fee"></a>
2025-08-17T19:57:17.4935588Z 
2025-08-17T19:57:17.4935655Z # api.models.fee
2025-08-17T19:57:17.4935763Z 
2025-08-17T19:57:17.4935839Z <a id="api.models"></a>
2025-08-17T19:57:17.4935950Z 
2025-08-17T19:57:17.4936013Z # api.models
2025-08-17T19:57:17.4936105Z 
2025-08-17T19:57:17.4936190Z <a id="api.roi_repository"></a>
2025-08-17T19:57:17.4936329Z 
2025-08-17T19:57:17.4936399Z # api.roi\_repository
2025-08-17T19:57:17.4936518Z 
2025-08-17T19:57:17.4936586Z <a id="api.main"></a>
2025-08-17T19:57:17.4936696Z 
2025-08-17T19:57:17.4936758Z # api.main
2025-08-17T19:57:17.4936854Z 
2025-08-17T19:57:17.4936942Z <a id="api.main.ready"></a>
2025-08-17T19:57:17.4937072Z 
2025-08-17T19:57:17.4937139Z #### ready
2025-08-17T19:57:17.4937228Z 
2025-08-17T19:57:17.4937291Z ```python
2025-08-17T19:57:17.4937554Z @app.get("/ready", status_code=status.HTTP_200_OK, include_in_schema=False)
2025-08-17T19:57:17.4938010Z async def ready(session: AsyncSession = Depends(get_session)) -> dict[str,
2025-08-17T19:57:17.4938362Z                                                                       str]
2025-08-17T19:57:17.4938597Z ```
2025-08-17T19:57:17.4938678Z 
2025-08-17T19:57:17.4938780Z Return 200 only when migrations are at head.
2025-08-17T19:57:17.4938951Z 
2025-08-17T19:57:17.4939023Z <a id="api.config"></a>
2025-08-17T19:57:17.4939141Z 
2025-08-17T19:57:17.4939211Z # api.config
2025-08-17T19:57:17.4939304Z 
2025-08-17T19:57:17.4939371Z <a id="etl"></a>
2025-08-17T19:57:17.4939478Z 
2025-08-17T19:57:17.4939540Z # etl
2025-08-17T19:57:17.4939624Z 
2025-08-17T19:57:17.4939703Z <a id="etl.fba_fee_ingestor"></a>
2025-08-17T19:57:17.4939990Z 
2025-08-17T19:57:17.4940068Z # etl.fba\_fee\_ingestor
2025-08-17T19:57:17.4940190Z 
2025-08-17T19:57:17.4940277Z <a id="etl.sp_fees_ingestor"></a>
2025-08-17T19:57:17.4940417Z 
2025-08-17T19:57:17.4940490Z # etl.sp\_fees\_ingestor
2025-08-17T19:57:17.4940616Z 
2025-08-17T19:57:17.4940694Z <a id="etl.keepa_ingestor"></a>
2025-08-17T19:57:17.4940831Z 
2025-08-17T19:57:17.4940900Z # etl.keepa\_ingestor
2025-08-17T19:57:17.4941021Z 
2025-08-17T19:57:17.4941088Z <a id="etl.db"></a>
2025-08-17T19:57:17.4941193Z 
2025-08-17T19:57:17.4941261Z # etl.db
2025-08-17T19:57:17.4941349Z 
2025-08-17T19:57:17.4941432Z <a id="etl.dialects.schemas"></a>
2025-08-17T19:57:17.4941577Z 
2025-08-17T19:57:17.4941657Z # etl.dialects.schemas
2025-08-17T19:57:17.4941774Z 
2025-08-17T19:57:17.4941879Z <a id="etl.dialects.amazon_reimbursements"></a>
2025-08-17T19:57:17.4942069Z 
2025-08-17T19:57:17.4942158Z # etl.dialects.amazon\_reimbursements
2025-08-17T19:57:17.4942318Z 
2025-08-17T19:57:17.4942415Z <a id="etl.dialects.amazon_returns"></a>
2025-08-17T19:57:17.4942587Z 
2025-08-17T19:57:17.4942669Z # etl.dialects.amazon\_returns
2025-08-17T19:57:17.4942807Z 
2025-08-17T19:57:17.4942885Z <a id="etl.dialects"></a>
2025-08-17T19:57:17.4943008Z 
2025-08-17T19:57:17.4943073Z # etl.dialects
2025-08-17T19:57:17.4943177Z 
2025-08-17T19:57:17.4943243Z <a id="ingest"></a>
2025-08-17T19:57:17.4943349Z 
2025-08-17T19:57:17.4943409Z # ingest
2025-08-17T19:57:17.4943500Z 
2025-08-17T19:57:17.4943580Z <a id="ingest.maintenance"></a>
2025-08-17T19:57:17.4943719Z 
2025-08-17T19:57:17.4943797Z # ingest.maintenance
2025-08-17T19:57:17.4943909Z 
2025-08-17T19:57:17.4943986Z <a id="ingest.copy_loader"></a>
2025-08-17T19:57:17.4944129Z 
2025-08-17T19:57:17.4944199Z # ingest.copy\_loader
2025-08-17T19:57:17.4944314Z 
2025-08-17T19:57:17.4944614Z <a id="ingest.copy_loader.copy_df_via_temp"></a>
2025-08-17T19:57:17.4944808Z 
2025-08-17T19:57:17.4944881Z #### copy\_df\_via\_temp
2025-08-17T19:57:17.4945000Z 
2025-08-17T19:57:17.4945070Z ```python
2025-08-17T19:57:17.4945361Z def copy_df_via_temp(engine: Engine,
2025-08-17T19:57:17.4945617Z                      df: pd.DataFrame,
2025-08-17T19:57:17.4945842Z                      target_table: str,
2025-08-17T19:57:17.4946059Z                      *,
2025-08-17T19:57:17.4946264Z                      target_schema: Optional[str] = None,
2025-08-17T19:57:17.4946529Z                      columns: Sequence[str],
2025-08-17T19:57:17.4946801Z                      conflict_cols: Optional[Sequence[str]] = None,
2025-08-17T19:57:17.4947078Z                      analyze_after: bool = False,
2025-08-17T19:57:17.4947342Z                      connection: Any | None = None) -> int
2025-08-17T19:57:17.4947574Z ```
2025-08-17T19:57:17.4947663Z 
2025-08-17T19:57:17.4947818Z Bulk load *df* into *target_table* using COPY and a staging table.
2025-08-17T19:57:17.4948048Z 
2025-08-17T19:57:17.4948133Z <a id="ingest.tests.test_smoke"></a>
2025-08-17T19:57:17.4948297Z 
2025-08-17T19:57:17.4948375Z # ingest.tests.test\_smoke
2025-08-17T19:57:17.4948513Z 
2025-08-17T19:57:17.4948594Z <a id="ingest.tests"></a>
2025-08-17T19:57:17.4948715Z 
2025-08-17T19:57:17.4948781Z # ingest.tests
2025-08-17T19:57:17.4948881Z 
2025-08-17T19:57:17.4948969Z <a id="ingest.upload_router"></a>
2025-08-17T19:57:17.4949115Z 
2025-08-17T19:57:17.4949188Z # ingest.upload\_router
2025-08-17T19:57:17.4949313Z 
2025-08-17T19:57:17.4949392Z <a id="ingest.email_watcher"></a>
2025-08-17T19:57:17.4949538Z 
2025-08-17T19:57:17.4949612Z # ingest.email\_watcher
2025-08-17T19:57:17.4949726Z 
2025-08-17T19:57:17.4949812Z <a id="ingest.email_watcher.main"></a>
2025-08-17T19:57:17.4949970Z 
2025-08-17T19:57:17.4950037Z #### main
2025-08-17T19:57:17.4950125Z 
2025-08-17T19:57:17.4950188Z ```python
2025-08-17T19:57:17.4950358Z def main() -> dict[str, str]
2025-08-17T19:57:17.4950551Z ```
2025-08-17T19:57:17.4950639Z 
2025-08-17T19:57:17.4950777Z Upload CSV/XLSX attachments to MinIO and trigger ingestion.
2025-08-17T19:57:17.4950997Z 
2025-08-17T19:57:17.4951136Z Returns {"status": "success"} when processing completes.
2025-08-17T19:57:17.4951458Z 
2025-08-17T19:57:17.4951534Z <a id="ingest.tasks"></a>
2025-08-17T19:57:17.4951663Z 
2025-08-17T19:57:17.4951729Z # ingest.tasks
2025-08-17T19:57:17.4951830Z 
2025-08-17T19:57:17.4951925Z <a id="ingest.tasks.task_import_file"></a>
2025-08-17T19:57:17.4952106Z 
2025-08-17T19:57:17.4952177Z #### task\_import\_file
2025-08-17T19:57:17.4952290Z 
2025-08-17T19:57:17.4952356Z ```python
2025-08-17T19:57:17.4952559Z @celery_app.task(name="ingest.import_file", bind=True)
2025-08-17T19:57:17.4952838Z def task_import_file(self,
2025-08-17T19:57:17.4953032Z                      uri: str,
2025-08-17T19:57:17.4953249Z                      report_type: Optional[str] = None,
2025-08-17T19:57:17.4953513Z                      force: bool = False) -> Dict[str, Any]
2025-08-17T19:57:17.4953751Z ```
2025-08-17T19:57:17.4953831Z 
2025-08-17T19:57:17.4953959Z Import a file into Postgres using existing ETL pipeline.
2025-08-17T19:57:17.4954171Z 
2025-08-17T19:57:17.4954261Z <a id="ingest.celery_app"></a>
2025-08-17T19:57:17.4954570Z 
2025-08-17T19:57:17.4954649Z # ingest.celery\_app
2025-08-17T19:57:17.4954766Z 
2025-08-17T19:57:17.4954847Z <a id="ingest.ingest_router"></a>
2025-08-17T19:57:17.4954998Z 
2025-08-17T19:57:17.4955071Z # ingest.ingest\_router
2025-08-17T19:57:17.4955186Z 
2025-08-17T19:57:17.4955260Z <a id="logistics_etl"></a>
2025-08-17T19:57:17.4955389Z 
2025-08-17T19:57:17.4955454Z # logistics\_etl
2025-08-17T19:57:17.4955556Z 
2025-08-17T19:57:17.4955640Z Daily logistics ETL job.
2025-08-17T19:57:17.4955761Z 
2025-08-17T19:57:17.4955840Z <a id="logistics_etl.__main__"></a>
2025-08-17T19:57:17.4955998Z 
2025-08-17T19:57:17.4956073Z # logistics\_etl.\_\_main\_\_
2025-08-17T19:57:17.4956209Z 
2025-08-17T19:57:17.4956285Z <a id="logistics_etl.dsn"></a>
2025-08-17T19:57:17.4956425Z 
2025-08-17T19:57:17.4956492Z # logistics\_etl.dsn
2025-08-17T19:57:17.4956605Z 
2025-08-17T19:57:17.4956726Z Local DSN builder to avoid cross-service dependency.
2025-08-17T19:57:17.4957047Z 
2025-08-17T19:57:17.4957144Z <a id="logistics_etl.dsn.build_dsn"></a>
2025-08-17T19:57:17.4957313Z 
2025-08-17T19:57:17.4957375Z #### build\_dsn
2025-08-17T19:57:17.4957475Z 
2025-08-17T19:57:17.4957541Z ```python
2025-08-17T19:57:17.4957717Z def build_dsn(sync: bool = True) -> str
2025-08-17T19:57:17.4957933Z ```
2025-08-17T19:57:17.4958017Z 
2025-08-17T19:57:17.4958151Z Return a Postgres DSN assembled from environment variables.
2025-08-17T19:57:17.4958367Z 
2025-08-17T19:57:17.4958516Z Prefers explicit DSNs via ``PG_SYNC_DSN``/``PG_ASYNC_DSN`` or
2025-08-17T19:57:17.4958897Z ``DATABASE_URL``. Falls back to individual PG_* settings and raises an
2025-08-17T19:57:17.4959235Z error when any required variable is missing.
2025-08-17T19:57:17.4959407Z 
2025-08-17T19:57:17.4959500Z <a id="logistics_etl.tests.conftest"></a>
2025-08-17T19:57:17.4959676Z 
2025-08-17T19:57:17.4959758Z # logistics\_etl.tests.conftest
2025-08-17T19:57:17.4959899Z 
2025-08-17T19:57:17.4960013Z <a id="logistics_etl.tests.test_repository"></a>
2025-08-17T19:57:17.4960199Z 
2025-08-17T19:57:17.4960286Z # logistics\_etl.tests.test\_repository
2025-08-17T19:57:17.4960456Z 
2025-08-17T19:57:17.4960546Z <a id="logistics_etl.tests.test_cron"></a>
2025-08-17T19:57:17.4960710Z 
2025-08-17T19:57:17.4960792Z # logistics\_etl.tests.test\_cron
2025-08-17T19:57:17.4960955Z 
2025-08-17T19:57:17.4961059Z <a id="logistics_etl.tests.test_imports"></a>
2025-08-17T19:57:17.4961235Z 
2025-08-17T19:57:17.4961322Z # logistics\_etl.tests.test\_imports
2025-08-17T19:57:17.4961480Z 
2025-08-17T19:57:17.4961585Z <a id="logistics_etl.tests.test_smoke"></a>
2025-08-17T19:57:17.4961757Z 
2025-08-17T19:57:17.4961842Z # logistics\_etl.tests.test\_smoke
2025-08-17T19:57:17.4962000Z 
2025-08-17T19:57:17.4962095Z <a id="logistics_etl.tests.test_client"></a>
2025-08-17T19:57:17.4962264Z 
2025-08-17T19:57:17.4962353Z # logistics\_etl.tests.test\_client
2025-08-17T19:57:17.4962504Z 
2025-08-17T19:57:17.4962587Z <a id="logistics_etl.tests"></a>
2025-08-17T19:57:17.4962850Z 
2025-08-17T19:57:17.4962932Z # logistics\_etl.tests
2025-08-17T19:57:17.4963048Z 
2025-08-17T19:57:17.4963126Z <a id="logistics_etl.flow"></a>
2025-08-17T19:57:17.4963269Z 
2025-08-17T19:57:17.4963338Z # logistics\_etl.flow
2025-08-17T19:57:17.4963452Z 
2025-08-17T19:57:17.4963538Z <a id="logistics_etl.client"></a>
2025-08-17T19:57:17.4963681Z 
2025-08-17T19:57:17.4963753Z # logistics\_etl.client
2025-08-17T19:57:17.4963872Z 
2025-08-17T19:57:17.4963952Z <a id="logistics_etl.cron"></a>
2025-08-17T19:57:17.4964088Z 
2025-08-17T19:57:17.4964157Z # logistics\_etl.cron
2025-08-17T19:57:17.4964274Z 
2025-08-17T19:57:17.4964504Z <a id="logistics_etl.db"></a>
2025-08-17T19:57:17.4964742Z 
2025-08-17T19:57:17.4964817Z # logistics\_etl.db
2025-08-17T19:57:17.4964925Z 
2025-08-17T19:57:17.4965013Z <a id="logistics_etl.repository"></a>
2025-08-17T19:57:17.4965170Z 
2025-08-17T19:57:17.4965254Z # logistics\_etl.repository
2025-08-17T19:57:17.4965385Z 
2025-08-17T19:57:17.4965453Z <a id="alert_bot"></a>
2025-08-17T19:57:17.4965582Z 
2025-08-17T19:57:17.4965645Z # alert\_bot
2025-08-17T19:57:17.4965737Z 
2025-08-17T19:57:17.4965820Z <a id="alert_bot.tests.test_smoke"></a>
2025-08-17T19:57:17.4965986Z 
2025-08-17T19:57:17.4966064Z # alert\_bot.tests.test\_smoke
2025-08-17T19:57:17.4966200Z 
2025-08-17T19:57:17.4966280Z <a id="alert_bot.tests"></a>
2025-08-17T19:57:17.4966411Z 
2025-08-17T19:57:17.4966480Z # alert\_bot.tests
2025-08-17T19:57:17.4966589Z 
2025-08-17T19:57:17.4966667Z <a id="alert_bot.alert_bot"></a>
2025-08-17T19:57:17.4966808Z 
2025-08-17T19:57:17.4966880Z # alert\_bot.alert\_bot
2025-08-17T19:57:17.4967001Z 
2025-08-17T19:57:17.4967074Z <a id="alert_bot.rules"></a>
2025-08-17T19:57:17.4967203Z 
2025-08-17T19:57:17.4967278Z # alert\_bot.rules
2025-08-17T19:57:17.4967386Z 
2025-08-17T19:57:17.4967456Z <a id="common"></a>
2025-08-17T19:57:17.4967567Z 
2025-08-17T19:57:17.4967628Z # common
2025-08-17T19:57:17.4967715Z 
2025-08-17T19:57:17.4967788Z <a id="common.dsn"></a>
2025-08-17T19:57:17.4967914Z 
2025-08-17T19:57:17.4968101Z # common.dsn
2025-08-17T19:57:17.4968204Z 
2025-08-17T19:57:17.4968292Z <a id="common.dsn.build_dsn"></a>
2025-08-17T19:57:17.4968439Z 
2025-08-17T19:57:17.4968502Z #### build\_dsn
2025-08-17T19:57:17.4968605Z 
2025-08-17T19:57:17.4968675Z ```python
2025-08-17T19:57:17.4968845Z def build_dsn(sync: bool = True) -> str
2025-08-17T19:57:17.4969067Z ```
2025-08-17T19:57:17.4969148Z 
2025-08-17T19:57:17.4969268Z Return a Postgres DSN, validating required variables.
2025-08-17T19:57:17.4969477Z 
2025-08-17T19:57:17.4969657Z The function prefers explicit DSNs via ``PG_SYNC_DSN`` / ``PG_ASYNC_DSN`` or
2025-08-17T19:57:17.4970089Z ``DATABASE_URL``.  If those are absent it assembles a connection string from
2025-08-17T19:57:17.4970491Z ``PG_HOST`` and related variables and raises a helpful error when any are
2025-08-17T19:57:17.4970800Z missing.
2025-08-17T19:57:17.4970887Z 
2025-08-17T19:57:17.4970967Z <a id="common.models_vendor"></a>
2025-08-17T19:57:17.4971121Z 
2025-08-17T19:57:17.4971205Z # common.models\_vendor
2025-08-17T19:57:17.4971324Z 
2025-08-17T19:57:17.4971414Z <a id="common.models_vendor.Vendor"></a>
2025-08-17T19:57:17.4971587Z 
2025-08-17T19:57:17.4971652Z ## Vendor Objects
2025-08-17T19:57:17.4971756Z 
2025-08-17T19:57:17.4971827Z ```python
2025-08-17T19:57:17.4971976Z class Vendor(Base)
2025-08-17T19:57:17.4972141Z ```
2025-08-17T19:57:17.4972220Z 
2025-08-17T19:57:17.4972298Z Vendor of inventory items.
2025-08-17T19:57:17.4972435Z 
2025-08-17T19:57:17.4972535Z <a id="common.models_vendor.VendorPrice"></a>
2025-08-17T19:57:17.4972713Z 
2025-08-17T19:57:17.4972792Z ## VendorPrice Objects
2025-08-17T19:57:17.4972908Z 
2025-08-17T19:57:17.4972970Z ```python
2025-08-17T19:57:17.4973133Z class VendorPrice(Base)
2025-08-17T19:57:17.4973309Z ```
2025-08-17T19:57:17.4973389Z 
2025-08-17T19:57:17.4973497Z Association table linking vendors to pricing.
2025-08-17T19:57:17.4973674Z 
2025-08-17T19:57:17.4973751Z <a id="common.db_url"></a>
2025-08-17T19:57:17.4973886Z 
2025-08-17T19:57:17.4974083Z # common.db\_url
2025-08-17T19:57:17.4974190Z 
2025-08-17T19:57:17.4974279Z <a id="common.db_url.build_url"></a>
2025-08-17T19:57:17.4974629Z 
2025-08-17T19:57:17.4974696Z #### build\_url
2025-08-17T19:57:17.4974798Z 
2025-08-17T19:57:17.4974866Z ```python
2025-08-17T19:57:17.4975040Z def build_url(async_: bool = True) -> str
2025-08-17T19:57:17.4975267Z ```
2025-08-17T19:57:17.4975348Z 
2025-08-17T19:57:17.4996918Z Return Postgres DSN from env or PG_* parts.
2025-08-17T19:57:17.4997251Z 
2025-08-17T19:57:17.4997387Z <a id="common.keepa"></a>
2025-08-17T19:57:17.4997615Z 
2025-08-17T19:57:17.4997735Z # common.keepa
2025-08-17T19:57:17.4997906Z 
2025-08-17T19:57:17.4998030Z <a id="common.llm"></a>
2025-08-17T19:57:17.4998237Z 
2025-08-17T19:57:17.4998343Z # common.llm
2025-08-17T19:57:17.4998498Z 
2025-08-17T19:57:17.4998627Z <a id="common.settings"></a>
2025-08-17T19:57:17.4998865Z 
2025-08-17T19:57:17.4998977Z # common.settings
2025-08-17T19:57:17.4999153Z 
2025-08-17T19:57:17.4999282Z <a id="common.db"></a>
2025-08-17T19:57:17.4999564Z 
2025-08-17T19:57:17.4999669Z # common.db
2025-08-17T19:57:17.4999829Z 
2025-08-17T19:57:17.4999983Z <a id="common.db.build_sqlalchemy_url"></a>
2025-08-17T19:57:17.5000279Z 
2025-08-17T19:57:17.5000404Z #### build\_sqlalchemy\_url
2025-08-17T19:57:17.5000632Z 
2025-08-17T19:57:17.5000738Z ```python
2025-08-17T19:57:17.5001045Z def build_sqlalchemy_url() -> str
2025-08-17T19:57:17.5001285Z ```
2025-08-17T19:57:17.5001368Z 
2025-08-17T19:57:17.5001474Z Return Postgres URL for SQLAlchemy engines.
2025-08-17T19:57:17.5001649Z 
2025-08-17T19:57:17.5001742Z <a id="common.db.build_asyncpg_dsn"></a>
2025-08-17T19:57:17.5001916Z 
2025-08-17T19:57:17.5001989Z #### build\_asyncpg\_dsn
2025-08-17T19:57:17.5002112Z 
2025-08-17T19:57:17.5002174Z ```python
2025-08-17T19:57:17.5002347Z def build_asyncpg_dsn() -> str
2025-08-17T19:57:17.5002547Z ```
2025-08-17T19:57:17.5002627Z 
2025-08-17T19:57:17.5002752Z Return DSN suitable for asyncpg (without driver suffix).
2025-08-17T19:57:17.5003127Z 
2025-08-17T19:57:17.5003223Z <a id="common.db.refresh_mvs"></a>
2025-08-17T19:57:17.5003376Z 
2025-08-17T19:57:17.5003440Z #### refresh\_mvs
2025-08-17T19:57:17.5003549Z 
2025-08-17T19:57:17.5003612Z ```python
2025-08-17T19:57:17.5003808Z def refresh_mvs(conn: Engine | Connection) -> None
2025-08-17T19:57:17.5004060Z ```
2025-08-17T19:57:17.5004139Z 
2025-08-17T19:57:17.5004280Z Refresh materialized views, using CONCURRENTLY when safe.
2025-08-17T19:57:17.5004762Z 
2025-08-17T19:57:17.5004845Z <a id="common.config"></a>
2025-08-17T19:57:17.5004981Z 
2025-08-17T19:57:17.5005049Z # common.config
2025-08-17T19:57:17.5005150Z 
2025-08-17T19:57:17.5005223Z <a id="common.base"></a>
2025-08-17T19:57:17.5005349Z 
2025-08-17T19:57:17.5005413Z # common.base
2025-08-17T19:57:17.5005509Z 
2025-08-17T19:57:17.5005596Z <a id="common.base.Base"></a>
2025-08-17T19:57:17.5005733Z 
2025-08-17T19:57:17.5005796Z ## Base Objects
2025-08-17T19:57:17.5005894Z 
2025-08-17T19:57:17.5005970Z ```python
2025-08-17T19:57:17.5006144Z class Base(DeclarativeBase)
2025-08-17T19:57:17.5006338Z ```
2025-08-17T19:57:17.5006419Z 
2025-08-17T19:57:17.5006500Z Base class for SQLAlchemy models.
2025-08-17T19:57:17.5006656Z 
2025-08-17T19:57:17.5006727Z <a id="repricer"></a>
2025-08-17T19:57:17.5006840Z 
2025-08-17T19:57:17.5006910Z # repricer
2025-08-17T19:57:17.5007000Z 
2025-08-17T19:57:17.5007088Z <a id="repricer.app.schemas"></a>
2025-08-17T19:57:17.5007235Z 
2025-08-17T19:57:17.5007318Z # repricer.app.schemas
2025-08-17T19:57:17.5007437Z 
2025-08-17T19:57:17.5007520Z <a id="repricer.app.deps"></a>
2025-08-17T19:57:17.5007667Z 
2025-08-17T19:57:17.5007738Z # repricer.app.deps
2025-08-17T19:57:17.5007848Z 
2025-08-17T19:57:17.5007979Z Placeholder module for Keepa / SP-API clients.
2025-08-17T19:57:17.5008162Z 
2025-08-17T19:57:17.5008244Z <a id="repricer.app.logic"></a>
2025-08-17T19:57:17.5008386Z 
2025-08-17T19:57:17.5008465Z # repricer.app.logic
2025-08-17T19:57:17.5008578Z 
2025-08-17T19:57:17.5008682Z <a id="repricer.app.logic.MIN_MARGIN"></a>
2025-08-17T19:57:17.5008989Z 
2025-08-17T19:57:17.5009053Z #### MIN\_MARGIN
2025-08-17T19:57:17.5009154Z 
2025-08-17T19:57:17.5009221Z 15 % ROI
2025-08-17T19:57:17.5009305Z 
2025-08-17T19:57:17.5009407Z <a id="repricer.app.logic.compute_price"></a>
2025-08-17T19:57:17.5009588Z 
2025-08-17T19:57:17.5009660Z #### compute\_price
2025-08-17T19:57:17.5009764Z 
2025-08-17T19:57:17.5009828Z ```python
2025-08-17T19:57:17.5010072Z def compute_price(asin: str, cost: Decimal, fees: Decimal) -> Decimal
2025-08-17T19:57:17.5010366Z ```
2025-08-17T19:57:17.5010451Z 
2025-08-17T19:57:17.5010558Z Toy algorithm: ensure 15 % ROI and round to cents.
2025-08-17T19:57:17.5010842Z Replace with real competitive logic later.
2025-08-17T19:57:17.5011010Z 
2025-08-17T19:57:17.5011092Z <a id="repricer.app.main"></a>
2025-08-17T19:57:17.5011231Z 
2025-08-17T19:57:17.5011306Z # repricer.app.main
2025-08-17T19:57:17.5011412Z 
2025-08-17T19:57:17.5011489Z <a id="repricer.app"></a>
2025-08-17T19:57:17.5011622Z 
2025-08-17T19:57:17.5011699Z # repricer.app
2025-08-17T19:57:17.5011798Z 
2025-08-17T19:57:17.5011889Z <a id="repricer.tests.test_imports"></a>
2025-08-17T19:57:17.5012062Z 
2025-08-17T19:57:17.5012144Z # repricer.tests.test\_imports
2025-08-17T19:57:17.5012280Z 
2025-08-17T19:57:17.5012377Z <a id="repricer.tests.test_smoke"></a>
2025-08-17T19:57:17.5012537Z 
2025-08-17T19:57:17.5012619Z # repricer.tests.test\_smoke
2025-08-17T19:57:17.5012762Z 
2025-08-17T19:57:17.5012838Z <a id="repricer.tests"></a>
2025-08-17T19:57:17.5012973Z 
2025-08-17T19:57:17.5013041Z # repricer.tests
2025-08-17T19:57:17.5013151Z 
2025-08-17T19:57:17.5013215Z <a id="db"></a>
2025-08-17T19:57:17.5013313Z 
2025-08-17T19:57:17.5013382Z # db
2025-08-17T19:57:17.5013466Z 
2025-08-17T19:57:17.5013540Z <a id="db.utils.views"></a>
2025-08-17T19:57:17.5013674Z 
2025-08-17T19:57:17.5013740Z # db.utils.views
2025-08-17T19:57:17.5013843Z 
2025-08-17T19:57:17.5013933Z <a id="db.utils.views.replace_view"></a>
2025-08-17T19:57:17.5014106Z 
2025-08-17T19:57:17.5014291Z #### replace\_view
2025-08-17T19:57:17.5014507Z 
2025-08-17T19:57:17.5014575Z ```python
2025-08-17T19:57:17.5014766Z def replace_view(name: str, new_sql: str) -> None
2025-08-17T19:57:17.5015014Z ```
2025-08-17T19:57:17.5015093Z 
2025-08-17T19:57:17.5015182Z Drop and recreate a SQL view atomically.
2025-08-17T19:57:17.5015348Z 
2025-08-17T19:57:17.5015417Z <a id="db.utils"></a>
2025-08-17T19:57:17.5015530Z 
2025-08-17T19:57:17.5015592Z # db.utils
2025-08-17T19:57:17.5015688Z 
2025-08-17T19:57:17.5015764Z <a id="price_importer"></a>
2025-08-17T19:57:17.5015891Z 
2025-08-17T19:57:17.5015964Z # price\_importer
2025-08-17T19:57:17.5016068Z 
2025-08-17T19:57:17.5016168Z <a id="price_importer.services_common.dsn"></a>
2025-08-17T19:57:17.5016356Z 
2025-08-17T19:57:17.5016446Z # price\_importer.services\_common.dsn
2025-08-17T19:57:17.5016607Z 
2025-08-17T19:57:17.5016730Z <a id="price_importer.services_common.dsn.build_dsn"></a>
2025-08-17T19:57:17.5016942Z 
2025-08-17T19:57:17.5017005Z #### build\_dsn
2025-08-17T19:57:17.5017114Z 
2025-08-17T19:57:17.5017183Z ```python
2025-08-17T19:57:17.5017351Z def build_dsn(sync: bool = True) -> str
2025-08-17T19:57:17.5017576Z ```
2025-08-17T19:57:17.5017657Z 
2025-08-17T19:57:17.5017723Z Return safe DSN.
2025-08-17T19:57:17.5017830Z 
2025-08-17T19:57:17.5018164Z sync=True → SQLAlchemy (+psycopg) else plain asyncpg.
2025-08-17T19:57:17.5018366Z 
2025-08-17T19:57:17.5018492Z <a id="price_importer.services_common.models_vendor"></a>
2025-08-17T19:57:17.5018704Z 
2025-08-17T19:57:17.5018815Z # price\_importer.services\_common.models\_vendor
2025-08-17T19:57:17.5019002Z 
2025-08-17T19:57:17.5019113Z <a id="price_importer.services_common.db_url"></a>
2025-08-17T19:57:17.5019300Z 
2025-08-17T19:57:17.5019393Z # price\_importer.services\_common.db\_url
2025-08-17T19:57:17.5019568Z 
2025-08-17T19:57:17.5019698Z <a id="price_importer.services_common.db_url.build_url"></a>
2025-08-17T19:57:17.5019909Z 
2025-08-17T19:57:17.5019978Z #### build\_url
2025-08-17T19:57:17.5020074Z 
2025-08-17T19:57:17.5020310Z ```python
2025-08-17T19:57:17.5020493Z def build_url(async_: bool = True) -> str
2025-08-17T19:57:17.5020710Z ```
2025-08-17T19:57:17.5020788Z 
2025-08-17T19:57:17.5020888Z Return Postgres DSN from env or PG_* parts.
2025-08-17T19:57:17.5021058Z 
2025-08-17T19:57:17.5021161Z <a id="price_importer.services_common.keepa"></a>
2025-08-17T19:57:17.5021347Z 
2025-08-17T19:57:17.5021437Z # price\_importer.services\_common.keepa
2025-08-17T19:57:17.5021600Z 
2025-08-17T19:57:17.5021701Z <a id="price_importer.services_common.llm"></a>
2025-08-17T19:57:17.5021879Z 
2025-08-17T19:57:17.5021967Z # price\_importer.services\_common.llm
2025-08-17T19:57:17.5022126Z 
2025-08-17T19:57:17.5022242Z <a id="price_importer.services_common.settings"></a>
2025-08-17T19:57:17.5022431Z 
2025-08-17T19:57:17.5022523Z # price\_importer.services\_common.settings
2025-08-17T19:57:17.5022697Z 
2025-08-17T19:57:17.5022795Z <a id="price_importer.services_common.db"></a>
2025-08-17T19:57:17.5022970Z 
2025-08-17T19:57:17.5023076Z # price\_importer.services\_common.db
2025-08-17T19:57:17.5023239Z 
2025-08-17T19:57:17.5023392Z <a id="price_importer.services_common.db.build_sqlalchemy_url"></a>
2025-08-17T19:57:17.5023636Z 
2025-08-17T19:57:17.5023710Z #### build\_sqlalchemy\_url
2025-08-17T19:57:17.5023838Z 
2025-08-17T19:57:17.5023900Z ```python
2025-08-17T19:57:17.5024072Z def build_sqlalchemy_url() -> str
2025-08-17T19:57:17.5024273Z ```
2025-08-17T19:57:17.5024478Z 
2025-08-17T19:57:17.5024574Z Return Postgres URL for SQLAlchemy engines.
2025-08-17T19:57:17.5024745Z 
2025-08-17T19:57:17.5024890Z <a id="price_importer.services_common.db.build_asyncpg_dsn"></a>
2025-08-17T19:57:17.5025115Z 
2025-08-17T19:57:17.5025188Z #### build\_asyncpg\_dsn
2025-08-17T19:57:17.5025318Z 
2025-08-17T19:57:17.5025381Z ```python
2025-08-17T19:57:17.5025548Z def build_asyncpg_dsn() -> str
2025-08-17T19:57:17.5025746Z ```
2025-08-17T19:57:17.5025825Z 
2025-08-17T19:57:17.5025955Z Return DSN suitable for asyncpg (without driver suffix).
2025-08-17T19:57:17.5026297Z 
2025-08-17T19:57:17.5026430Z <a id="price_importer.services_common.db.refresh_mvs"></a>
2025-08-17T19:57:17.5026639Z 
2025-08-17T19:57:17.5026711Z #### refresh\_mvs
2025-08-17T19:57:17.5026815Z 
2025-08-17T19:57:17.5026874Z ```python
2025-08-17T19:57:17.5027068Z def refresh_mvs(conn: Engine | Connection) -> None
2025-08-17T19:57:17.5027308Z ```
2025-08-17T19:57:17.5027392Z 
2025-08-17T19:57:17.5027522Z Refresh materialized views, using CONCURRENTLY when safe.
2025-08-17T19:57:17.5027735Z 
2025-08-17T19:57:17.5027837Z <a id="price_importer.services_common"></a>
2025-08-17T19:57:17.5028007Z 
2025-08-17T19:57:17.5028093Z # price\_importer.services\_common
2025-08-17T19:57:17.5028248Z 
2025-08-17T19:57:17.5028349Z <a id="price_importer.services_common.base"></a>
2025-08-17T19:57:17.5028530Z 
2025-08-17T19:57:17.5028617Z # price\_importer.services\_common.base
2025-08-17T19:57:17.5028784Z 
2025-08-17T19:57:17.5028871Z <a id="price_importer.normaliser"></a>
2025-08-17T19:57:17.5029032Z 
2025-08-17T19:57:17.5029129Z # price\_importer.normaliser
2025-08-17T19:57:17.5029268Z 
2025-08-17T19:57:17.5029369Z <a id="price_importer.common.models_vendor"></a>
2025-08-17T19:57:17.5029557Z 
2025-08-17T19:57:17.5029645Z # price\_importer.common.models\_vendor
2025-08-17T19:57:17.5029805Z 
2025-08-17T19:57:17.5029900Z <a id="price_importer.common.db_url"></a>
2025-08-17T19:57:17.5030075Z 
2025-08-17T19:57:17.5030161Z # price\_importer.common.db\_url
2025-08-17T19:57:17.5030304Z 
2025-08-17T19:57:17.5030416Z <a id="price_importer.common.db_url.make_dsn"></a>
2025-08-17T19:57:17.5030598Z 
2025-08-17T19:57:17.5030665Z #### make\_dsn
2025-08-17T19:57:17.5030772Z 
2025-08-17T19:57:17.5030835Z ```python
2025-08-17T19:57:17.5031004Z def make_dsn(async_: bool = False) -> str
2025-08-17T19:57:17.5031230Z ```
2025-08-17T19:57:17.5031311Z 
2025-08-17T19:57:17.5031435Z Return DSN built from either PG_* or POSTGRES_* vars.
2025-08-17T19:57:17.5031635Z 
2025-08-17T19:57:17.5031742Z <a id="price_importer.common.db_url.build_url"></a>
2025-08-17T19:57:17.5032052Z 
2025-08-17T19:57:17.5032124Z #### build\_url
2025-08-17T19:57:17.5032226Z 
2025-08-17T19:57:17.5032287Z ```python
2025-08-17T19:57:17.5032466Z def build_url(async_: bool = False) -> str
2025-08-17T19:57:17.5032684Z ```
2025-08-17T19:57:17.5032771Z 
2025-08-17T19:57:17.5032890Z Return Postgres DSN built from environment variables.
2025-08-17T19:57:17.5033087Z 
2025-08-17T19:57:17.5033175Z <a id="price_importer.common"></a>
2025-08-17T19:57:17.5033326Z 
2025-08-17T19:57:17.5033404Z # price\_importer.common
2025-08-17T19:57:17.5033529Z 
2025-08-17T19:57:17.5033623Z <a id="price_importer.common.base"></a>
2025-08-17T19:57:17.5033785Z 
2025-08-17T19:57:17.5033865Z # price\_importer.common.base
2025-08-17T19:57:17.5034010Z 
2025-08-17T19:57:17.5034105Z <a id="price_importer.tests.conftest"></a>
2025-08-17T19:57:17.5034274Z 
2025-08-17T19:57:17.5034462Z # price\_importer.tests.conftest
2025-08-17T19:57:17.5034611Z 
2025-08-17T19:57:17.5034708Z <a id="price_importer.tests.test_reader"></a>
2025-08-17T19:57:17.5034890Z 
2025-08-17T19:57:17.5034983Z # price\_importer.tests.test\_reader
2025-08-17T19:57:17.5035139Z 
2025-08-17T19:57:17.5035238Z <a id="price_importer.tests.test_imports"></a>
2025-08-17T19:57:17.5035420Z 
2025-08-17T19:57:17.5035507Z # price\_importer.tests.test\_imports
2025-08-17T19:57:17.5035664Z 
2025-08-17T19:57:17.5035764Z <a id="price_importer.tests.test_smoke"></a>
2025-08-17T19:57:17.5035933Z 
2025-08-17T19:57:17.5036018Z # price\_importer.tests.test\_smoke
2025-08-17T19:57:17.5036176Z 
2025-08-17T19:57:17.5036279Z <a id="price_importer.tests.test_normaliser"></a>
2025-08-17T19:57:17.5036462Z 
2025-08-17T19:57:17.5036551Z # price\_importer.tests.test\_normaliser
2025-08-17T19:57:17.5036722Z 
2025-08-17T19:57:17.5036804Z <a id="price_importer.tests"></a>
2025-08-17T19:57:17.5036951Z 
2025-08-17T19:57:17.5037031Z # price\_importer.tests
2025-08-17T19:57:17.5037152Z 
2025-08-17T19:57:17.5037235Z <a id="price_importer.reader"></a>
2025-08-17T19:57:17.5037384Z 
2025-08-17T19:57:17.5037587Z # price\_importer.reader
2025-08-17T19:57:17.5037715Z 
2025-08-17T19:57:17.5037803Z <a id="price_importer.repository"></a>
2025-08-17T19:57:17.5037967Z 
2025-08-17T19:57:17.5038055Z # price\_importer.repository
2025-08-17T19:57:17.5038192Z 
2025-08-17T19:57:17.5038278Z <a id="price_importer.import"></a>
2025-08-17T19:57:17.5038425Z 
2025-08-17T19:57:17.5038501Z # price\_importer.import
2025-08-17T19:57:17.5038622Z 
2025-08-17T19:57:17.5038698Z <a id="fees_h10"></a>
2025-08-17T19:57:17.5038810Z 
2025-08-17T19:57:17.5038876Z # fees\_h10
2025-08-17T19:57:17.5038973Z 
2025-08-17T19:57:17.5039047Z <a id="fees_h10.worker"></a>
2025-08-17T19:57:17.5039178Z 
2025-08-17T19:57:17.5039250Z # fees\_h10.worker
2025-08-17T19:57:17.5039355Z 
2025-08-17T19:57:17.5039450Z <a id="fees_h10.worker.list_active_asins"></a>
2025-08-17T19:57:17.5039621Z 
2025-08-17T19:57:17.5039700Z #### list\_active\_asins
2025-08-17T19:57:17.5039817Z 
2025-08-17T19:57:17.5039879Z ```python
2025-08-17T19:57:17.5040057Z def list_active_asins() -> list[str]
2025-08-17T19:57:17.5040265Z ```
2025-08-17T19:57:17.5040352Z 
2025-08-17T19:57:17.5040464Z Return known ASINs or an empty list if unavailable.
2025-08-17T19:57:17.5040660Z 
2025-08-17T19:57:17.5040749Z <a id="fees_h10.tests.test_smoke"></a>
2025-08-17T19:57:17.5040910Z 
2025-08-17T19:57:17.5040988Z # fees\_h10.tests.test\_smoke
2025-08-17T19:57:17.5041125Z 
2025-08-17T19:57:17.5041205Z <a id="fees_h10.tests"></a>
2025-08-17T19:57:17.5041334Z 
2025-08-17T19:57:17.5041399Z # fees\_h10.tests
2025-08-17T19:57:17.5041512Z 
2025-08-17T19:57:17.5041586Z <a id="fees_h10.client"></a>
2025-08-17T19:57:17.5041720Z 
2025-08-17T19:57:17.5041791Z # fees\_h10.client
2025-08-17T19:57:17.5041895Z 
2025-08-17T19:57:17.5041976Z <a id="fees_h10.repository"></a>
2025-08-17T19:57:17.5042117Z 
2025-08-17T19:57:17.5042196Z # fees\_h10.repository
2025-08-17T19:57:17.5042314Z 
2025-08-17T19:57:17.5042381Z <a id="emailer"></a>
2025-08-17T19:57:17.5042500Z 
2025-08-17T19:57:17.5042562Z # emailer
2025-08-17T19:57:17.5042774Z 
2025-08-17T19:57:17.5042876Z <a id="emailer.tests.test_import_emailer"></a>
2025-08-17T19:57:17.5043060Z 
2025-08-17T19:57:17.5043148Z # emailer.tests.test\_import\_emailer
2025-08-17T19:57:17.5043308Z 
2025-08-17T19:57:17.5043398Z <a id="emailer.tests.test_smoke"></a>
2025-08-17T19:57:17.5043554Z 
2025-08-17T19:57:17.5043632Z # emailer.tests.test\_smoke
2025-08-17T19:57:17.5043795Z 
2025-08-17T19:57:17.5043870Z <a id="emailer.tests"></a>
2025-08-17T19:57:17.5044000Z 
2025-08-17T19:57:17.5044068Z # emailer.tests
2025-08-17T19:57:17.5044180Z 
2025-08-17T19:57:17.5044262Z <a id="emailer.generate_body"></a>
2025-08-17T19:57:17.5044621Z 
2025-08-17T19:57:17.5044706Z # emailer.generate\_body
2025-08-17T19:57:17.5044834Z 
2025-08-17T19:57:17.5044904Z <a id="llm_server"></a>
2025-08-17T19:57:17.5045026Z 
2025-08-17T19:57:17.5045088Z # llm\_server
2025-08-17T19:57:17.5045184Z 
2025-08-17T19:57:17.5045259Z <a id="llm_server.app"></a>
2025-08-17T19:57:17.5045393Z 
2025-08-17T19:57:17.5045464Z # llm\_server.app
2025-08-17T19:57:17.5045574Z 
2025-08-17T19:57:17.5441126Z ##[group]Run peaceiris/actions-gh-pages@v3
2025-08-17T19:57:17.5441397Z with:
2025-08-17T19:57:17.5441875Z   github_token: ***
2025-08-17T19:57:17.5442073Z   publish_branch: gh-pages
2025-08-17T19:57:17.5442285Z   publish_dir: docs/api
2025-08-17T19:57:17.5442490Z   allow_empty_commit: false
2025-08-17T19:57:17.5442690Z   keep_files: false
2025-08-17T19:57:17.5442868Z   force_orphan: false
2025-08-17T19:57:17.5443051Z   enable_jekyll: false
2025-08-17T19:57:17.5443240Z   disable_nojekyll: false
2025-08-17T19:57:17.5443433Z   exclude_assets: .github
2025-08-17T19:57:17.5443617Z env:
2025-08-17T19:57:17.5443844Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:17.5444241Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib/pkgconfig
2025-08-17T19:57:17.5444854Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:17.5445183Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:17.5445549Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.13/x64
2025-08-17T19:57:17.5445879Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.13/x64/lib
2025-08-17T19:57:17.5446159Z ##[endgroup]
2025-08-17T19:57:17.6044758Z [INFO] Usage https://github.com/peaceiris/actions-gh-pages#readme
2025-08-17T19:57:17.6049757Z ##[group]Dump inputs
2025-08-17T19:57:17.6050198Z [INFO] GithubToken: true
2025-08-17T19:57:17.6050489Z [INFO] PublishBranch: gh-pages
2025-08-17T19:57:17.6050789Z [INFO] PublishDir: docs/api
2025-08-17T19:57:17.6051131Z [INFO] DestinationDir: 
2025-08-17T19:57:17.6051335Z [INFO] ExternalRepository: 
2025-08-17T19:57:17.6051554Z [INFO] AllowEmptyCommit: false
2025-08-17T19:57:17.6051761Z [INFO] KeepFiles: false
2025-08-17T19:57:17.6051955Z [INFO] ForceOrphan: false
2025-08-17T19:57:17.6052145Z [INFO] UserName: 
2025-08-17T19:57:17.6052321Z [INFO] UserEmail: 
2025-08-17T19:57:17.6052497Z [INFO] CommitMessage: 
2025-08-17T19:57:17.6052814Z [INFO] FullCommitMessage: 
2025-08-17T19:57:17.6053152Z [INFO] TagName: 
2025-08-17T19:57:17.6053399Z [INFO] TagMessage: 
2025-08-17T19:57:17.6053604Z [INFO] EnableJekyll (DisableNoJekyll): false
2025-08-17T19:57:17.6053850Z [INFO] CNAME: 
2025-08-17T19:57:17.6054028Z [INFO] ExcludeAssets .github
2025-08-17T19:57:17.6054169Z 
2025-08-17T19:57:17.6054687Z ##[endgroup]
2025-08-17T19:57:17.6055184Z ##[group]Setup auth token
2025-08-17T19:57:17.6055501Z [INFO] setup GITHUB_TOKEN
2025-08-17T19:57:17.6057439Z ##[endgroup]
2025-08-17T19:57:17.6057819Z ##[group]Prepare publishing assets
2025-08-17T19:57:17.6059513Z [INFO] ForceOrphan: false
2025-08-17T19:57:17.6104900Z [command]/usr/bin/git clone --depth=1 --single-branch --branch gh-pages ***github.com/AlexBomber12/AWA-App.git /home/runner/actions_github_pages_1755460637605
2025-08-17T19:57:17.6139105Z Cloning into '/home/runner/actions_github_pages_1755460637605'...
2025-08-17T19:57:17.7885146Z [INFO] clean up /home/runner/actions_github_pages_1755460637605
2025-08-17T19:57:17.7885832Z [INFO] chdir /home/runner/actions_github_pages_1755460637605
2025-08-17T19:57:17.7901683Z [command]/usr/bin/git rm -r --ignore-unmatch *
2025-08-17T19:57:17.7928858Z rm '.gitkeep'
2025-08-17T19:57:17.7930072Z rm '.nojekyll'
2025-08-17T19:57:17.7933398Z [INFO] chdir /home/runner/actions_github_pages_1755460637605
2025-08-17T19:57:17.7934129Z [INFO] prepare publishing assets
2025-08-17T19:57:17.7935934Z [INFO] copy /home/runner/work/AWA-App/AWA-App/docs/api to /home/runner/actions_github_pages_1755460637605
2025-08-17T19:57:17.7966165Z cp: no such file or directory: /home/runner/work/AWA-App/AWA-App/docs/api/*
2025-08-17T19:57:17.7975854Z [INFO] delete excluded assets
2025-08-17T19:57:17.8006754Z rm: no paths given
2025-08-17T19:57:17.8009111Z [INFO] Created /home/runner/actions_github_pages_1755460637605/.nojekyll
2025-08-17T19:57:17.8011521Z ##[endgroup]
2025-08-17T19:57:17.8012046Z ##[group]Setup Git config
2025-08-17T19:57:17.8027126Z [command]/usr/bin/git remote rm origin
2025-08-17T19:57:17.8119979Z [command]/usr/bin/git remote add origin ***github.com/AlexBomber12/AWA-App.git
2025-08-17T19:57:17.8167696Z [command]/usr/bin/git add --all
2025-08-17T19:57:17.8219924Z [command]/usr/bin/git config user.name AlexBomber12
2025-08-17T19:57:17.8266699Z [command]/usr/bin/git config user.email AlexBomber12@users.noreply.github.com
2025-08-17T19:57:17.8295396Z ##[endgroup]
2025-08-17T19:57:17.8296356Z ##[group]Create a commit
2025-08-17T19:57:17.8312472Z [command]/usr/bin/git commit -m deploy: cb98f3a06705f00ddd6f06a9620aa7793ac63349
2025-08-17T19:57:17.8341580Z On branch gh-pages
2025-08-17T19:57:17.8342319Z nothing to commit, working tree clean
2025-08-17T19:57:17.8347361Z [INFO] skip commit
2025-08-17T19:57:17.8348632Z ##[endgroup]
2025-08-17T19:57:17.8349244Z ##[group]Push the commit or tag
2025-08-17T19:57:17.8363388Z [command]/usr/bin/git push origin gh-pages
2025-08-17T19:57:18.0471337Z Everything up-to-date
2025-08-17T19:57:18.0502103Z ##[endgroup]
2025-08-17T19:57:18.0502454Z [INFO] Action successfully completed
2025-08-17T19:57:18.0612867Z Post job cleanup.
2025-08-17T19:57:18.2198840Z Post job cleanup.
2025-08-17T19:57:18.3106671Z [command]/usr/bin/git version
2025-08-17T19:57:18.3141204Z git version 2.50.1
2025-08-17T19:57:18.3190519Z Temporarily overriding HOME='/home/runner/work/_temp/6608d152-7b43-4c8a-ad86-ad49fd060a4a' before making global git config changes
2025-08-17T19:57:18.3191828Z Adding repository directory to the temporary git global config as a safe directory
2025-08-17T19:57:18.3196526Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/AWA-App/AWA-App
2025-08-17T19:57:18.3230169Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-08-17T19:57:18.3262012Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-08-17T19:57:18.3484756Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-08-17T19:57:18.3505011Z http.https://github.com/.extraheader
2025-08-17T19:57:18.3517494Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-08-17T19:57:18.3548187Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-08-17T19:57:18.3866626Z Cleaning up orphan processes
