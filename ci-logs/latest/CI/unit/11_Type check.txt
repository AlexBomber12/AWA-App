2025-08-17T20:50:07.8046853Z ##[group]Run python -m mypy services || true
2025-08-17T20:50:07.8047233Z [36;1mpython -m mypy services || true[0m
2025-08-17T20:50:07.8087979Z shell: /usr/bin/bash -e {0}
2025-08-17T20:50:07.8088542Z env:
2025-08-17T20:50:07.8088721Z   PG_USER: postgres
2025-08-17T20:50:07.8088918Z   PG_PASSWORD: pass
2025-08-17T20:50:07.8089115Z   PG_DATABASE: awa
2025-08-17T20:50:07.8089308Z   PG_HOST: localhost
2025-08-17T20:50:07.8089492Z   PG_PORT: 5432
2025-08-17T20:50:07.8089935Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-17T20:50:07.8090349Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-17T20:50:07.8090731Z   DATABASE_URL: ***localhost:5432/awa
2025-08-17T20:50:07.8090982Z   DATA_DIR: /tmp/awa-data
2025-08-17T20:50:07.8091194Z   ENABLE_LIVE: 0
2025-08-17T20:50:07.8091368Z   TESTING: 1
2025-08-17T20:50:07.8091606Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-17T20:50:07.8092015Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-17T20:50:07.8092424Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-17T20:50:07.8092834Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-17T20:50:07.8093201Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-17T20:50:07.8093561Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-17T20:50:07.8093862Z ##[endgroup]
2025-08-17T20:50:15.4926350Z services/price_importer/reader.py:14: error: Function is missing a return type annotation  [no-untyped-def]
2025-08-17T20:50:28.7303557Z services/ingest/maintenance.py:16: error: Untyped decorator makes function "task_analyze_table" untyped  [misc]
2025-08-17T20:50:28.7304937Z services/ingest/maintenance.py:17: error: Missing type parameters for generic type "dict"  [type-arg]
2025-08-17T20:50:28.7306448Z services/ingest/maintenance.py:27: error: Untyped decorator makes function "task_maintenance_nightly" untyped  [misc]
2025-08-17T20:50:28.7307924Z services/ingest/maintenance.py:28: error: Missing type parameters for generic type "dict"  [type-arg]
2025-08-17T20:50:28.7347074Z services/ingest/copy_loader.py:52: error: Item "PoolProxiedConnection" of "Any | PoolProxiedConnection" has no attribute "autocommit"  [union-attr]
2025-08-17T20:50:28.7348220Z services/ingest/copy_loader.py:54: error: Item "DBAPICursor" of "Any | DBAPICursor" has no attribute "__enter__"  [union-attr]
2025-08-17T20:50:28.7349152Z services/ingest/copy_loader.py:54: error: Item "DBAPICursor" of "Any | DBAPICursor" has no attribute "__exit__"  [union-attr]
2025-08-17T20:50:35.0179485Z services/etl/dialects/schemas.py:33: error: Function is missing a return type annotation  [no-untyped-def]
2025-08-17T20:50:35.0181060Z services/etl/dialects/schemas.py:33: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
2025-08-17T20:50:35.0354425Z etl/load_csv.py:115: error: "PoolProxiedConnection" has no attribute "autocommit"  [attr-defined]
2025-08-17T20:50:35.0355737Z etl/load_csv.py:116: error: "DBAPICursor" has no attribute "__enter__"  [attr-defined]
2025-08-17T20:50:35.0356756Z etl/load_csv.py:116: error: "DBAPICursor" has no attribute "__exit__"  [attr-defined]
2025-08-17T20:50:35.0358510Z etl/load_csv.py:154: error: "DBAPICursor" has no attribute "__enter__"  [attr-defined]
2025-08-17T20:50:35.0359533Z etl/load_csv.py:154: error: "DBAPICursor" has no attribute "__exit__"  [attr-defined]
2025-08-17T20:50:35.0360498Z etl/load_csv.py:157: error: "DBAPICursor" has no attribute "__enter__"  [attr-defined]
2025-08-17T20:50:35.0361525Z etl/load_csv.py:157: error: "DBAPICursor" has no attribute "__exit__"  [attr-defined]
2025-08-17T20:50:35.0362466Z etl/load_csv.py:181: error: "DBAPICursor" has no attribute "__enter__"  [attr-defined]
2025-08-17T20:50:35.0363404Z etl/load_csv.py:181: error: "DBAPICursor" has no attribute "__exit__"  [attr-defined]
2025-08-17T20:50:35.0411667Z services/ingest/tasks.py:47: error: Untyped decorator makes function "task_import_file" untyped  [misc]
2025-08-17T20:50:35.0413049Z services/ingest/tasks.py:48: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
2025-08-17T20:50:35.0414896Z services/ingest/tasks.py:85: error: Untyped decorator makes function "task_rebuild_views" untyped  [misc]
2025-08-17T20:50:35.0416267Z services/ingest/tasks.py:86: error: Function is missing a type annotation for one or more arguments  [no-untyped-def]
2025-08-17T20:50:35.0424989Z services/etl/__init__.py:15: error: Returning Any from function declared to return "tuple[int, int]"  [no-any-return]
2025-08-17T20:50:35.0426154Z services/etl/__init__.py:15: error: Module has no attribute "main"  [attr-defined]
2025-08-17T20:50:35.0488438Z api/routers/ingest.py:38: error: Unsupported operand types for / ("Path" and "None")  [operator]
2025-08-17T20:50:35.0489520Z api/routers/ingest.py:38: note: Right operand is of type "str | None"
2025-08-17T20:50:35.0490431Z api/routers/ingest.py:56: error: Unused "type: ignore" comment  [unused-ignore]
2025-08-17T20:50:35.0703445Z Found 27 errors in 8 files (checked 87 source files)
