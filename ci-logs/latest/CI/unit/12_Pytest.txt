2025-08-18T10:34:22.7679263Z ##[group]Run pytest -q --cov=services
2025-08-18T10:34:22.7679856Z [36;1mpytest -q --cov=services[0m
2025-08-18T10:34:22.7729139Z shell: /usr/bin/bash -e {0}
2025-08-18T10:34:22.7729370Z env:
2025-08-18T10:34:22.7729536Z   PG_USER: postgres
2025-08-18T10:34:22.7729737Z   PG_PASSWORD: pass
2025-08-18T10:34:22.7729919Z   PG_DATABASE: awa
2025-08-18T10:34:22.7730091Z   PG_HOST: localhost
2025-08-18T10:34:22.7730269Z   PG_PORT: 5432
2025-08-18T10:34:22.7730694Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T10:34:22.7731203Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T10:34:22.7731930Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T10:34:22.7732366Z   DATA_DIR: /tmp/awa-data
2025-08-18T10:34:22.7732569Z   ENABLE_LIVE: 0
2025-08-18T10:34:22.7732740Z   TESTING: 1
2025-08-18T10:34:22.7732967Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:22.7733345Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T10:34:22.7733721Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:22.7734090Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:22.7734431Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:22.7734770Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T10:34:22.7735323Z ##[endgroup]
2025-08-18T10:34:28.8580196Z 
2025-08-18T10:34:28.8580751Z ==================================== ERRORS ====================================
2025-08-18T10:34:28.8581643Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T10:34:28.8582645Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T10:34:28.8583879Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8584674Z Traceback:
2025-08-18T10:34:28.8585861Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8587154Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8587893Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8588312Z tests/test_api_fast.py:4: in <module>
2025-08-18T10:34:28.8588723Z     from services.api.main import app
2025-08-18T10:34:28.8589181Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8589656Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8590244Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8591114Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T10:34:28.8591661Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T10:34:28.8592182Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8592493Z Traceback:
2025-08-18T10:34:28.8592858Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8593354Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8593668Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8593923Z tests/test_health.py:4: in <module>
2025-08-18T10:34:28.8594167Z     from services.api import db, main
2025-08-18T10:34:28.8594419Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8594718Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8595306Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8595707Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T10:34:28.8596224Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T10:34:28.8596729Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8597039Z Traceback:
2025-08-18T10:34:28.8597392Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8598128Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8598449Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8598700Z tests/test_smoke.py:6: in <module>
2025-08-18T10:34:28.8598948Z     from services.api import db, main
2025-08-18T10:34:28.8599202Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8599491Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8599873Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8600292Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T10:34:28.8600887Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T10:34:28.8601441Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8601741Z Traceback:
2025-08-18T10:34:28.8602104Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8602583Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8602887Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8603175Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T10:34:28.8603473Z     from services.api.main import app
2025-08-18T10:34:28.8603710Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8604000Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8604362Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8604759Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T10:34:28.8605535Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T10:34:28.8606073Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8606376Z Traceback:
2025-08-18T10:34:28.8606723Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8607200Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8607500Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8607767Z services/api/tests/test_health.py:4: in <module>
2025-08-18T10:34:28.8608044Z     from services.api.main import app
2025-08-18T10:34:28.8608422Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8608703Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8609055Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8609452Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T10:34:28.8609994Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T10:34:28.8610523Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:28.8610818Z Traceback:
2025-08-18T10:34:28.8611166Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:28.8611644Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:28.8611941Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:28.8612209Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T10:34:28.8612501Z     from services.api.main import _check_llm
2025-08-18T10:34:28.8612753Z services/api/main.py:7: in <module>
2025-08-18T10:34:28.8613035Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:28.8613392Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:28.8613727Z =============================== warnings summary ===============================
2025-08-18T10:34:28.8614021Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T10:34:28.8615507Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T10:34:28.8616623Z     import pkg_resources  # noqa: F401
2025-08-18T10:34:28.8616788Z 
2025-08-18T10:34:28.8616976Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T10:34:28.8617360Z =========================== short test summary info ============================
2025-08-18T10:34:28.8617647Z ERROR tests/test_api_fast.py
2025-08-18T10:34:28.8617870Z ERROR tests/test_health.py
2025-08-18T10:34:28.8618073Z ERROR tests/test_smoke.py
2025-08-18T10:34:28.8618304Z ERROR services/api/tests/test_errors_json.py
2025-08-18T10:34:28.8618574Z ERROR services/api/tests/test_health.py
2025-08-18T10:34:28.8618824Z ERROR services/api/tests/test_llm.py
2025-08-18T10:34:28.8619132Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T10:34:29.2050026Z ##[error]Process completed with exit code 2.
