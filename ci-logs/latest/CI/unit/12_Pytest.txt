2025-08-18T10:34:05.0184618Z ##[group]Run pytest -q --cov=services
2025-08-18T10:34:05.0184943Z [36;1mpytest -q --cov=services[0m
2025-08-18T10:34:05.0224812Z shell: /usr/bin/bash -e {0}
2025-08-18T10:34:05.0225048Z env:
2025-08-18T10:34:05.0225217Z   PG_USER: postgres
2025-08-18T10:34:05.0225409Z   PG_PASSWORD: pass
2025-08-18T10:34:05.0225606Z   PG_DATABASE: awa
2025-08-18T10:34:05.0225791Z   PG_HOST: localhost
2025-08-18T10:34:05.0225978Z   PG_PORT: 5432
2025-08-18T10:34:05.0226399Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T10:34:05.0226880Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T10:34:05.0227264Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T10:34:05.0227504Z   DATA_DIR: /tmp/awa-data
2025-08-18T10:34:05.0227705Z   ENABLE_LIVE: 0
2025-08-18T10:34:05.0227872Z   TESTING: 1
2025-08-18T10:34:05.0228106Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:05.0228501Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T10:34:05.0228873Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:05.0229255Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:05.0229594Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T10:34:05.0229932Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T10:34:05.0230586Z ##[endgroup]
2025-08-18T10:34:10.8277184Z 
2025-08-18T10:34:10.8278026Z ==================================== ERRORS ====================================
2025-08-18T10:34:10.8278797Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T10:34:10.8279846Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T10:34:10.8281126Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8281788Z Traceback:
2025-08-18T10:34:10.8282496Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8283290Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8283797Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8284184Z tests/test_api_fast.py:4: in <module>
2025-08-18T10:34:10.8284556Z     from services.api.main import app
2025-08-18T10:34:10.8284925Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8285422Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8286139Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8286896Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T10:34:10.8287740Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T10:34:10.8288597Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8289147Z Traceback:
2025-08-18T10:34:10.8289786Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8291049Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8291690Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8292151Z tests/test_health.py:4: in <module>
2025-08-18T10:34:10.8292602Z     from services.api import db, main
2025-08-18T10:34:10.8293077Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8293605Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8294281Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8295000Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T10:34:10.8295908Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T10:34:10.8296805Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8297367Z Traceback:
2025-08-18T10:34:10.8298016Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8299487Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8300048Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8300704Z tests/test_smoke.py:6: in <module>
2025-08-18T10:34:10.8301221Z     from services.api import db, main
2025-08-18T10:34:10.8301675Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8302199Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8302863Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8303615Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T10:34:10.8304663Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T10:34:10.8305674Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8306250Z Traceback:
2025-08-18T10:34:10.8306904Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8307805Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8308372Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8309208Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T10:34:10.8309754Z     from services.api.main import app
2025-08-18T10:34:10.8310228Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8310940Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8311605Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8312357Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T10:34:10.8313385Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T10:34:10.8314379Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8314947Z Traceback:
2025-08-18T10:34:10.8315594Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8316498Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8317066Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8317593Z services/api/tests/test_health.py:4: in <module>
2025-08-18T10:34:10.8318121Z     from services.api.main import app
2025-08-18T10:34:10.8318587Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8319103Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8319777Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8320707Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T10:34:10.8321796Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T10:34:10.8322793Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T10:34:10.8323360Z Traceback:
2025-08-18T10:34:10.8324018Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T10:34:10.8324903Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T10:34:10.8325493Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T10:34:10.8325986Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T10:34:10.8326503Z     from services.api.main import _check_llm
2025-08-18T10:34:10.8326990Z services/api/main.py:7: in <module>
2025-08-18T10:34:10.8327523Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T10:34:10.8328196Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T10:34:10.8328823Z =============================== warnings summary ===============================
2025-08-18T10:34:10.8329360Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T10:34:10.8331784Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T10:34:10.8333754Z     import pkg_resources  # noqa: F401
2025-08-18T10:34:10.8334061Z 
2025-08-18T10:34:10.8334401Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T10:34:10.8335113Z =========================== short test summary info ============================
2025-08-18T10:34:10.8335647Z ERROR tests/test_api_fast.py
2025-08-18T10:34:10.8336064Z ERROR tests/test_health.py
2025-08-18T10:34:10.8336453Z ERROR tests/test_smoke.py
2025-08-18T10:34:10.8336888Z ERROR services/api/tests/test_errors_json.py
2025-08-18T10:34:10.8337378Z ERROR services/api/tests/test_health.py
2025-08-18T10:34:10.8337839Z ERROR services/api/tests/test_llm.py
2025-08-18T10:34:10.8338414Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T10:34:11.1474466Z ##[error]Process completed with exit code 2.
