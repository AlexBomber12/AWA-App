2025-08-18T08:31:37.3782245Z ##[group]Run pytest -q --cov=services
2025-08-18T08:31:37.3782640Z [36;1mpytest -q --cov=services[0m
2025-08-18T08:31:37.3823976Z shell: /usr/bin/bash -e {0}
2025-08-18T08:31:37.3824242Z env:
2025-08-18T08:31:37.3824444Z   PG_USER: postgres
2025-08-18T08:31:37.3824675Z   PG_PASSWORD: pass
2025-08-18T08:31:37.3824890Z   PG_DATABASE: awa
2025-08-18T08:31:37.3825103Z   PG_HOST: localhost
2025-08-18T08:31:37.3825322Z   PG_PORT: 5432
2025-08-18T08:31:37.3825797Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T08:31:37.3826369Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T08:31:37.3826819Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T08:31:37.3827124Z   DATA_DIR: /tmp/awa-data
2025-08-18T08:31:37.3827366Z   ENABLE_LIVE: 0
2025-08-18T08:31:37.3827567Z   TESTING: 1
2025-08-18T08:31:37.3827845Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T08:31:37.3828316Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T08:31:37.3828785Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T08:31:37.3829242Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T08:31:37.3829919Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T08:31:37.3830344Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T08:31:37.3830697Z ##[endgroup]
2025-08-18T08:31:44.9584054Z 
2025-08-18T08:31:44.9585049Z ==================================== ERRORS ====================================
2025-08-18T08:31:44.9586250Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T08:31:44.9588044Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T08:31:44.9590238Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9591324Z Traceback:
2025-08-18T08:31:44.9592402Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9593614Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9594378Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9594980Z tests/test_api_fast.py:4: in <module>
2025-08-18T08:31:44.9595622Z     from services.api.main import app
2025-08-18T08:31:44.9596334Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9597230Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9598368Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9599714Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T08:31:44.9601206Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T08:31:44.9602074Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9602672Z Traceback:
2025-08-18T08:31:44.9603383Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9604392Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9605095Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9605624Z tests/test_health.py:4: in <module>
2025-08-18T08:31:44.9606141Z     from services.api import db, main
2025-08-18T08:31:44.9606657Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9607248Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9607996Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9608809Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T08:31:44.9610049Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T08:31:44.9611039Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9611624Z Traceback:
2025-08-18T08:31:44.9612278Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9613664Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9614255Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9614723Z tests/test_smoke.py:6: in <module>
2025-08-18T08:31:44.9615178Z     from services.api import db, main
2025-08-18T08:31:44.9615645Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9616187Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9616859Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9617622Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T08:31:44.9618792Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T08:31:44.9620033Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9620605Z Traceback:
2025-08-18T08:31:44.9621265Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9622165Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9622724Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9623258Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T08:31:44.9623807Z     from services.api.main import app
2025-08-18T08:31:44.9624274Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9624793Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9625460Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9626227Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T08:31:44.9627240Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T08:31:44.9628229Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9628790Z Traceback:
2025-08-18T08:31:44.9629655Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9630594Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9631162Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9631671Z services/api/tests/test_health.py:4: in <module>
2025-08-18T08:31:44.9632190Z     from services.api.main import app
2025-08-18T08:31:44.9632653Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9633175Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9634158Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9634977Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T08:31:44.9635974Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T08:31:44.9636959Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T08:31:44.9637510Z Traceback:
2025-08-18T08:31:44.9638172Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T08:31:44.9639060Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T08:31:44.9639820Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T08:31:44.9640331Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T08:31:44.9640852Z     from services.api.main import _check_llm
2025-08-18T08:31:44.9641379Z services/api/main.py:7: in <module>
2025-08-18T08:31:44.9641907Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T08:31:44.9642578Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T08:31:44.9643204Z =============================== warnings summary ===============================
2025-08-18T08:31:44.9643738Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T08:31:44.9645983Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T08:31:44.9647960Z     import pkg_resources  # noqa: F401
2025-08-18T08:31:44.9648281Z 
2025-08-18T08:31:44.9648617Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T08:31:44.9649305Z =========================== short test summary info ============================
2025-08-18T08:31:44.9650253Z ERROR tests/test_api_fast.py
2025-08-18T08:31:44.9650681Z ERROR tests/test_health.py
2025-08-18T08:31:44.9651073Z ERROR tests/test_smoke.py
2025-08-18T08:31:44.9651493Z ERROR services/api/tests/test_errors_json.py
2025-08-18T08:31:44.9651993Z ERROR services/api/tests/test_health.py
2025-08-18T08:31:44.9652519Z ERROR services/api/tests/test_llm.py
2025-08-18T08:31:44.9653096Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T08:31:45.4186842Z ##[error]Process completed with exit code 2.
