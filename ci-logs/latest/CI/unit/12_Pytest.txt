2025-08-18T09:07:52.1180144Z ##[group]Run pytest -q --cov=services
2025-08-18T09:07:52.1180462Z [36;1mpytest -q --cov=services[0m
2025-08-18T09:07:52.1220656Z shell: /usr/bin/bash -e {0}
2025-08-18T09:07:52.1220897Z env:
2025-08-18T09:07:52.1221068Z   PG_USER: postgres
2025-08-18T09:07:52.1221266Z   PG_PASSWORD: pass
2025-08-18T09:07:52.1221438Z   PG_DATABASE: awa
2025-08-18T09:07:52.1221617Z   PG_HOST: localhost
2025-08-18T09:07:52.1221796Z   PG_PORT: 5432
2025-08-18T09:07:52.1222219Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T09:07:52.1222716Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T09:07:52.1223094Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T09:07:52.1223328Z   DATA_DIR: /tmp/awa-data
2025-08-18T09:07:52.1223646Z   ENABLE_LIVE: 0
2025-08-18T09:07:52.1223820Z   TESTING: 1
2025-08-18T09:07:52.1224056Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:07:52.1224448Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T09:07:52.1224867Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:07:52.1225250Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:07:52.1225783Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:07:52.1226135Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T09:07:52.1226423Z ##[endgroup]
2025-08-18T09:07:58.2334874Z 
2025-08-18T09:07:58.2335606Z ==================================== ERRORS ====================================
2025-08-18T09:07:58.2336462Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T09:07:58.2337561Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T09:07:58.2338692Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2339342Z Traceback:
2025-08-18T09:07:58.2340140Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2341014Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2341528Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2341938Z tests/test_api_fast.py:4: in <module>
2025-08-18T09:07:58.2342385Z     from services.api.main import app
2025-08-18T09:07:58.2342770Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2343268Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2344440Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2344935Z     import structlog
2025-08-18T09:07:58.2345399Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2346019Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T09:07:58.2346956Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T09:07:58.2347900Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2348577Z Traceback:
2025-08-18T09:07:58.2349326Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2350394Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2351031Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2351494Z tests/test_health.py:4: in <module>
2025-08-18T09:07:58.2351941Z     from services.api import db, main
2025-08-18T09:07:58.2352390Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2352945Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2353732Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2354193Z     import structlog
2025-08-18T09:07:58.2354619Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2355280Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T09:07:58.2356206Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T09:07:58.2357714Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2358281Z Traceback:
2025-08-18T09:07:58.2358969Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2359887Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2360497Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2360967Z tests/test_smoke.py:6: in <module>
2025-08-18T09:07:58.2361421Z     from services.api import db, main
2025-08-18T09:07:58.2361876Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2362429Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2363005Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2363425Z     import structlog
2025-08-18T09:07:58.2364150Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2364868Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T09:07:58.2365955Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T09:07:58.2367300Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2367864Z Traceback:
2025-08-18T09:07:58.2368522Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2369421Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2370001Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2370547Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T09:07:58.2371097Z     from services.api.main import app
2025-08-18T09:07:58.2371556Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2372107Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2372683Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2373123Z     import structlog
2025-08-18T09:07:58.2373732Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2374434Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T09:07:58.2375483Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T09:07:58.2376488Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2377059Z Traceback:
2025-08-18T09:07:58.2377707Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2378632Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2379202Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2379717Z services/api/tests/test_health.py:4: in <module>
2025-08-18T09:07:58.2380246Z     from services.api.main import app
2025-08-18T09:07:58.2380703Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2381271Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2381854Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2382287Z     import structlog
2025-08-18T09:07:58.2382710Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2383402Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T09:07:58.2384630Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T09:07:58.2385628Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:07:58.2386197Z Traceback:
2025-08-18T09:07:58.2386858Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:07:58.2387747Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:07:58.2388313Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:07:58.2388806Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T09:07:58.2389590Z     from services.api.main import _check_llm
2025-08-18T09:07:58.2390095Z services/api/main.py:15: in <module>
2025-08-18T09:07:58.2390668Z     from services.api.errors import install_exception_handlers
2025-08-18T09:07:58.2391255Z services/api/errors.py:4: in <module>
2025-08-18T09:07:58.2391681Z     import structlog
2025-08-18T09:07:58.2392108Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:07:58.2392683Z =============================== warnings summary ===============================
2025-08-18T09:07:58.2393219Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T09:07:58.2395432Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T09:07:58.2397451Z     import pkg_resources  # noqa: F401
2025-08-18T09:07:58.2397781Z 
2025-08-18T09:07:58.2398132Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T09:07:58.2399102Z =========================== short test summary info ============================
2025-08-18T09:07:58.2399649Z ERROR tests/test_api_fast.py
2025-08-18T09:07:58.2400059Z ERROR tests/test_health.py
2025-08-18T09:07:58.2400447Z ERROR tests/test_smoke.py
2025-08-18T09:07:58.2400870Z ERROR services/api/tests/test_errors_json.py
2025-08-18T09:07:58.2401370Z ERROR services/api/tests/test_health.py
2025-08-18T09:07:58.2401839Z ERROR services/api/tests/test_llm.py
2025-08-18T09:07:58.2402398Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T09:07:58.5502340Z ##[error]Process completed with exit code 2.
