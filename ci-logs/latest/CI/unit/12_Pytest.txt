2025-08-18T12:08:57.1511809Z ##[group]Run pytest -q --cov=services
2025-08-18T12:08:57.1512134Z [36;1mpytest -q --cov=services[0m
2025-08-18T12:08:57.1551884Z shell: /usr/bin/bash -e {0}
2025-08-18T12:08:57.1552112Z env:
2025-08-18T12:08:57.1552282Z   PG_USER: postgres
2025-08-18T12:08:57.1552476Z   PG_PASSWORD: pass
2025-08-18T12:08:57.1552661Z   PG_DATABASE: awa
2025-08-18T12:08:57.1552848Z   PG_HOST: localhost
2025-08-18T12:08:57.1553039Z   PG_PORT: 5432
2025-08-18T12:08:57.1553478Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T12:08:57.1553961Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T12:08:57.1554341Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T12:08:57.1554571Z   DATA_DIR: /tmp/awa-data
2025-08-18T12:08:57.1554963Z   ENABLE_LIVE: 0
2025-08-18T12:08:57.1555144Z   TESTING: 1
2025-08-18T12:08:57.1555383Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T12:08:57.1555773Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T12:08:57.1556143Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T12:08:57.1556511Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T12:08:57.1556842Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T12:08:57.1557180Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T12:08:57.1557465Z ##[endgroup]
2025-08-18T12:09:04.3494462Z 
2025-08-18T12:09:04.3495454Z ==================================== ERRORS ====================================
2025-08-18T12:09:04.3496317Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T12:09:04.3497547Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T12:09:04.3498773Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3499572Z Traceback:
2025-08-18T12:09:04.3500354Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3501171Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3501676Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3502060Z tests/test_api_fast.py:4: in <module>
2025-08-18T12:09:04.3502457Z     from services.api.main import app
2025-08-18T12:09:04.3502882Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3503431Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3504502Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3505158Z     import structlog
2025-08-18T12:09:04.3505567Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3506209Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T12:09:04.3507154Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T12:09:04.3508157Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3508775Z Traceback:
2025-08-18T12:09:04.3509514Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3510407Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3510960Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3511424Z tests/test_health.py:4: in <module>
2025-08-18T12:09:04.3511871Z     from services.api import db, main
2025-08-18T12:09:04.3512327Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3512864Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3513425Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3513843Z     import structlog
2025-08-18T12:09:04.3514258Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3515096Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T12:09:04.3516061Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T12:09:04.3517374Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3517934Z Traceback:
2025-08-18T12:09:04.3518575Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3519459Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3520011Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3520496Z tests/test_smoke.py:6: in <module>
2025-08-18T12:09:04.3520935Z     from services.api import db, main
2025-08-18T12:09:04.3521384Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3521933Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3522499Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3522917Z     import structlog
2025-08-18T12:09:04.3523333Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3524014Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T12:09:04.3525249Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T12:09:04.3526246Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3526794Z Traceback:
2025-08-18T12:09:04.3527437Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3528307Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3528865Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3529397Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T12:09:04.3529935Z     from services.api.main import app
2025-08-18T12:09:04.3530380Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3530917Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3531488Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3531911Z     import structlog
2025-08-18T12:09:04.3532340Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3533008Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T12:09:04.3533999Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T12:09:04.3535156Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3536047Z Traceback:
2025-08-18T12:09:04.3536681Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3537539Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3538089Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3538589Z services/api/tests/test_health.py:4: in <module>
2025-08-18T12:09:04.3539083Z     from services.api.main import app
2025-08-18T12:09:04.3539532Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3540082Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3540640Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3541055Z     import structlog
2025-08-18T12:09:04.3541467Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3542120Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T12:09:04.3543072Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T12:09:04.3544024Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T12:09:04.3544576Z Traceback:
2025-08-18T12:09:04.3545414Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T12:09:04.3546290Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T12:09:04.3546833Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T12:09:04.3547331Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T12:09:04.3548088Z     from services.api.main import _check_llm
2025-08-18T12:09:04.3548561Z services/api/main.py:15: in <module>
2025-08-18T12:09:04.3549159Z     from services.api.errors import install_exception_handlers
2025-08-18T12:09:04.3549722Z services/api/errors.py:4: in <module>
2025-08-18T12:09:04.3550137Z     import structlog
2025-08-18T12:09:04.3550558Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T12:09:04.3551120Z =============================== warnings summary ===============================
2025-08-18T12:09:04.3551635Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T12:09:04.3553717Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T12:09:04.3555797Z     import pkg_resources  # noqa: F401
2025-08-18T12:09:04.3556113Z 
2025-08-18T12:09:04.3556453Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T12:09:04.3557128Z =========================== short test summary info ============================
2025-08-18T12:09:04.3557653Z ERROR tests/test_api_fast.py
2025-08-18T12:09:04.3558062Z ERROR tests/test_health.py
2025-08-18T12:09:04.3558435Z ERROR tests/test_smoke.py
2025-08-18T12:09:04.3558870Z ERROR services/api/tests/test_errors_json.py
2025-08-18T12:09:04.3559357Z ERROR services/api/tests/test_health.py
2025-08-18T12:09:04.3559813Z ERROR services/api/tests/test_llm.py
2025-08-18T12:09:04.3560350Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T12:09:04.6571984Z ##[error]Process completed with exit code 2.
