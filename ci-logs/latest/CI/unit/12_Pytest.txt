2025-08-18T11:56:05.8094629Z ##[group]Run pytest -q --cov=services
2025-08-18T11:56:05.8095032Z [36;1mpytest -q --cov=services[0m
2025-08-18T11:56:05.8134931Z shell: /usr/bin/bash -e {0}
2025-08-18T11:56:05.8135152Z env:
2025-08-18T11:56:05.8135322Z   PG_USER: postgres
2025-08-18T11:56:05.8135515Z   PG_PASSWORD: pass
2025-08-18T11:56:05.8135689Z   PG_DATABASE: awa
2025-08-18T11:56:05.8135870Z   PG_HOST: localhost
2025-08-18T11:56:05.8136055Z   PG_PORT: 5432
2025-08-18T11:56:05.8136470Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T11:56:05.8136955Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T11:56:05.8137333Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T11:56:05.8137567Z   DATA_DIR: /tmp/awa-data
2025-08-18T11:56:05.8137769Z   ENABLE_LIVE: 0
2025-08-18T11:56:05.8137935Z   TESTING: 1
2025-08-18T11:56:05.8138166Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T11:56:05.8138558Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T11:56:05.8139124Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T11:56:05.8139493Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T11:56:05.8139845Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T11:56:05.8140203Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T11:56:05.8140503Z ##[endgroup]
2025-08-18T11:56:11.8641656Z 
2025-08-18T11:56:11.8642433Z ==================================== ERRORS ====================================
2025-08-18T11:56:11.8647304Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T11:56:11.8648559Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T11:56:11.8649379Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8649853Z Traceback:
2025-08-18T11:56:11.8650416Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8651271Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8651845Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8652281Z tests/test_api_fast.py:4: in <module>
2025-08-18T11:56:11.8652696Z     from services.api.main import app
2025-08-18T11:56:11.8653106Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8653638Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8654189Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8654801Z     import structlog
2025-08-18T11:56:11.8655216Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8655881Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T11:56:11.8656819Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T11:56:11.8657773Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8658388Z Traceback:
2025-08-18T11:56:11.8659073Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8660025Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8660606Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8661094Z tests/test_health.py:4: in <module>
2025-08-18T11:56:11.8661542Z     from services.api import db, main
2025-08-18T11:56:11.8662015Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8662651Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8663231Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8663678Z     import structlog
2025-08-18T11:56:11.8664111Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8664977Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T11:56:11.8665955Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T11:56:11.8667277Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8667859Z Traceback:
2025-08-18T11:56:11.8668526Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8669460Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8670041Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8670502Z tests/test_smoke.py:6: in <module>
2025-08-18T11:56:11.8670959Z     from services.api import db, main
2025-08-18T11:56:11.8671417Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8671984Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8672561Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8672995Z     import structlog
2025-08-18T11:56:11.8673442Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8674145Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T11:56:11.8675757Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T11:56:11.8676822Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8677391Z Traceback:
2025-08-18T11:56:11.8678056Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8678991Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8679585Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8680120Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T11:56:11.8680671Z     from services.api.main import app
2025-08-18T11:56:11.8681129Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8681679Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8682270Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8682720Z     import structlog
2025-08-18T11:56:11.8683166Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8683856Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T11:56:11.8685897Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T11:56:11.8686957Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8687524Z Traceback:
2025-08-18T11:56:11.8688192Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8689116Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8689695Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8690205Z services/api/tests/test_health.py:4: in <module>
2025-08-18T11:56:11.8690727Z     from services.api.main import app
2025-08-18T11:56:11.8691201Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8691780Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8692362Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8692799Z     import structlog
2025-08-18T11:56:11.8693225Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8693935Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T11:56:11.8695175Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T11:56:11.8696182Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T11:56:11.8696744Z Traceback:
2025-08-18T11:56:11.8697409Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T11:56:11.8698331Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T11:56:11.8698914Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T11:56:11.8699425Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T11:56:11.8700238Z     from services.api.main import _check_llm
2025-08-18T11:56:11.8700730Z services/api/main.py:15: in <module>
2025-08-18T11:56:11.8701287Z     from services.api.errors import install_exception_handlers
2025-08-18T11:56:11.8701870Z services/api/errors.py:4: in <module>
2025-08-18T11:56:11.8702304Z     import structlog
2025-08-18T11:56:11.8702731Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T11:56:11.8703301Z =============================== warnings summary ===============================
2025-08-18T11:56:11.8703855Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T11:56:11.8706097Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T11:56:11.8708381Z     import pkg_resources  # noqa: F401
2025-08-18T11:56:11.8708717Z 
2025-08-18T11:56:11.8709064Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T11:56:11.8709793Z =========================== short test summary info ============================
2025-08-18T11:56:11.8710334Z ERROR tests/test_api_fast.py
2025-08-18T11:56:11.8710834Z ERROR tests/test_health.py
2025-08-18T11:56:11.8711231Z ERROR tests/test_smoke.py
2025-08-18T11:56:11.8711664Z ERROR services/api/tests/test_errors_json.py
2025-08-18T11:56:11.8712160Z ERROR services/api/tests/test_health.py
2025-08-18T11:56:11.8712641Z ERROR services/api/tests/test_llm.py
2025-08-18T11:56:11.8713226Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T11:56:12.1892666Z ##[error]Process completed with exit code 2.
