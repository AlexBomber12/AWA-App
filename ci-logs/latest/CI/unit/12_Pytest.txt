2025-08-18T15:27:00.3694002Z ##[group]Run pytest -q --cov=services
2025-08-18T15:27:00.3694369Z [36;1mpytest -q --cov=services[0m
2025-08-18T15:27:00.3733895Z shell: /usr/bin/bash -e {0}
2025-08-18T15:27:00.3734120Z env:
2025-08-18T15:27:00.3734323Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:27:00.3734594Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:27:00.3734812Z   TRUST_X_FORWARDED: 1
2025-08-18T15:27:00.3735017Z   PG_USER: postgres
2025-08-18T15:27:00.3735214Z   PG_PASSWORD: pass
2025-08-18T15:27:00.3735397Z   PG_DATABASE: awa
2025-08-18T15:27:00.3735573Z   PG_HOST: localhost
2025-08-18T15:27:00.3735755Z   PG_PORT: 5432
2025-08-18T15:27:00.3736148Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:27:00.3736543Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:27:00.3736914Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:27:00.3737272Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:27:00.3737477Z   ENABLE_LIVE: 0
2025-08-18T15:27:00.3737655Z   TESTING: 1
2025-08-18T15:27:00.3737884Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:27:00.3738304Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:27:00.3738683Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:27:00.3739030Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:27:00.3739373Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:27:00.3739709Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:27:00.3740015Z ##[endgroup]
2025-08-18T15:27:06.5972856Z 
2025-08-18T15:27:06.5973615Z ==================================== ERRORS ====================================
2025-08-18T15:27:06.5974430Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T15:27:06.5975461Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T15:27:06.5976559Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.5977730Z Traceback:
2025-08-18T15:27:06.5978579Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.5979467Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.5979977Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.5980362Z tests/test_api_fast.py:4: in <module>
2025-08-18T15:27:06.5980738Z     from services.api.main import app
2025-08-18T15:27:06.5981110Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.5981508Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.5982076Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.5982839Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T15:27:06.5983880Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T15:27:06.5984682Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.5985201Z Traceback:
2025-08-18T15:27:06.5985784Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.5986600Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.5987858Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.5988340Z tests/test_health.py:4: in <module>
2025-08-18T15:27:06.5988797Z     from services.api import db, main
2025-08-18T15:27:06.5989242Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.5989703Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.5990271Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.5990930Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T15:27:06.5991783Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T15:27:06.5992647Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.5993619Z Traceback:
2025-08-18T15:27:06.5994247Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.5995108Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.5995669Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.5996119Z tests/test_smoke.py:6: in <module>
2025-08-18T15:27:06.5996562Z     from services.api import db, main
2025-08-18T15:27:06.5997196Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.5997679Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.5998231Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.5998922Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T15:27:06.5999927Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T15:27:06.6000906Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.6001440Z Traceback:
2025-08-18T15:27:06.6002068Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.6002923Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.6003464Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.6003983Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T15:27:06.6004500Z     from services.api.main import app
2025-08-18T15:27:06.6004937Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.6005394Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.6005947Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.6006625Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T15:27:06.6007793Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T15:27:06.6008752Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.6009287Z Traceback:
2025-08-18T15:27:06.6009916Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.6010776Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.6011323Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.6011814Z services/api/tests/test_health.py:4: in <module>
2025-08-18T15:27:06.6012305Z     from services.api.main import app
2025-08-18T15:27:06.6012742Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.6013198Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.6013750Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.6014414Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T15:27:06.6015356Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T15:27:06.6016296Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.6016826Z Traceback:
2025-08-18T15:27:06.6017928Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.6018794Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.6019357Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.6019833Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T15:27:06.6020331Z     from services.api.main import _check_llm
2025-08-18T15:27:06.6020797Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.6021234Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.6021791Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.6022478Z ____________ ERROR collecting services/api/tests/test_rate_limit.py ____________
2025-08-18T15:27:06.6023724Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_rate_limit.py'.
2025-08-18T15:27:06.6024688Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:27:06.6025243Z Traceback:
2025-08-18T15:27:06.6025857Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:27:06.6026698Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:27:06.6027438Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.6027956Z services/api/tests/test_rate_limit.py:16: in <module>
2025-08-18T15:27:06.6028539Z     from services.api import main as api_main  # noqa: E402
2025-08-18T15:27:06.6029043Z     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:27:06.6029475Z services/api/main.py:11: in <module>
2025-08-18T15:27:06.6029927Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:27:06.6030471Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:27:06.6031063Z =============================== warnings summary ===============================
2025-08-18T15:27:06.6031581Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T15:27:06.6033428Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T15:27:06.6035339Z     import pkg_resources  # noqa: F401
2025-08-18T15:27:06.6035731Z 
2025-08-18T15:27:06.6036045Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T15:27:06.6036717Z =========================== short test summary info ============================
2025-08-18T15:27:06.6037488Z ERROR tests/test_api_fast.py
2025-08-18T15:27:06.6037886Z ERROR tests/test_health.py
2025-08-18T15:27:06.6038265Z ERROR tests/test_smoke.py
2025-08-18T15:27:06.6038689Z ERROR services/api/tests/test_errors_json.py
2025-08-18T15:27:06.6039156Z ERROR services/api/tests/test_health.py
2025-08-18T15:27:06.6039608Z ERROR services/api/tests/test_llm.py
2025-08-18T15:27:06.6040069Z ERROR services/api/tests/test_rate_limit.py
2025-08-18T15:27:06.6040643Z !!!!!!!!!!!!!!!!!!! Interrupted: 7 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T15:27:06.9205359Z ##[error]Process completed with exit code 2.
