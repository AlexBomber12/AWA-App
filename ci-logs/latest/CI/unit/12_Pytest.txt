2025-08-18T06:40:38.4230471Z ##[group]Run pytest -q --cov=services
2025-08-18T06:40:38.4230790Z [36;1mpytest -q --cov=services[0m
2025-08-18T06:40:38.4270607Z shell: /usr/bin/bash -e {0}
2025-08-18T06:40:38.4270827Z env:
2025-08-18T06:40:38.4271006Z   PG_USER: postgres
2025-08-18T06:40:38.4271206Z   PG_PASSWORD: pass
2025-08-18T06:40:38.4271386Z   PG_DATABASE: awa
2025-08-18T06:40:38.4271565Z   PG_HOST: localhost
2025-08-18T06:40:38.4271750Z   PG_PORT: 5432
2025-08-18T06:40:38.4272164Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T06:40:38.4272660Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T06:40:38.4273043Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T06:40:38.4273281Z   DATA_DIR: /tmp/awa-data
2025-08-18T06:40:38.4273480Z   ENABLE_LIVE: 0
2025-08-18T06:40:38.4273646Z   TESTING: 1
2025-08-18T06:40:38.4273874Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T06:40:38.4274261Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T06:40:38.4274639Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T06:40:38.4274998Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T06:40:38.4275338Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T06:40:38.4275676Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T06:40:38.4275954Z ##[endgroup]
2025-08-18T06:40:44.6220784Z 
2025-08-18T06:40:44.6221384Z ==================================== ERRORS ====================================
2025-08-18T06:40:44.6222918Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T06:40:44.6224188Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T06:40:44.6225317Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6225984Z Traceback:
2025-08-18T06:40:44.6226768Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6228124Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6228661Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6229084Z tests/test_api_fast.py:4: in <module>
2025-08-18T06:40:44.6229491Z     from services.api.main import app
2025-08-18T06:40:44.6229810Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6230115Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6230488Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6230889Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T06:40:44.6231407Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T06:40:44.6231907Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6232215Z Traceback:
2025-08-18T06:40:44.6232568Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6233053Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6233354Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6233609Z tests/test_health.py:4: in <module>
2025-08-18T06:40:44.6233842Z     from services.api import db, main
2025-08-18T06:40:44.6234085Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6234363Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6234721Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6235103Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T06:40:44.6235609Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T06:40:44.6236088Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6236388Z Traceback:
2025-08-18T06:40:44.6236741Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6237527Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6238037Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6238288Z tests/test_smoke.py:6: in <module>
2025-08-18T06:40:44.6238529Z     from services.api import db, main
2025-08-18T06:40:44.6238766Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6239047Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6239416Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6239826Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T06:40:44.6240400Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T06:40:44.6240960Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6241258Z Traceback:
2025-08-18T06:40:44.6241614Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6242093Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6242398Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6242685Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T06:40:44.6242974Z     from services.api.main import app
2025-08-18T06:40:44.6243221Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6243647Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6244004Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6244416Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T06:40:44.6244987Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T06:40:44.6245528Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6245827Z Traceback:
2025-08-18T06:40:44.6246190Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6246682Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6246989Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6247275Z services/api/tests/test_health.py:4: in <module>
2025-08-18T06:40:44.6247733Z     from services.api.main import app
2025-08-18T06:40:44.6248004Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6248289Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6248651Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6249050Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T06:40:44.6249595Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T06:40:44.6250124Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T06:40:44.6250428Z Traceback:
2025-08-18T06:40:44.6250778Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T06:40:44.6251249Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T06:40:44.6251554Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T06:40:44.6251818Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T06:40:44.6252100Z     from services.api.main import _check_llm
2025-08-18T06:40:44.6252357Z services/api/main.py:7: in <module>
2025-08-18T06:40:44.6252638Z     from asgi_correlation_id import CorrelationIdMiddleware
2025-08-18T06:40:44.6252991Z E   ModuleNotFoundError: No module named 'asgi_correlation_id'
2025-08-18T06:40:44.6253327Z =============================== warnings summary ===============================
2025-08-18T06:40:44.6253618Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T06:40:44.6254861Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T06:40:44.6256028Z     import pkg_resources  # noqa: F401
2025-08-18T06:40:44.6256194Z 
2025-08-18T06:40:44.6256379Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T06:40:44.6256772Z =========================== short test summary info ============================
2025-08-18T06:40:44.6257063Z ERROR tests/test_api_fast.py
2025-08-18T06:40:44.6257284Z ERROR tests/test_health.py
2025-08-18T06:40:44.6257488Z ERROR tests/test_smoke.py
2025-08-18T06:40:44.6257890Z ERROR services/api/tests/test_errors_json.py
2025-08-18T06:40:44.6258158Z ERROR services/api/tests/test_health.py
2025-08-18T06:40:44.6258406Z ERROR services/api/tests/test_llm.py
2025-08-18T06:40:44.6258719Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T06:40:44.9642246Z ##[error]Process completed with exit code 2.
