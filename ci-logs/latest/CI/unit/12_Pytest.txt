2025-08-18T15:32:36.9357335Z ##[group]Run pytest -q --cov=services
2025-08-18T15:32:36.9357654Z [36;1mpytest -q --cov=services[0m
2025-08-18T15:32:36.9397937Z shell: /usr/bin/bash -e {0}
2025-08-18T15:32:36.9398165Z env:
2025-08-18T15:32:36.9398365Z   REDIS_URL: redis://localhost:6379/0
2025-08-18T15:32:36.9398620Z   RATE_LIMIT_DEFAULT: 100/minute
2025-08-18T15:32:36.9398837Z   TRUST_X_FORWARDED: 1
2025-08-18T15:32:36.9399030Z   PG_USER: postgres
2025-08-18T15:32:36.9399404Z   PG_PASSWORD: pass
2025-08-18T15:32:36.9399577Z   PG_DATABASE: awa
2025-08-18T15:32:36.9399754Z   PG_HOST: localhost
2025-08-18T15:32:36.9399934Z   PG_PORT: 5432
2025-08-18T15:32:36.9400337Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T15:32:36.9400737Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T15:32:36.9401099Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T15:32:36.9401333Z   DATA_DIR: /tmp/awa-data
2025-08-18T15:32:36.9401539Z   ENABLE_LIVE: 0
2025-08-18T15:32:36.9401705Z   TESTING: 1
2025-08-18T15:32:36.9401935Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:32:36.9402358Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T15:32:36.9402744Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:32:36.9403086Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:32:36.9403436Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T15:32:36.9403781Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T15:32:36.9404082Z ##[endgroup]
2025-08-18T15:32:43.0415908Z 
2025-08-18T15:32:43.0416643Z ==================================== ERRORS ====================================
2025-08-18T15:32:43.0417383Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T15:32:43.0418551Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T15:32:43.0419829Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0420629Z Traceback:
2025-08-18T15:32:43.0421490Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0422657Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0423214Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0423656Z tests/test_api_fast.py:4: in <module>
2025-08-18T15:32:43.0424105Z     from services.api.main import app
2025-08-18T15:32:43.0424533Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0424981Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0425712Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0426376Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T15:32:43.0427251Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T15:32:43.0428107Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0428649Z Traceback:
2025-08-18T15:32:43.0429265Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0430155Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0430730Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0431214Z tests/test_health.py:4: in <module>
2025-08-18T15:32:43.0431697Z     from services.api import db, main
2025-08-18T15:32:43.0432159Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0432652Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0433246Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0433965Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T15:32:43.0434914Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T15:32:43.0436058Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0437114Z Traceback:
2025-08-18T15:32:43.0437788Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0438737Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0439329Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0439804Z tests/test_smoke.py:6: in <module>
2025-08-18T15:32:43.0440539Z     from services.api import db, main
2025-08-18T15:32:43.0441058Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0441552Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0442149Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0442902Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T15:32:43.0444005Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T15:32:43.0445278Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0445863Z Traceback:
2025-08-18T15:32:43.0446519Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0447447Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0448027Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0448589Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T15:32:43.0449149Z     from services.api.main import app
2025-08-18T15:32:43.0449626Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0450119Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0450715Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0451466Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T15:32:43.0452552Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T15:32:43.0453599Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0454177Z Traceback:
2025-08-18T15:32:43.0454840Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0455995Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0456567Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0457099Z services/api/tests/test_health.py:4: in <module>
2025-08-18T15:32:43.0457627Z     from services.api.main import app
2025-08-18T15:32:43.0458091Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0458572Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0459164Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0459900Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T15:32:43.0460945Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T15:32:43.0461977Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0462556Z Traceback:
2025-08-18T15:32:43.0463214Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0464131Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0464726Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0465428Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T15:32:43.0465953Z     from services.api.main import _check_llm
2025-08-18T15:32:43.0466444Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0466929Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0467508Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0468264Z ____________ ERROR collecting services/api/tests/test_rate_limit.py ____________
2025-08-18T15:32:43.0469640Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_rate_limit.py'.
2025-08-18T15:32:43.0470699Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T15:32:43.0471334Z Traceback:
2025-08-18T15:32:43.0472011Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T15:32:43.0473188Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T15:32:43.0473764Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0474312Z services/api/tests/test_rate_limit.py:16: in <module>
2025-08-18T15:32:43.0474935Z     from services.api import main as api_main  # noqa: E402
2025-08-18T15:32:43.0475745Z     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T15:32:43.0476202Z services/api/main.py:11: in <module>
2025-08-18T15:32:43.0476686Z     from fastapi_limiter import FastAPILimiter
2025-08-18T15:32:43.0477278Z E   ModuleNotFoundError: No module named 'fastapi_limiter'
2025-08-18T15:32:43.0478060Z =============================== warnings summary ===============================
2025-08-18T15:32:43.0478614Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T15:32:43.0480678Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T15:32:43.0482763Z     import pkg_resources  # noqa: F401
2025-08-18T15:32:43.0483073Z 
2025-08-18T15:32:43.0483411Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T15:32:43.0484133Z =========================== short test summary info ============================
2025-08-18T15:32:43.0484681Z ERROR tests/test_api_fast.py
2025-08-18T15:32:43.0485279Z ERROR tests/test_health.py
2025-08-18T15:32:43.0485681Z ERROR tests/test_smoke.py
2025-08-18T15:32:43.0486123Z ERROR services/api/tests/test_errors_json.py
2025-08-18T15:32:43.0486623Z ERROR services/api/tests/test_health.py
2025-08-18T15:32:43.0487096Z ERROR services/api/tests/test_llm.py
2025-08-18T15:32:43.0487566Z ERROR services/api/tests/test_rate_limit.py
2025-08-18T15:32:43.0488166Z !!!!!!!!!!!!!!!!!!! Interrupted: 7 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T15:32:43.3594271Z ##[error]Process completed with exit code 2.
