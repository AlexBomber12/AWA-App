2025-08-18T09:00:36.0077351Z ##[group]Run pytest -q --cov=services
2025-08-18T09:00:36.0077891Z [36;1mpytest -q --cov=services[0m
2025-08-18T09:00:36.0124425Z shell: /usr/bin/bash -e {0}
2025-08-18T09:00:36.0124688Z env:
2025-08-18T09:00:36.0124869Z   PG_USER: postgres
2025-08-18T09:00:36.0125074Z   PG_PASSWORD: pass
2025-08-18T09:00:36.0125256Z   PG_DATABASE: awa
2025-08-18T09:00:36.0125447Z   PG_HOST: localhost
2025-08-18T09:00:36.0125639Z   PG_PORT: 5432
2025-08-18T09:00:36.0127020Z   PG_SYNC_DSN: ***localhost:5432/awa
2025-08-18T09:00:36.0127524Z   PG_ASYNC_DSN: ***localhost:5432/awa
2025-08-18T09:00:36.0128245Z   DATABASE_URL: ***localhost:5432/awa
2025-08-18T09:00:36.0128692Z   DATA_DIR: /tmp/awa-data
2025-08-18T09:00:36.0128914Z   ENABLE_LIVE: 0
2025-08-18T09:00:36.0129089Z   TESTING: 1
2025-08-18T09:00:36.0129323Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:00:36.0129730Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-08-18T09:00:36.0130128Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:00:36.0130530Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:00:36.0130882Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-08-18T09:00:36.0131474Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-08-18T09:00:36.0131766Z ##[endgroup]
2025-08-18T09:00:42.2116370Z 
2025-08-18T09:00:42.2116908Z ==================================== ERRORS ====================================
2025-08-18T09:00:42.2117757Z ___________________ ERROR collecting tests/test_api_fast.py ____________________
2025-08-18T09:00:42.2118828Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_api_fast.py'.
2025-08-18T09:00:42.2120108Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2120880Z Traceback:
2025-08-18T09:00:42.2121724Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2122925Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2123503Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2123951Z tests/test_api_fast.py:4: in <module>
2025-08-18T09:00:42.2124413Z     from services.api.main import app
2025-08-18T09:00:42.2124848Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2125371Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2126195Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2126623Z     import structlog
2025-08-18T09:00:42.2127039Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2127694Z ____________________ ERROR collecting tests/test_health.py _____________________
2025-08-18T09:00:42.2128533Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_health.py'.
2025-08-18T09:00:42.2129396Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2129931Z Traceback:
2025-08-18T09:00:42.2130625Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2131508Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2132117Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2132600Z tests/test_health.py:4: in <module>
2025-08-18T09:00:42.2133062Z     from services.api import db, main
2025-08-18T09:00:42.2133522Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2134098Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2134685Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2135129Z     import structlog
2025-08-18T09:00:42.2135569Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2136459Z _____________________ ERROR collecting tests/test_smoke.py _____________________
2025-08-18T09:00:42.2137398Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/tests/test_smoke.py'.
2025-08-18T09:00:42.2139020Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2139621Z Traceback:
2025-08-18T09:00:42.2140285Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2141225Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2141822Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2142316Z tests/test_smoke.py:6: in <module>
2025-08-18T09:00:42.2142775Z     from services.api import db, main
2025-08-18T09:00:42.2143253Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2143820Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2144411Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2144865Z     import structlog
2025-08-18T09:00:42.2145313Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2146255Z ___________ ERROR collecting services/api/tests/test_errors_json.py ____________
2025-08-18T09:00:42.2147391Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_errors_json.py'.
2025-08-18T09:00:42.2148750Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2149326Z Traceback:
2025-08-18T09:00:42.2150045Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2151026Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2151608Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2152157Z services/api/tests/test_errors_json.py:8: in <module>
2025-08-18T09:00:42.2152718Z     from services.api.main import app
2025-08-18T09:00:42.2153187Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2153757Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2154334Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2154797Z     import structlog
2025-08-18T09:00:42.2155234Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2156121Z ______________ ERROR collecting services/api/tests/test_health.py ______________
2025-08-18T09:00:42.2157214Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_health.py'.
2025-08-18T09:00:42.2158241Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2158814Z Traceback:
2025-08-18T09:00:42.2159468Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2160374Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2160955Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2161474Z services/api/tests/test_health.py:4: in <module>
2025-08-18T09:00:42.2162008Z     from services.api.main import app
2025-08-18T09:00:42.2162480Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2163050Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2163640Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2164093Z     import structlog
2025-08-18T09:00:42.2164558Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2165248Z _______________ ERROR collecting services/api/tests/test_llm.py ________________
2025-08-18T09:00:42.2166462Z ImportError while importing test module '/home/runner/work/AWA-App/AWA-App/services/api/tests/test_llm.py'.
2025-08-18T09:00:42.2167471Z Hint: make sure your test modules/packages have valid Python names.
2025-08-18T09:00:42.2168048Z Traceback:
2025-08-18T09:00:42.2168714Z /opt/hostedtoolcache/Python/3.12.11/x64/lib/python3.12/importlib/__init__.py:90: in import_module
2025-08-18T09:00:42.2169624Z     return _bootstrap._gcd_import(name[level:], package, level)
2025-08-18T09:00:42.2170215Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-08-18T09:00:42.2170723Z services/api/tests/test_llm.py:7: in <module>
2025-08-18T09:00:42.2171569Z     from services.api.main import _check_llm
2025-08-18T09:00:42.2172074Z services/api/main.py:15: in <module>
2025-08-18T09:00:42.2172649Z     from services.api.errors import install_exception_handlers
2025-08-18T09:00:42.2173240Z services/api/errors.py:4: in <module>
2025-08-18T09:00:42.2173691Z     import structlog
2025-08-18T09:00:42.2174118Z E   ModuleNotFoundError: No module named 'structlog'
2025-08-18T09:00:42.2174710Z =============================== warnings summary ===============================
2025-08-18T09:00:42.2175275Z services/alert_bot/tests/test_smoke.py:5
2025-08-18T09:00:42.2177434Z   /home/runner/work/AWA-App/AWA-App/services/alert_bot/tests/test_smoke.py:5: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
2025-08-18T09:00:42.2179427Z     import pkg_resources  # noqa: F401
2025-08-18T09:00:42.2179772Z 
2025-08-18T09:00:42.2180115Z -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
2025-08-18T09:00:42.2181120Z =========================== short test summary info ============================
2025-08-18T09:00:42.2181690Z ERROR tests/test_api_fast.py
2025-08-18T09:00:42.2182115Z ERROR tests/test_health.py
2025-08-18T09:00:42.2182514Z ERROR tests/test_smoke.py
2025-08-18T09:00:42.2182968Z ERROR services/api/tests/test_errors_json.py
2025-08-18T09:00:42.2183469Z ERROR services/api/tests/test_health.py
2025-08-18T09:00:42.2183955Z ERROR services/api/tests/test_llm.py
2025-08-18T09:00:42.2184526Z !!!!!!!!!!!!!!!!!!! Interrupted: 6 errors during collection !!!!!!!!!!!!!!!!!!!!
2025-08-18T09:00:42.6145976Z ##[error]Process completed with exit code 2.
