2025-09-04T19:44:04.1670749Z ##[group]Run ruff check .
2025-09-04T19:44:04.1671184Z [36;1mruff check .[0m
2025-09-04T19:44:04.1671388Z [36;1mruff format --check .[0m
2025-09-04T19:44:04.1671601Z [36;1mvulture[0m
2025-09-04T19:44:04.1701981Z shell: /usr/bin/bash -e {0}
2025-09-04T19:44:04.1702204Z env:
2025-09-04T19:44:04.1702400Z   REDIS_URL: redis://localhost:6379/0
2025-09-04T19:44:04.1702657Z   RATE_LIMIT_DEFAULT: 100/minute
2025-09-04T19:44:04.1702879Z   TRUST_X_FORWARDED: 1
2025-09-04T19:44:04.1703082Z   PG_USER: postgres
2025-09-04T19:44:04.1703263Z   PG_PASSWORD: pass
2025-09-04T19:44:04.1703440Z   PG_DATABASE: awa
2025-09-04T19:44:04.1703617Z   PG_HOST: localhost
2025-09-04T19:44:04.1703789Z   PG_PORT: 5432
2025-09-04T19:44:04.1704209Z   PG_SYNC_DSN: ***postgres:5432/awa
2025-09-04T19:44:04.1704596Z   PG_ASYNC_DSN: ***postgres:5432/awa
2025-09-04T19:44:04.1704963Z   DATABASE_URL: ***localhost:5432/awa
2025-09-04T19:44:04.1705195Z   DATA_DIR: /tmp/awa-data
2025-09-04T19:44:04.1705388Z   ENABLE_LIVE: 0
2025-09-04T19:44:04.1705605Z   TESTING: 1
2025-09-04T19:44:04.1705827Z   pythonLocation: /opt/hostedtoolcache/Python/3.12.11/x64
2025-09-04T19:44:04.1706212Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib/pkgconfig
2025-09-04T19:44:04.1706590Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-09-04T19:44:04.1706924Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-09-04T19:44:04.1707266Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.12.11/x64
2025-09-04T19:44:04.1707611Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.12.11/x64/lib
2025-09-04T19:44:04.1707904Z ##[endgroup]
2025-09-04T19:44:04.1989860Z invalid-syntax: Cannot reuse outer quote character in f-strings on Python 3.11 (syntax was added in Python 3.12)
2025-09-04T19:44:04.1990790Z   --> services/common/dsn.py:37:37
2025-09-04T19:44:04.1991373Z    |
2025-09-04T19:44:04.1991647Z 35 |                 auth += "@"
2025-09-04T19:44:04.1992190Z 36 |             effective_port = port or (str(parsed.port) if parsed.port else "")
2025-09-04T19:44:04.1993247Z 37 |             netloc = f"{auth}{host}{":" + effective_port if effective_port else ''}"
2025-09-04T19:44:04.1993799Z    |                                     ^
2025-09-04T19:44:04.1994241Z 38 |             u = parsed._replace(netloc=netloc).geturl()
2025-09-04T19:44:04.1994677Z 39 |         return u
2025-09-04T19:44:04.1994968Z    |
2025-09-04T19:44:04.1995112Z 
2025-09-04T19:44:04.1995299Z I001 [*] Import block is un-sorted or un-formatted
2025-09-04T19:44:04.1995778Z   --> services/etl/healthcheck.py:1:1
2025-09-04T19:44:04.1996168Z    |
2025-09-04T19:44:04.1996455Z  1 | / from __future__ import annotations
2025-09-04T19:44:04.1996847Z  2 | |
2025-09-04T19:44:04.1997090Z  3 | | import os
2025-09-04T19:44:04.1997351Z  4 | | import sys
2025-09-04T19:44:04.1997640Z  5 | | import time
2025-09-04T19:44:04.1997992Z  6 | | from urllib.request import Request, urlopen
2025-09-04T19:44:04.1998505Z  7 | | from urllib.parse import urlparse, urlunparse
2025-09-04T19:44:04.1998937Z  8 | |
2025-09-04T19:44:04.1999215Z  9 | | import psycopg
2025-09-04T19:44:04.1999508Z 10 | |
2025-09-04T19:44:04.1999805Z 11 | | from services.common.dsn import build_dsn
2025-09-04T19:44:04.2000264Z    | |_________________________________________^
2025-09-04T19:44:04.2000650Z    |
2025-09-04T19:44:04.2001055Z help: Organize imports
2025-09-04T19:44:04.2001277Z 
2025-09-04T19:44:04.2001391Z Found 2 errors.
2025-09-04T19:44:04.2001764Z [*] 1 fixable with the `--fix` option.
2025-09-04T19:44:04.2017093Z ##[error]Process completed with exit code 1.
