.....s........................sssssss................................... [ 28%]
........................................................................ [ 56%]
........................................................................ [ 84%]
.........................................                                [100%]
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.13-final-0 _______________

Name                                         Stmts   Miss  Cover   Missing
--------------------------------------------------------------------------
packages/awa_common/__init__.py                  2      2     0%   1-3
packages/awa_common/awa_common/__init__.py      11      1    91%   11
packages/awa_common/base.py                      3      0   100%
packages/awa_common/config.py                    4      0   100%
packages/awa_common/db.py                       34      2    94%   40, 43
packages/awa_common/db_url.py                    4      0   100%
packages/awa_common/dsn.py                      96     12    88%   23, 32, 40, 42, 51, 58-60, 87, 95, 101, 167
packages/awa_common/keepa.py                     7      0   100%
packages/awa_common/llm.py                      65      0   100%
packages/awa_common/models_vendor.py            24      0   100%
packages/awa_common/settings.py                 34      2    94%   21, 55
services/api/__init__.py                         0      0   100%
services/api/db.py                              16      3    81%   23-24, 28
services/api/errors.py                          39      0   100%
services/api/logging_config.py                  15      0   100%
services/api/main.py                           171     14    92%   56, 59, 78, 91-93, 100-101, 208-209, 211, 223, 247-248
services/api/models/__init__.py                  0      0   100%
services/api/models/fee.py                      11     11     0%   1-14
services/api/roi_repository.py                  21      6    71%   63-68
services/api/routes/__init__.py                  0      0   100%
services/api/routes/health.py                   19      0   100%
services/api/routes/ingest.py                   43      4    91%   28-29, 34, 39
services/api/routes/repository.py               16      0   100%
services/api/routes/roi.py                      76      4    95%   97, 128-130
services/api/routes/score.py                    56      7    88%   27-33, 40-41, 69
services/api/routes/sku.py                      53      0   100%
services/api/routes/stats.py                    49     12    76%   14-17, 22-23, 29-31, 54, 81, 112-113
services/api/routes/upload.py                   22      4    82%   19-22
services/api/security.py                        10      0   100%
services/api/sentry_config.py                   66     12    82%   31, 52, 63-67, 69, 78-79, 91, 93
services/worker/__init__.py                      0      0   100%
services/worker/celery_app.py                   48      0   100%
services/worker/copy_loader.py                  57     10    82%   18, 56, 90, 95-98, 101, 106-109
services/worker/email_watcher.py                50      3    94%   48, 51, 76
services/worker/healthcheck.py                  48     14    71%   17-20, 24-27, 31-35, 56, 58, 70
services/worker/ingest_router.py                 8      0   100%
services/worker/maintenance.py                  40      0   100%
services/worker/ready.py                        22      2    91%   35-36
services/worker/repricer/__init__.py             0      0   100%
services/worker/repricer/app/__init__.py         0      0   100%
services/worker/repricer/app/deps.py             0      0   100%
services/worker/repricer/app/logic.py           46      2    96%   15, 61
services/worker/repricer/app/main.py           101     11    89%   47-51, 67, 75, 82, 109, 144, 197
services/worker/repricer/app/schemas.py         36      0   100%
services/worker/tasks.py                        56     15    73%   19-36, 44
--------------------------------------------------------------------------
TOTAL                                         1479    153    90%
Coverage XML written to file coverage.xml
